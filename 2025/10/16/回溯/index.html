<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="è®°å½•ç‚¹æ»´ï¼Œå…±åŒè¿›æ­¥">
    <meta name="author" content="stellogic">
    
    <title>
        
            å›æº¯ |
        
        stellogicçš„ä¸ªäººç©ºé—´
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/brands.min.css">
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"stellogic.github.io","root":"/","language":"zh-CN"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"stellogicçš„ä¸ªäººç©ºé—´","author":"stellogic","avatar":"/images/avatar.jpg","logo":null,"favicon":null},"menu":{"home":"/ || fa-solid fa-home","archives":"/archives || fa-solid fa-box-archive","categories":"/categories || fa-solid fa-layer-group","tags":"/tags || fa-solid fa-tags","links":"/links || fa-solid fa-link","about":"/about || fa-solid fa-user-graduate"},"first_screen":{"enable":true,"background_img":"/images/bg.svg","background_img_dark":"/images/bg2.svg","description":"æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´ || è®°å½•ç‚¹æ»´ï¼Œå…±åŒè¿›æ­¥","hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/stellogic","weixin":null,"qq":null,"weibo":null,"zhihu":"https://www.zhihu.com/people/stellogic","twitter":null,"x":null,"facebook":null,"email":"mack12399@outlook.com"}},"scroll":{"progress_bar":true,"percent":true,"hide_header":false},"home":{"announcement":"ğŸ“šWe are together","category":true,"tag":true,"post_datetime":"updated"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":false,"img_link":null,"text":null,"icon":null}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"giscus","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.39"},"waline":{"server_url":null,"reaction":false,"version":"3.3.2"},"giscus":{"repo":"Stellogic/Stellogic.github.io","repo_id":"R_kgDOOkF4SA","category":"Announcements","category_id":"DIC_kwDOOkF4SM4Cp-Ln","reactions_enabled":true},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":true},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"jsdelivr"},"pjax":{"enable":false},"footer":{"since":2025,"word_count":true,"site_deploy":{"enable":true,"provider":"github","url":"https://stellogic.github.io/"},"record":{"enable":false,"list":[{"code":null,"link":null}]}},"inject":{"enable":false,"css":[null],"js":[null]},"root":"","source_data":{},"version":"4.2.5"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
            <a class="site-name border-box" href="/">
               stellogicçš„ä¸ªäººç©ºé—´
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-home"></i>
                                
                                é¦–é¡µ
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                
                                å½’æ¡£
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/categories">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                
                                åˆ†ç±»
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/tags">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-tags"></i>
                                
                                æ ‡ç­¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/links">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-link"></i>
                                
                                å‹é“¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/about">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-user-graduate"></i>
                                
                                å…³äº
                                
                            </a>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-home"></i>
                                </span>
                            
                            é¦–é¡µ
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                </span>
                            
                            å½’æ¡£
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/categories">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                </span>
                            
                            åˆ†ç±»
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-tags"></i>
                                </span>
                            
                            æ ‡ç­¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/links">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-link"></i>
                                </span>
                            
                            å‹é“¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/about">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-user-graduate"></i>
                                </span>
                            
                            å…³äº
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        å›æº¯
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/avatar.jpg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">stellogic</span>
                                
                                    <span class="author-badge">Two</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2025-10-16 08:16:04</span>
            </span>

            
                <span class="meta-info-item post-update-date">
                    <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                    <span class="datetime" data-updated="Thu Oct 16 2025 08:16:04 GMT+0800">2025-10-16 08:16:04</span>
                </span>
            
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/%E5%8A%9B%E6%89%A3hot100/">åŠ›æ‰£hot100</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E5%9B%9E%E6%BA%AF/">å›æº¯</a></li>
                        
                    
                </ul>
            </span>
        

        
        
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <p><a href="../%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF.md">å›æº¯.md</a></p>
<h1 id="46-å…¨æ’åˆ—"><a href="#46-å…¨æ’åˆ—" class="headerlink" title="46. å…¨æ’åˆ—"></a>46. å…¨æ’åˆ—</h1><p>ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [1,2,3]<br>è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [0,1]<br>è¾“å‡ºï¼š[[0,1],[1,0]]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [1]<br>è¾“å‡ºï¼š[[1]]</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; nums.length &lt;&#x3D; 6<br>-10 &lt;&#x3D; nums[i] &lt;&#x3D; 10<br>nums ä¸­çš„æ‰€æœ‰æ•´æ•° äº’ä¸ç›¸åŒ</p>
<hr>
<p>ç»å…¸å›æº¯ï¼Œ</p>
<p>å¥—ç”¨æ¡†æ¶ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        permuteHelper(nums);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">permuteHelper</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (path.size() == nums.length) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">//ç›´æ¥è¿”å›å³å¯ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åˆ°äº†è·¯å¾„æœ€æœ«ç«¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> choice : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (path.contains(choice)) &#123;<span class="comment">///å‰ªæ</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            path.add(choice);<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">            permuteHelper(nums); <span class="comment">//ç»§ç»­é€‰æ‹©</span></span><br><span class="line">            path.remove(path.size() - <span class="number">1</span>);<span class="comment">//å›é€€</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>åˆ—è¡¨æ·»åŠ ä¸œè¥¿ï¼Œé™¤äº†åŸºæœ¬æ•°æ®ç±»å‹æ¯”å¦‚intç­‰ï¼ŒåŠ å…¥çš„éƒ½æ˜¯å¼•ç”¨ï¼ˆå°±æ˜¯æŒ‡é’ˆï¼‰,å› æ­¤æ·»åŠ è¦åˆ›å»ºæ–°çš„å¯¹è±¡</li>
<li>æ—¶é—´å¤æ‚åº¦O(n^2 * n!),ç©ºé—´å¤æ‚åº¦O(n)ã€‚ä¸å¯¹å§ï¼ŒèŠ‚ç‚¹æ•°åº”è¯¥æ˜¯O(n + n(n-1) + n(n-2) + â€¦â€¦+n!)ç­‰äºO(n!)ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„éœ€è¦O(1+2+3+â€¦â€¦n)&#x3D;O(n^2)ï¼Œå› æ­¤æœ€ç»ˆæ˜¯O(n^2*n!)</li>
<li>å®é™…ä¸Šå¯ä»¥ä¼˜åŒ–ã€‚å› ä¸ºpath.contains(choice)æœ‰ä¸€ä¸ªO(n)çš„å¤æ‚åº¦ï¼Œä½¿ç”¨ä¸€ä¸ªå¸ƒå°”æ•°ç»„ä»£è¡¨æ˜¯å¦ä½¿ç”¨æ›´å¥½</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">boolean</span>[] used ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        used = <span class="keyword">new</span> <span class="title class_">boolean</span>[nums.length];</span><br><span class="line">        permuteHelper(nums);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">permuteHelper</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (path.size() == nums.length) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">//ç›´æ¥è¿”å›å³å¯ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åˆ°äº†è·¯å¾„æœ€æœ«ç«¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; nums.length ; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">choice</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="keyword">if</span> (used[i]) &#123;<span class="comment">///å‰ªæ</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            path.add(choice);<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">            used[i] = <span class="literal">true</span>;</span><br><span class="line">            permuteHelper(nums); <span class="comment">//ç»§ç»­é€‰æ‹©</span></span><br><span class="line">            path.remove(path.size() - <span class="number">1</span>);<span class="comment">//å›é€€</span></span><br><span class="line">            used[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦é™åˆ°O(n*n!)</p>
<p>å…¶ä»–æ–¹æ³•</p>
<ol>
<li>åŸåœ°äº¤æ¢æ³• (Swap-based Backtracking)(æŒæ¡)<ol>
<li>å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° <code>backtrack(index, nums)</code>ï¼Œè¡¨ç¤ºå¯¹ <code>nums</code> æ•°ç»„ä» <code>index</code> ä½ç½®å¼€å§‹è¿›è¡Œå…¨æ’åˆ—ã€‚</li>
<li><strong>é€’å½’ç»ˆæ­¢æ¡ä»¶</strong>ï¼šå½“ <code>index</code> ç­‰äºæ•°ç»„é•¿åº¦æ—¶ï¼Œè¯´æ˜å·²ç»ç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„æ’åˆ—ï¼Œå°†å…¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ã€‚</li>
<li><strong>éå†ä¸äº¤æ¢</strong>ï¼šåœ¨é€’å½’å‡½æ•°å†…éƒ¨ï¼Œä» <code>index</code> åˆ°æ•°ç»„æœ«å°¾è¿›è¡Œéå†ï¼ˆç”¨ <code>i</code> è¡¨ç¤ºï¼‰ã€‚å°† <code>index</code> ä½ç½®çš„å…ƒç´ ä¸ <code>i</code> ä½ç½®çš„å…ƒç´ è¿›è¡Œäº¤æ¢ã€‚</li>
<li><strong>é€’å½’æ·±å…¥</strong>ï¼šäº¤æ¢åï¼Œå›ºå®šä½ <code>index</code> ä½ç½®çš„å…ƒç´ ï¼Œå¯¹ <code>index + 1</code> ä¹‹åçš„éƒ¨åˆ†ç»§ç»­è¿›è¡Œå…¨æ’åˆ—ï¼Œå³è°ƒç”¨ <code>backtrack(index + 1, nums)</code>ã€‚</li>
<li><strong>å›æº¯</strong>ï¼šåœ¨é€’å½’è°ƒç”¨è¿”å›åï¼Œ<strong>å¿…é¡»å°†ä¹‹å‰äº¤æ¢çš„å…ƒç´ æ¢å›æ¥</strong>ï¼Œä»¥æ¢å¤æ•°ç»„çŠ¶æ€ï¼Œç¡®ä¿ä¸å½±å“ä¸Šä¸€å±‚çš„å¾ªç¯ã€‚è¿™æ­¥æ˜¯å›æº¯çš„å…³é”®ã€‚</li>
</ol>
</li>
</ol>
<p><strong>å®é™…ä¸Šå°±æ˜¯ç›´æ¥å€ŸåŠ©åŸæœ¬è¾“å…¥æ•°ç»„æ¥è®°å½•ä½¿ç”¨è¿‡çš„å…ƒç´ </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; numsList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            numsList.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        permuteHelper(<span class="number">0</span>, numsList, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">permuteHelper</span><span class="params">(<span class="type">int</span> index, List&lt;Integer&gt; numsList, List&lt;List&lt;Integer&gt;&gt; result)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index == numsList.size()) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(numsList));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¾ªç¯æ¥ç¡®å®šæŠŠå“ªä¸ªæ•°æ”¾åœ¨indexå¤„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> index; i &lt; numsList.size(); i++) &#123;</span><br><span class="line">            Collections.swap(numsList, i, index);<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">            permuteHelper(index + <span class="number">1</span>, numsList, result);<span class="comment">//ç»§ç»­é€‰æ‹©</span></span><br><span class="line">            Collections.swap(numsList, i, index);<span class="comment">//å›æº¯é€‰æ‹©</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ç›´æ¥ä¸ç”¨å‰¯æœ¬æ›´å‡å°‘ç©ºé—´å¤æ‚åº¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        permuteHelper(<span class="number">0</span>, nums, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">permuteHelper</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span>[] nums, List&lt;List&lt;Integer&gt;&gt; result)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index == nums.length) &#123;</span><br><span class="line">            <span class="comment">// å°† int[] è½¬æ¢ä¸º List&lt;Integer&gt; å¹¶æ·»åŠ åˆ°ç»“æœä¸­</span></span><br><span class="line">            List&lt;Integer&gt; permutation = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">                permutation.add(num);</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(permutation);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> index; i &lt; nums.length; i++) &#123;</span><br><span class="line">            swap(nums, i, index);</span><br><span class="line">            permuteHelper(index + <span class="number">1</span>, nums, result);</span><br><span class="line">            swap(nums, i, index); <span class="comment">// å›æº¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>å…³äºæ ¹æ®æ•°ç»„æ„é€ Listï¼š<ol>
<li>Collectionè¦å®ç°å¢åˆ æŸ¥éå†æ‰ç®—é›†åˆï¼Œå› æ­¤æ•°ç»„ä¸æ˜¯é›†åˆï¼Œä¸èƒ½ç›´æ¥new ArrayList(Object[])ï¼Œæƒ³è¦åˆ›å»ºæœ€å¥½å°±æ˜¯éå†ã€‚</li>
</ol>
</li>
<li>å…³äºArrays.asList()<ol>
<li>è¿”å›çš„Listå›ºå®šå¤§å°ï¼Œä¸æ”¯æŒå¢åˆ </li>
<li>è¿”å›çš„Listæ˜¯åŸæ•°ç»„çš„ä¸€ä¸ªè§†å›¾ï¼Œå¯¹Listçš„ä¿®æ”¹ç›´æ¥ä¼šä¿®æ”¹åŸæ•°ç»„</li>
<li>åŸºæœ¬å¯¹è±¡æ•°ç»„æ— æ³•è¢«æ­£ç¡®è¯†åˆ«ï¼šæ–¹æ³•ç­¾åæ˜¯public static <T> List<T> asList(Tâ€¦ a)ï¼ŒåŸºæœ¬ç±»å‹æ•°ç»„æ¯”å¦‚int[] a,intæ— æ³•è¢«çœ‹ä½œä¸€ä¸ªå¯¹è±¡æ— æ³•å½“ä½œæ³›å‹ï¼Œå› æ­¤ä¼šæŠŠint[]æ•´ä½“å½“ä½œä¸€ä¸ªæ³›å‹ï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªList&lt;int[]&gt;,å¦‚æœä¸€å®šè¦ç”¨ç›´æ¥ä½¿ç”¨åŒ…è£…ç±»Intenger[] a</li>
</ol>
</li>
</ol>
<h1 id="78-å­é›†"><a href="#78-å­é›†" class="headerlink" title="78.å­é›†"></a>78.å­é›†</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/subsets/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/subsets/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p>
<p>è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [1,2,3]<br>è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [0]<br>è¾“å‡ºï¼š[[],[0]]</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; nums.length &lt;&#x3D; 10<br>-10 &lt;&#x3D; nums[i] &lt;&#x3D; 10<br>nums ä¸­çš„æ‰€æœ‰å…ƒç´  äº’ä¸ç›¸åŒ</p>
<hr>
<ol>
<li>è€ƒè™‘å›æº¯</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        subsetsHelper(nums,<span class="number">0</span>,result,path);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">subsetsHelper</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> start, List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; path)</span> &#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));<span class="comment">//ä¸returnï¼Œå› ä¸ºå¯èƒ½è¦ç»§ç»­</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; nums.length; i++) &#123;</span><br><span class="line">            path.add(nums[i]);</span><br><span class="line">            subsetsHelper(nums, i+<span class="number">1</span>, result,path);<span class="comment">//ç›¸ä¿¡sunsetsHelperèƒ½å¤ŸæŠŠpathå·²æœ‰çš„ä½œä¸ºå‰ç¼€ï¼Œä»startå¼€å§‹ï¼Œæ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„ç»„åˆå¹¶æ”¾å…¥resultï¼Œå¹¶ä¸”æœ€ç»ˆå®Œæˆå›æº¯ä½¿å¾—pathåªå‰©ä¸‹å‰ç¼€çš„çŠ¶æ€</span></span><br><span class="line">            path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šä¸€å…±2^nä¸ªå­é›†ï¼Œæ¯ä¸ªå­é›†éƒ½è¦è¢«å¤åˆ¶ä¸€æ¬¡O(l),(kC(n,k),kä»0åŠ åˆ°n),è¿™ä¸ªç»“æœå°±æ˜¯O(n<em>2^nã€‚å¯ä»¥åˆ†ä¸ºå­é›†å¹³å‡é•¿åº¦æ˜¯n&#x2F;2,å› ä¸ºæ¯ä¸ªå­é›†çš„ç›¸å¯¹äºæ•´ä¸ªé›†åˆçš„è¡¥é›†ä¹Ÿæ˜¯æ•´ä¸ªé›†åˆçš„è¡¥é›†ï¼Œå’Œä¸ºnï¼Œå¯ä»¥åˆ’åˆ†æˆ2^n&#x2F;2ä¸ªç»„åˆï¼Œæ¯ä¸ªç»„åˆé•¿åº¦æ˜¯nï¼Œå› æ­¤æ€»é•¿åº¦n</em>2^n&#x2F;2ï¼Œå¹³å‡é•¿åº¦n&#x2F;2</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼špath O(n),result O(2^n),æ ˆO(n),ä¸ç®—ç»“æœæœ€ç»ˆæ˜¯O(n)</p>
<ol start="2">
<li>è¿­ä»£æ³•</li>
</ol>
<p>å¯¹äºä¸€ä¸ªé›†åˆï¼Œä¾‹å¦‚ <code>S = &#123;1, 2, 3&#125;</code>ï¼Œå®ƒçš„æ‰€æœ‰å­é›†å¯ä»¥è¢«ç²¾ç¡®åœ°åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ol>
<li><strong>ä¸åŒ…å«</strong> æœ€åä¸€ä¸ªå…ƒç´  <code>3</code> çš„å­é›†ã€‚</li>
<li><strong>åŒ…å«</strong> æœ€åä¸€ä¸ªå…ƒç´  <code>3</code> çš„å­é›†ã€‚</li>
</ol>
<ul>
<li><strong>ç¬¬ä¸€ç±»</strong>ï¼šä¸åŒ…å« <code>3</code> çš„å­é›†ï¼Œå…¶å®å°±æ˜¯ <code>&#123;1, 2&#125;</code> çš„æ‰€æœ‰å­é›†ã€‚</li>
<li><strong>ç¬¬äºŒç±»</strong>ï¼šåŒ…å« <code>3</code> çš„å­é›†ï¼Œå¯ä»¥é€šè¿‡è·å– <code>&#123;1, 2&#125;</code> çš„æ‰€æœ‰å­é›†ï¼Œç„¶åç»™æ¯ä¸€ä¸ªå­é›†éƒ½æ·»åŠ ä¸Šå…ƒç´  <code>3</code> æ¥å¾—åˆ°ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº† <code>P(n-1)</code>ï¼ˆå‰ n-1 ä¸ªå…ƒç´ çš„æ‰€æœ‰å­é›†ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤æ­¥å¾—åˆ° <code>P(n)</code>ï¼ˆå‰ n ä¸ªå…ƒç´ çš„æ‰€æœ‰å­é›†ï¼‰ï¼š</p>
<ol>
<li><code>P(n)</code> åŒ…å« <code>P(n-1)</code> çš„æ‰€æœ‰å†…å®¹ã€‚</li>
<li><code>P(n)</code> è¿˜åŒ…å« <code>P(n-1)</code> ä¸­æ¯ä¸ªå­é›†éƒ½åŠ ä¸Šç¬¬ n ä¸ªå…ƒç´ åå½¢æˆçš„æ–°å­é›†ã€‚</li>
</ol>
<p>æ­¥éª¤</p>
<ol>
<li>åˆå§‹åŒ–ç»“æœé›† <code>result</code>ï¼Œå¹¶é¦–å…ˆæ”¾å…¥ä¸€ä¸ªç©ºé›† <code>[]</code>ã€‚</li>
<li>éå† <code>nums</code> æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°å­— <code>num</code>ã€‚</li>
<li>å¯¹äº <code>result</code> ä¸­å·²ç»å­˜åœ¨çš„æ¯ä¸€ä¸ªå­é›†ï¼Œéƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å­é›†ï¼Œå°† <code>num</code> æ·»åŠ è¿›å»ï¼Œç„¶åå°†è¿™ä¸ªæ–°å­é›†ä¹ŸåŠ å…¥ <code>result</code>ã€‚</li>
<li>éå†å®Œæ‰€æœ‰æ•°å­—åï¼Œ<code>result</code> å°±åŒ…å«äº†æ‰€æœ‰å¯èƒ½çš„å­é›†ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">      List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">      result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">          <span class="type">int</span> <span class="variable">currentSize</span> <span class="operator">=</span> result.size();</span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; currentSize; i++) &#123;<span class="comment">//è¿™é‡Œä¸èƒ½ä½¿ç”¨for-eachå¾ªç¯ï¼Œå› ä¸ºforâ€”eachä¸å…è®¸è¢«è¿­ä»£å¯¹è±¡è¢«ä¿®æ”¹ã€‚</span></span><br><span class="line">            List&lt;Integer&gt; newSub = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(result.get(i)); </span><br><span class="line">            newSub.add(num);</span><br><span class="line">            result.add(newSub);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´è¿˜æ˜¯O(n*2^n),ç©ºé—´O(n)</p>
<h1 id="17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"><a href="#17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ" class="headerlink" title="17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"></a>17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/letter-combinations-of-a-phone-number/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/letter-combinations-of-a-phone-number/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚</p>
<p>ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/10/16/%E5%9B%9E%E6%BA%AF/img_6.png"
                        class="" title="img_6.png"
                 >




<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šdigits &#x3D; â€œ23â€<br>è¾“å‡ºï¼š[â€œadâ€,â€aeâ€,â€afâ€,â€bdâ€,â€beâ€,â€bfâ€,â€cdâ€,â€ceâ€,â€cfâ€]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šdigits &#x3D; â€œâ€<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šdigits &#x3D; â€œ2â€<br>è¾“å‡ºï¼š[â€œaâ€,â€bâ€,â€câ€]</p>
<p>æç¤ºï¼š</p>
<p>0 &lt;&#x3D; digits.length &lt;&#x3D; 4<br>digits[i] æ˜¯èŒƒå›´ [â€˜2â€™, â€˜9â€™] çš„ä¸€ä¸ªæ•°å­—ã€‚</p>
<hr>
<p>æ€è€ƒï¼š</p>
<p>å…ˆå»ºç«‹ä¸€ä¸ªåˆ—è¡¨List&lt;List<Chacacter>&gt;æŠŠæ˜ å°„å…³ç³»å­˜èµ·æ¥ã€‚ç„¶ååˆ†åˆ«éå†åµŒå¥—å¾ªç¯ã€‚</p>
<p>å®é™…ä¸Šå¾ˆéš¾åµŒå¥—å¾ªç¯ï¼Œé•¿åº¦æ˜¯å¯å˜çš„ã€‚å¯ä»¥å›æº¯ï¼Œå¦‚æœåˆ°å¤´äº†å°±æ’¤é”€é€‰æ‹©ã€‚</p>
<p>æ˜ å°„å…³ç³»æ›´å¥½çš„æ˜¯ä½¿ç”¨Map&lt;Intengerï¼ŒString&gt;</p>
<p>ç©ºé—´å¤æ‚åº¦æ˜¯O(n)ï¼Œæ—¶é—´å¤æ‚åº¦O(n<em>k^n)(kæ˜¯ä¸€ä¸ªæ•°å­—å¯¹åº”çš„å­—æ¯æ•°)ï¼ˆæœ€å·®çš„è¯å°±æ˜¯O(n</em>4^n)ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCombinations</span><span class="params">(String digits)</span> &#123;</span><br><span class="line">      Map&lt;Character, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">      List&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">      map.put(<span class="string">&#x27;2&#x27;</span>, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;3&#x27;</span>, <span class="string">&quot;def&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;4&#x27;</span>, <span class="string">&quot;ghi&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;5&#x27;</span>, <span class="string">&quot;jkl&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;6&#x27;</span>, <span class="string">&quot;mno&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;7&#x27;</span>, <span class="string">&quot;pqrs&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;8&#x27;</span>, <span class="string">&quot;tuv&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;9&#x27;</span>, <span class="string">&quot;wxyz&quot;</span>);</span><br><span class="line">      <span class="keyword">if</span> (digits.isEmpty())&#123;<span class="comment">//æ³¨æ„Stringæ¯”è¾ƒä¸èƒ½ç”¨==</span></span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">StringBuilder</span> <span class="variable">path</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">      backTrack(map,result,path,digits,<span class="number">0</span>);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrack</span><span class="params">(Map&lt;Character,String&gt; map,List&lt;String&gt; result,StringBuilder path,String digits,<span class="type">int</span> start)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (path.length() == digits.length())&#123;</span><br><span class="line">           result.add(<span class="keyword">new</span> <span class="title class_">String</span>(path));</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="type">String</span> <span class="variable">thisLoopString</span> <span class="operator">=</span> map.get(digits.charAt(start));</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; thisLoopString.length(); j++) &#123;</span><br><span class="line">         <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> thisLoopString.charAt(j);</span><br><span class="line">         path.append(c);<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">         backTrack(map,result,path,digits,start+<span class="number">1</span>);<span class="comment">//ç›¸ä¿¡backTrackèƒ½å¤ŸæŠŠä»¥å½“å‰pathå·²ç»æœ‰çš„ä¸ºå‰ç¼€ï¼ŒæŠŠä»start+1ä½å¼€å§‹çš„æ‰€æœ‰ç»„åˆå¾—åˆ°ï¼Œå¹¶ä¸”å’Œå‰ç¼€ç»“åˆèµ·æ¥æ·»åŠ åˆ°resultï¼Œå¹¶ä¸”å›æº¯åˆ°åªå‰©ä¸‹å‰ç¼€ã€‚</span></span><br><span class="line">         path.deleteCharAt(path.length()-<span class="number">1</span>);<span class="comment">//é”€æ¯é€‰æ‹©</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å›æº¯å®é™…ä¸Šä¹Ÿæ˜¯æ·±åº¦ä¼˜å…ˆ</p>
<p>ä¸‹é¢å¯ä»¥ç”¨è¿­ä»£å¹¿åº¦ä¼˜å…ˆ</p>
<ol start="2">
<li><p>è¿­ä»£</p>
<ol>
<li><strong>åˆå§‹åŒ–</strong>ï¼šåˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼ˆ<code>LinkedList</code> åœ¨ Java ä¸­å¸¸è¢«ç”¨ä½œé˜Ÿåˆ—ï¼‰ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ ä¸€ä¸ªç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code>ã€‚è¿™ä¸ªç©ºå­—ç¬¦ä¸²æ˜¯æ‰€æœ‰ç»„åˆçš„èµ·ç‚¹ã€‚</li>
<li><strong>éå†æ•°å­—</strong>ï¼šéå†è¾“å…¥çš„æ•°å­—å­—ç¬¦ä¸² <code>digits</code> ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—ã€‚</li>
<li><strong>é€å±‚æ„å»º</strong>ï¼šå¯¹äºæ¯ä¸ªæ•°å­—ï¼Œéå†å½“å‰é˜Ÿåˆ—ä¸­å·²æœ‰çš„æ‰€æœ‰éƒ¨åˆ†ç»„åˆã€‚<ul>
<li>ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªéƒ¨åˆ†ç»„åˆã€‚</li>
<li>è·å–å½“å‰æ•°å­—å¯¹åº”çš„æ‰€æœ‰å­—æ¯ã€‚</li>
<li>å°†å–å‡ºçš„éƒ¨åˆ†ç»„åˆä¸æ¯ä¸ªå­—æ¯æ‹¼æ¥ï¼Œå½¢æˆæ–°çš„ã€æ›´é•¿çš„ç»„åˆã€‚</li>
<li>å°†è¿™äº›æ–°ç»„åˆæ”¾å…¥é˜Ÿåˆ—çš„æœ«å°¾ã€‚</li>
</ul>
</li>
<li><strong>å®Œæˆ</strong>ï¼šå½“éå†å®Œæ‰€æœ‰æ•°å­—åï¼Œé˜Ÿåˆ—ä¸­å‰©ä¸‹çš„å°±æ˜¯æ‰€æœ‰æœ€ç»ˆçš„å®Œæ•´ç»„åˆã€‚</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCombinations</span><span class="params">(String digits)</span> &#123;</span><br><span class="line">      Map&lt;Character, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">      Queue&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">      map.put(<span class="string">&#x27;2&#x27;</span>, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;3&#x27;</span>, <span class="string">&quot;def&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;4&#x27;</span>, <span class="string">&quot;ghi&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;5&#x27;</span>, <span class="string">&quot;jkl&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;6&#x27;</span>, <span class="string">&quot;mno&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;7&#x27;</span>, <span class="string">&quot;pqrs&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;8&#x27;</span>, <span class="string">&quot;tuv&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&#x27;9&#x27;</span>, <span class="string">&quot;wxyz&quot;</span>);</span><br><span class="line">      <span class="keyword">if</span> (digits.isEmpty()) &#123;<span class="comment">//æ³¨æ„Stringæ¯”è¾ƒä¸èƒ½ç”¨==</span></span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">      &#125;</span><br><span class="line">      queue.offer(<span class="string">&quot;&quot;</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; digits.length(); i++) &#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">thisLoopString</span> <span class="operator">=</span> map.get(digits.charAt(i));</span><br><span class="line">         <span class="type">int</span> <span class="variable">thisQueueNum</span> <span class="operator">=</span> queue.size();</span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; thisQueueNum; j++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">newStringToEdit</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; thisLoopString.length(); k++) &#123;</span><br><span class="line">               <span class="type">String</span> <span class="variable">newString</span> <span class="operator">=</span> newStringToEdit + thisLoopString.charAt(k);</span><br><span class="line">               queue.offer(newString);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(queue);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¤æ‚åº¦ï¼š</p>
<p>æ—¶é—´ï¼šä¸€å…±k^nä¸­æƒ…å†µï¼Œæ¯ç§æƒ…å†µéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ºnï¼Œå› æ­¤æ˜¯O(n*k^n)</p>
<p>ç©ºé—´ï¼šO(n*4^n)</p>
<h1 id="39-ç»„åˆæ€»å’Œ"><a href="#39-ç»„åˆæ€»å’Œ" class="headerlink" title="39.ç»„åˆæ€»å’Œ"></a>39.ç»„åˆæ€»å’Œ</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/combination-sum/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/combination-sum/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸€ä¸ª æ— é‡å¤å…ƒç´  çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target ï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„ æ‰€æœ‰ ä¸åŒç»„åˆ ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è¿™äº›ç»„åˆã€‚</p>
<p>candidates ä¸­çš„ åŒä¸€ä¸ª æ•°å­—å¯ä»¥ æ— é™åˆ¶é‡å¤è¢«é€‰å– ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚</p>
<p>å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º target çš„ä¸åŒç»„åˆæ•°å°‘äº 150 ä¸ªã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šcandidates &#x3D; [2,3,6,7], target &#x3D; 7<br>è¾“å‡ºï¼š[[2,2,3],[7]]<br>è§£é‡Šï¼š<br>2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 &#x3D; 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚<br>7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 &#x3D; 7 ã€‚<br>ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥: candidates &#x3D; [2,3,5], target &#x3D; 8<br>è¾“å‡º: [[2,2,2,2],[2,3,3],[3,5]]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥: candidates &#x3D; [2], target &#x3D; 1<br>è¾“å‡º: []</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; candidates.length &lt;&#x3D; 30<br>2 &lt;&#x3D; candidates[i] &lt;&#x3D; 40<br>candidates çš„æ‰€æœ‰å…ƒç´  äº’ä¸ç›¸åŒ<br>1 &lt;&#x3D; target &lt;&#x3D; 40</p>
<hr>
<p>è€ƒè™‘å›æº¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">      List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">      List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">      Arrays.sort(candidates);</span><br><span class="line">      backTrace(result,path,candidates,target,<span class="number">0</span>);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; path, <span class="type">int</span>[] candidates, <span class="type">int</span> sumNowNeed,<span class="type">int</span> start)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (sumNowNeed == <span class="number">0</span>) &#123;</span><br><span class="line">         result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; candidates.length; i++) &#123;</span><br><span class="line">          sumNowNeed = sumNowNeed - candidates[i];</span><br><span class="line">          <span class="keyword">if</span> (sumNowNeed&lt;<span class="number">0</span>)&#123;</span><br><span class="line">              sumNowNeed = sumNowNeed + candidates[i];</span><br><span class="line">              <span class="keyword">return</span>;<span class="comment">//å‰ªæï¼Œåªè¦candidatesæœ‰åºï¼Œç›®å‰çš„å·²ç»å¯¼è‡´sunNowNeedå°äº0ï¼Œé‚£ä¹ˆé€‰å–æ›´å¤§çš„è‚¯å®šsumNowNeedæ›´å°ã€‚</span></span><br><span class="line">          &#125;</span><br><span class="line">         path.add(candidates[i]);<span class="comment">//startå¯ä»¥ä¿éšœä¸é‡å¤ï¼Œåªè¦candidatesæœ‰åº</span></span><br><span class="line">         backTrace(result, path, candidates, sumNowNeed, i);<span class="comment">//ç›¸ä¿¡back Traceèƒ½æŠŠä»¥å½“å‰å‰ç¼€ä¸ºå¼€å¤´çš„ï¼Œå€™é€‰ç´¢å¼•ä»candidatesçš„iå¼€å§‹(ä¸èƒ½æ¯”ä¸Šä¸€è½®é€‰æ‹©çš„æ›´é å‰ï¼‰ï¼Œçš„æ‰€æœ‰æ»¡è¶³çš„æƒ…å†µåŠ å…¥resultï¼Œå¹¶ä¸”å›æº¯åˆ°åªå‰©ä¸‹å½“å‰å‰ç¼€</span></span><br><span class="line">         path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">         sumNowNeed += candidates[i];<span class="comment">//å›æº¯è®°å¾—æŠŠæ‰€æœ‰é‡éƒ½å›æº¯ï¼Œä¸è¦åªè®°å¾—å›æº¯path</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦:ä¸è€ƒè™‘å‰ªæçš„æƒ…å†µï¼Œé€’å½’æ ‘æœ€å¤§é«˜åº¦æ˜¯target&#x2F;min_valè®°ä¸ºD,ç¬¬ä¸€æ¬¡æœ‰nä¸ªé€‰æ‹©ï¼Œç¬¬äºŒå±‚æ¯ä¸ªèŠ‚ç‚¹ä¹Ÿæ˜¯nä¸ªé€‰æ‹©ï¼Œå› æ­¤æ•´ä¸ªæ ‘èŠ‚ç‚¹æ•°ç›®æ˜¯O(n^(target&#x2F;min)),éå¶èŠ‚ç‚¹æ“ä½œæ˜¯Oï¼ˆ1ï¼‰ï¼Œå¶èŠ‚ç‚¹æ“ä½œæ˜¯O(D),å¶èŠ‚ç‚¹æ•°ç›®æ˜¯Sï¼ˆè§£çš„æ•°ç›®ï¼‰ï¼Œå› æ­¤æœ€ç»ˆæ˜¯O(N^D+s*D)</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šé€’å½’è°ƒç”¨æ ˆæ˜¯å’Œpathéƒ½æ˜¯O(D)</p>
<h1 id="22-æ‹¬å·ç”Ÿæˆ"><a href="#22-æ‹¬å·ç”Ÿæˆ" class="headerlink" title="22.æ‹¬å·ç”Ÿæˆ"></a>22.æ‹¬å·ç”Ÿæˆ</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/generate-parentheses/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/generate-parentheses/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šn &#x3D; 3<br>è¾“å‡ºï¼š[â€œ((()))â€,â€(()())â€,â€(())()â€,â€()(())â€,â€()()()â€]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šn &#x3D; 1<br>è¾“å‡ºï¼š[â€œ()â€]</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; n &lt;&#x3D; 8</p>
<hr>
<p>å¦‚æœä½¿ç”¨å›æº¯ï¼Œä¸€å…±nå¯¹æ‹¬å·ï¼Œæ„å‘³ç€å·¦æ‹¬å·å³æ‹¬å·å„æœ‰nä¸ªã€‚åŒæ—¶è¦ç¡®ä¿ï¼Œä»»ä½•æ—¶å€™leftçš„æ•°ç›®è¦å¤§äºç­‰äºrightï¼Œå¦åˆ™å‰ªæï¼›åŒæ—¶å·¦æ‹¬å·æ•°ç›®ä¸èƒ½å¤§äºnï¼Œå¦åˆ™å‰ªæã€‚å½“pathçš„é•¿åº¦ä¸º2nè®°å½•ç»“æœè¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">path</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">char</span>[] candidates = <span class="keyword">new</span> <span class="title class_">char</span>[] &#123;<span class="string">&#x27;(&#x27;</span>,<span class="string">&#x27;)&#x27;</span>&#125;;</span><br><span class="line">        backTrace(result,path,n,candidates,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;String&gt; result,StringBuilder path,<span class="type">int</span> n,<span class="type">char</span>[] candidates,<span class="type">int</span> left_num,<span class="type">int</span> right_num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (path.length() == <span class="number">2</span>*n)&#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">String</span>(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> charChosed : candidates) &#123;</span><br><span class="line">            <span class="keyword">if</span> (charChosed == <span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">                left_num++;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                right_num++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left_num &gt;= right_num &amp;&amp; left_num &lt;= n &amp;&amp; right_num &lt;= n) &#123;<span class="comment">//å‰ªææœ€å¥½å†™æˆæ¡ä»¶ï¼Œä½†è¦è®°å¾—æŠŠleft_numå’Œright_numç»™æ¢å¤</span></span><br><span class="line">                path.append(charChosed);</span><br><span class="line">                backTrace(result, path, n, candidates, left_num, right_num);</span><br><span class="line">                path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (charChosed == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left_num--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right_num--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šä¸è€ƒè™‘å‰ªæï¼š4^n*nï¼›è€ƒè™‘å‰ªæè¿™æ˜¯ä¸ªå¡ç‰¹å…°æ•°ï¼Œ( 4^n &#x2F; n^(3&#x2F;2) ) * n</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šè°ƒç”¨æ ˆå’Œpathéƒ½æ˜¯O(n),ä¸è€ƒè™‘ç»“æœå°±æ˜¯O(N)</p>
<ol start="2">
<li>åŠ¨æ€è§„åˆ’æ³•</li>
</ol>
<p>ä»»æ„ä¸€ä¸ªæœ‰æ•ˆæ‹¬å·å¼€å¤´å¿…å®šæ˜¯ â€œ(â€œ,å› æ­¤å¿…å®šå¯¹åº”ä¸€ä¸ªâ€)â€.</p>
<p>å› æ­¤ä»»æ„ä¸€ä¸ªæœ‰æ•ˆç»„åˆå¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ç»“æ„ï¼š</p>
<p>(A)B,Aå’ŒBéƒ½è¦æ˜¯æœ‰æ•ˆæ‹¬å·ï¼Œå¹¶ä¸”Aå’ŒB çš„æ‹¬å·å¯¹æ•°å’Œè¦æ˜¯n-1.</p>
<p>è®¾Aæœ‰iå¯¹ï¼Œåˆ™Bæœ‰n-1-iå¯¹</p>
<p>è®°iä¸ºçŠ¶æ€ï¼Œdp[i]ä¸ºiå¯¹æ‹¬å·çš„æ‰€æœ‰å¯èƒ½ç»„åˆã€‚</p>
<p>dp[i] &#x3D; (dp[j])dp[i-1-j],jä»0éå†åˆ°i-1</p>
<p>è¾¹ç•Œæ¡ä»¶dp[0] &#x3D; {â€œâ€}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; dp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; dp0 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        dp0.add(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        dp.add(dp0);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            List&lt;String&gt; dp_i = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                List&lt;String&gt; dp_j = dp.get(j);</span><br><span class="line">                List&lt;String&gt; dp_i_1_j = dp.get(i-<span class="number">1</span>-j);</span><br><span class="line">                <span class="keyword">for</span> (String stringA : dp_j) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (String stringB : dp_i_1_j) &#123;</span><br><span class="line">                        dp_i.add(<span class="string">&quot;(&quot;</span>+stringA+<span class="string">&quot;)&quot;</span>+stringB);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dp.add(dp_i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp.get(n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="79-å•è¯æœç´¢"><a href="#79-å•è¯æœç´¢" class="headerlink" title="79.å•è¯æœç´¢"></a>79.å•è¯æœç´¢</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/word-search/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/word-search/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™å®šä¸€ä¸ª m x n äºŒç»´å­—ç¬¦ç½‘æ ¼ board å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ word ã€‚å¦‚æœ word å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p>
<p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šboard &#x3D; [[â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€™Eâ€™],[â€˜Sâ€™,â€™Fâ€™,â€™Câ€™,â€™Sâ€™],[â€˜Aâ€™,â€™Dâ€™,â€™Eâ€™,â€™Eâ€™]], word &#x3D; â€œABCCEDâ€<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šboard &#x3D; [[â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€™Eâ€™],[â€˜Sâ€™,â€™Fâ€™,â€™Câ€™,â€™Sâ€™],[â€˜Aâ€™,â€™Dâ€™,â€™Eâ€™,â€™Eâ€™]], word &#x3D; â€œSEEâ€<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šboard &#x3D; [[â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€™Eâ€™],[â€˜Sâ€™,â€™Fâ€™,â€™Câ€™,â€™Sâ€™],[â€˜Aâ€™,â€™Dâ€™,â€™Eâ€™,â€™Eâ€™]], word &#x3D; â€œABCBâ€<br>è¾“å‡ºï¼šfalse</p>
<p>æç¤ºï¼š</p>
<p>m &#x3D;&#x3D; board.length<br>n &#x3D; board[i].length<br>1 &lt;&#x3D; m, n &lt;&#x3D; 6<br>1 &lt;&#x3D; word.length &lt;&#x3D; 15<br>board å’Œ word ä»…ç”±å¤§å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</p>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥ä½¿ç”¨æœç´¢å‰ªæçš„æŠ€æœ¯æ¥ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼Œä½¿å…¶åœ¨ board æ›´å¤§çš„æƒ…å†µä¸‹å¯ä»¥æ›´å¿«è§£å†³é—®é¢˜ï¼Ÿ</p>
<hr>
<p>è€ƒè™‘å›æº¯</p>
<p>pathè®°å½•ï¼Œåªè¦pathå’Œwordç›¸ç­‰ï¼ŒexitWordæ”¹ä¸ºtrueå¹¶è¿”å›ã€‚å°è¯•çš„é€‰æ‹©å¯ä»¥å…ˆéå†ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„upã€downã€leftã€rightä¾æ¬¡é€‰æ‹©å‘å“ªé‡Œèµ°ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œåˆ™æ’¤é”€é€‰æ‹©ã€‚(ç´¢å¼•ä¸èƒ½è¶Šç•Œ)</p>
<p>pathé•¿åº¦è¦å°äºword</p>
<p>pathå¯¹åº”çš„å­—æ¯è¦å’Œwordç›¸åŒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] direction = <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="type">boolean</span>[][] used = <span class="keyword">new</span> <span class="title class_">boolean</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line">                <span class="type">StringBuilder</span> <span class="variable">path</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">                path.append(board[i][j]);</span><br><span class="line">                used[i][j] = <span class="literal">true</span>;</span><br><span class="line">                backTrace(board,word,path,direction,<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i,j&#125;,used);</span><br><span class="line">                <span class="keyword">if</span> (exitWord == <span class="literal">true</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> exitWord;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> exitWord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">exitWord</span> <span class="operator">=</span> <span class="literal">false</span>;<span class="comment">//javaæŒ‰å€¼ä¼ é€’ï¼Œæ‰€ä»¥è¿™ä¸ªå˜é‡ä¼¼ä¹åªèƒ½ä½œä¸ºæˆå‘˜å˜é‡äº†</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(<span class="type">char</span>[][] board,String word,StringBuilder path,<span class="type">int</span>[][] direction,<span class="type">int</span>[] start,<span class="type">boolean</span> [][] used)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (path.toString().equals(word))&#123;</span><br><span class="line">            exitWord = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] direct : direction) &#123;</span><br><span class="line">            start[<span class="number">0</span>] += direct[<span class="number">0</span>];</span><br><span class="line">            start[<span class="number">1</span>] += direct[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (start[<span class="number">0</span>] &lt; board.length &amp;&amp; start[<span class="number">0</span>] &gt;= <span class="number">0</span> &amp;&amp; start[<span class="number">1</span>] &gt;= <span class="number">0</span> &amp;&amp; start[<span class="number">1</span>] &lt; board[<span class="number">0</span>].length &amp;&amp; path.length() &lt; word.length() &amp;&amp; !used[start[<span class="number">0</span>]][start[<span class="number">1</span>]] &amp;&amp; board[start[<span class="number">0</span>]][start[<span class="number">1</span>]] == word.charAt(path.length()))&#123;<span class="comment">//å‰ªæï¼Œè®°å¾—ç¨åæ¢å¤start</span></span><br><span class="line">                used[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="literal">true</span>;</span><br><span class="line">                path.append(board[start[<span class="number">0</span>]][start[<span class="number">1</span>]]);<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">                backTrace(board,word,path,direction,start,used);<span class="comment">//ç»§ç»­é€‰æ‹©</span></span><br><span class="line">                path.deleteCharAt(path.length()-<span class="number">1</span>);</span><br><span class="line">                used[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            start[<span class="number">0</span>] -= direct[<span class="number">0</span>];</span><br><span class="line">            start[<span class="number">1</span>] -= direct[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯ä»£ç å†™çš„å¾ˆä¹±ã€‚ä¸‹é¢æ˜¯ä¼˜åŒ–</p>
<ol>
<li>ç›´æ¥è¿”å›trueæˆ–è€…false</li>
<li>ä¸ç”¨pathï¼Œç›´æ¥ä¼ å…¥kè¡¨ç¤ºæ­£åœ¨å¯»æ‰¾wordç¬¬kä¸ªå­—ç¬¦</li>
<li>å¯ä»¥åœ¨å›æº¯ä¸­ç›´æ¥åˆ›å»ºæ–°çš„è¡Œåˆ—åæ ‡ï¼Œä¸ç”¨æ‰‹åŠ¨å†æ¬¡æ¢å¤äº†</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span>[][] direction = <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="type">boolean</span>[][] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(backTrace(board,word,<span class="number">0</span>,i,j,visited,direction))&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">backTrace</span><span class="params">(<span class="type">char</span>[][] board,String word,<span class="type">int</span> k ,<span class="type">int</span> row,<span class="type">int</span> col,<span class="type">boolean</span>[][] visted,<span class="type">int</span>[][] direction)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (board[row][col] != word.charAt(k))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//å‰ªæ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (k == word.length()-<span class="number">1</span> &amp;&amp; board[row][col] == word.charAt(k))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//æˆåŠŸåŸºçº¿</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">        visted[row][col] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//ç»§ç»­æ¢ç´¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] dir : direction) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newRow</span> <span class="operator">=</span> row + dir[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">newCol</span> <span class="operator">=</span> col + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; board.length &amp;&amp; newCol&gt;=<span class="number">0</span> &amp;&amp;newCol &lt; board[<span class="number">0</span>].length &amp;&amp; !visted[newRow][newCol])&#123;</span><br><span class="line">                <span class="keyword">if</span> (backTrace(board,word,k+<span class="number">1</span>,newRow,newCol,visted,direction))&#123;<span class="comment">//å¥‘çº¦æ˜¯ï¼šbackTraceä»ç»™å®šçš„è¡Œåˆ—åæ ‡å¼€å§‹ï¼Œè‡ªç”±æ¢ç´¢å­—ç¬¦ä½¿å¾—å’Œwordä¸­ä»k+1å¼€å§‹çš„å­—ç¬¦éƒ½ä¸€ä¸€ç›¸ç­‰ï¼ˆä¸èƒ½ä½¿ç”¨vistedä¸­ç”¨è¿‡çš„ï¼‰ï¼Œå¦‚æœå…¨éƒ¨ç›¸ç­‰åˆ™è¿”å›trueï¼Œå¦åˆ™false</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visted[row][col] = <span class="literal">false</span>;<span class="comment">//æ’¤é”€é€‰æ‹©</span></span><br><span class="line">        <span class="comment">//å…¨éƒ¨æ¢ç´¢å®Œè¿˜æ²¡æœ‰ä¸ºçœŸçš„å°±è¿”å›false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="131-åˆ†å‰²å›æ–‡å­—ç¬¦"><a href="#131-åˆ†å‰²å›æ–‡å­—ç¬¦" class="headerlink" title="131.åˆ†å‰²å›æ–‡å­—ç¬¦"></a>131.åˆ†å‰²å›æ–‡å­—ç¬¦</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/palindrome-partitioning/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/palindrome-partitioning/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ å°† s åˆ†å‰²æˆä¸€äº› å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ å›æ–‡ä¸² ã€‚è¿”å› s æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šs &#x3D; â€œaabâ€<br>è¾“å‡ºï¼š[[â€œaâ€,â€aâ€,â€bâ€],[â€œaaâ€,â€bâ€]]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šs &#x3D; â€œaâ€<br>è¾“å‡ºï¼š[[â€œaâ€]]</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; s.length &lt;&#x3D; 16<br>s ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</p>
<hr>
<p>å¯ä»¥å›æº¯</p>
<p>å›æ–‡å­—ç¬¦ä¸²çš„åˆ¤æ–­ï¼Œå¯ä»¥åŒæŒ‡é’ˆï¼Œä»ä¸­é—´å¼€å§‹å‘ä¸¤ä¾§ç§»åŠ¨ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½ç›¸ç­‰å°±æ˜¯å›æ–‡ï¼ŒO(n)çš„æˆæœ¬</p>
<p>å‰ªæï¼šä¸å¥½å‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">partition</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        backTrace(result,path,<span class="number">0</span>,s);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;List&lt;String&gt;&gt; result,List&lt;String&gt; path,<span class="type">int</span> start,String s)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start == s.length())&#123;<span class="comment">//æ‰€æœ‰å­—ç¬¦éƒ½è¢«åŠ å…¥äº†å·²ç»</span></span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start + <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">newSub</span> <span class="operator">=</span> s.substring(start,i);<span class="comment">//subStringåŒ…å«èµ·ç‚¹ä¸å«ç»“æŸçš„ç‚¹ï¼Œå› æ­¤iå°äºç­‰äºs.length;sunString(start,start)ä¼šè¿”å›ç©ºå­—ç¬¦ï¼Œå› æ­¤iä»start+1å¼€å§‹</span></span><br><span class="line">            <span class="keyword">if</span> (isPalindrome(newSub))&#123;<span class="comment">//å‰ªæ</span></span><br><span class="line">                path.add(newSub);</span><br><span class="line">                backTrace(result,path,i,s);<span class="comment">//newSubä¸åŒ…å«ç´¢å¼•ä¸ºiï¼ˆç»“æŸç‚¹ï¼‰çš„å­—ç¬¦ï¼Œå› æ­¤ï¼Œstartåº”è¯¥ä»iå¼€å§‹</span></span><br><span class="line">                path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> s.length()-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(left) != s.charAt(right))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šæ¥è¯´ï¼Œä¸­é—´å¯èƒ½é‡åˆ°å¾ˆå¤šé‡å¤åˆ¤æ–­ã€‚[i,j)çš„å­ä¸²å¯èƒ½ä¼šå¤šæ¬¡åˆ¤æ–­ï¼Œè€—è´¹O(k),å¯ä»¥ä½¿ç”¨äºŒç»´æ•°ç»„æŠŠé‡åˆ°çš„ç»“æœå­˜èµ·æ¥ï¼Œè®°å¿†åŒ–æœç´¢</p>
<p>è€ƒè™‘å¼•å…¥ä¸€ä¸ªæ•°ç»„memo[start][end],ä»£è¡¨[start,end]å­ä¸²ï¼Œå€¼ä¸º0æ„å‘³ç€æœªè®¡ç®—ï¼Œå€¼ä¸º1æ„å‘³ç€æ˜¯å›æ–‡ï¼Œå€¼ä¸º2æ„å‘³ç€ä¸æ˜¯å›æ–‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">partition</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span>[][] memo = <span class="keyword">new</span> <span class="title class_">int</span>[s.length()][s.length()];</span><br><span class="line">        backTrace(result,path,<span class="number">0</span>,s,memo);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;List&lt;String&gt;&gt; result,List&lt;String&gt; path,<span class="type">int</span> start,String s,<span class="type">int</span>[][] memo)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start == s.length())&#123;<span class="comment">//æ‰€æœ‰å­—ç¬¦éƒ½è¢«åŠ å…¥äº†å·²ç»</span></span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start + <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isPalindrome(s,start,i-<span class="number">1</span>,memo) == <span class="number">1</span>)&#123;<span class="comment">//å‰ªæ</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">newSub</span> <span class="operator">=</span> s.substring(start,i);<span class="comment">//subStringåŒ…å«èµ·ç‚¹ä¸å«ç»“æŸçš„ç‚¹ï¼Œå› æ­¤iå°äºç­‰äºs.length;sunString(start,start)ä¼šè¿”å›ç©ºå­—ç¬¦ï¼Œå› æ­¤iä»start+1å¼€å§‹</span></span><br><span class="line">                path.add(newSub);</span><br><span class="line">                backTrace(result,path,i,s,memo);<span class="comment">//newSubä¸åŒ…å«ç´¢å¼•ä¸ºiï¼ˆç»“æŸç‚¹ï¼‰çš„å­—ç¬¦ï¼Œå› æ­¤ï¼Œstartåº”è¯¥ä»iå¼€å§‹</span></span><br><span class="line">                path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">isPalindrome</span><span class="params">(String s, <span class="type">int</span> left, <span class="type">int</span> right, <span class="type">int</span>[][] memo)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (memo[left][right] != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> memo[left][right];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œä¸å†åˆ›å»ºå­ä¸²ï¼Œè€Œæ˜¯ç›´æ¥åœ¨åŸå­—ç¬¦ä¸²sä¸Šç”¨leftå’ŒrightæŒ‡é’ˆåˆ¤æ–­</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> right;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) != s.charAt(j)) &#123;</span><br><span class="line">                memo[left][right] = <span class="number">2</span>; <span class="comment">// ä¸æ˜¯å›æ–‡</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        memo[left][right] = <span class="number">1</span>; <span class="comment">// æ˜¯å›æ–‡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦:O(n*2^n).æœ€åæƒ…å†µä»»ä½•ä¸€ç§åˆ’åˆ†éƒ½ç¬¦åˆè¦æ±‚ã€‚ä¸€å…±æœ‰2^(n-1)ä¸ªåˆ’åˆ†æ–¹æ¡ˆï¼ˆä¸¤ä¸ªæ•°ä¸­é—´çš„ç©ºä½å¯ä»¥åˆ’ä¸€åˆ€æˆ–è€…ä¸åˆ’ä¸€åˆ€ï¼‰ï¼Œå¤åˆ¶èŠ±è´¹O(n),æ¯ç§ æ–¹æ¡ˆæ¯ä¸ªå­ä¸²éƒ½è¦åˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ï¼Œè€—è´¹å¤æ‚åº¦O(n)</p>
<p>ç©ºé—´å¤æ‚åº¦:O(n^2),è°ƒç”¨æ ˆæœ€æ·±æ˜¯O(n),è®°å¿†æ•°ç»„O(n^2)</p>
<ol start="2">
<li>å¯ä»¥å…ˆdpåŠ¨æ€è§„åˆ’é¢„å¤„ç†</li>
</ol>
<p>å¯ä»¥ç›´æ¥æ„å»ºdp[start][end]è¡¨ä»£è¡¨[start,end]æ˜¯å¦ä¸ºå›æ–‡(ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬é¦–ä½éƒ½å–)</p>
<p>dp[i][j]ä¸ºå›æ–‡ï¼Œæ˜¾ç„¶éœ€è¦é¦–å°¾å­—ç¬¦ç›¸åŒï¼Œå¹¶ä¸”é™¤äº†é¦–ä½å¤–çš„å­—ç¬¦ä¸²æ˜¯ä¸ªå›æ–‡ã€‚</p>
<p>å› æ­¤ï¼Œdp[i][j] &#x3D; (char[i]&#x3D;&#x3D;char[j])&amp;&amp;(dp[i+1][j-1])</p>
<p>æˆ‘ä»¬åªéœ€è¦å¡«j&gt;&#x3D;içš„éƒ¨åˆ†</p>
<p>ä¹Ÿå°±æ˜¯ä¸»å¯¹è§’çº¿åŠå…¶ä¸Šæ–¹</p>
<p>è¾¹ç•Œæ¡ä»¶ï¼ši&#x3D;&#x3D;j,true.</p>
<p>æ³¨æ„é€’æ¨çš„æ­¥é•¿æ˜¯2ï¼Œæ¯æ¬¡i-jéƒ½å‡å°2ï¼Œå› æ­¤éƒ¨åˆ†æ— æ³•é€’æ¨åˆ°i&#x3D;&#x3D;j</p>
<p>ç¬¬äºŒä¸ªè¾¹ç•Œæ¡ä»¶ï¼š</p>
<p>i-j &#x3D;&#x3D; 1,æ­¤æ—¶çœŸå‡å°±æ˜¯char[i] &#x3D;&#x3D; char[j]</p>
<p>å¡«å……é¡ºåºä»å·¦åˆ°å³ï¼Œä»ä¸‹åˆ° ä¸Š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">partition</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()][s.length()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s.length()-<span class="number">1</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            dp[i][i] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= s.length() - <span class="number">2</span>; i++) &#123;</span><br><span class="line">            dp[i][i+<span class="number">1</span>] = s.charAt(i)==s.charAt(i+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s.length()-<span class="number">1</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">2</span>; j &lt; s.length(); j++) &#123;</span><br><span class="line">                dp[i][j] = (s.charAt(i)==s.charAt(j))&amp;&amp;(dp[i+<span class="number">1</span>][j-<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        backTrace(result,path,<span class="number">0</span>,s,dp);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;List&lt;String&gt;&gt; result,List&lt;String&gt; path,<span class="type">int</span> start,String s,<span class="type">boolean</span>[][] dp)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start == s.length())&#123;<span class="comment">//æ‰€æœ‰å­—ç¬¦éƒ½è¢«åŠ å…¥äº†å·²ç»</span></span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start + <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">newSub</span> <span class="operator">=</span> s.substring(start,i);<span class="comment">//subStringåŒ…å«èµ·ç‚¹ä¸å«ç»“æŸçš„ç‚¹ï¼Œå› æ­¤iå°äºç­‰äºs.length;sunString(start,start)ä¼šè¿”å›ç©ºå­—ç¬¦ï¼Œå› æ­¤iä»start+1å¼€å§‹</span></span><br><span class="line">            <span class="keyword">if</span> (dp[start][i-<span class="number">1</span>])&#123;<span class="comment">//å‰ªæ</span></span><br><span class="line">                path.add(newSub);</span><br><span class="line">                backTrace(result,path,i,s,dp);<span class="comment">//newSubä¸åŒ…å«ç´¢å¼•ä¸ºiï¼ˆç»“æŸç‚¹ï¼‰çš„å­—ç¬¦ï¼Œå› æ­¤ï¼Œstartåº”è¯¥ä»iå¼€å§‹</span></span><br><span class="line">                path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦åŒä¸Š<br>ç©ºé—´å¤æ‚åº¦åŒä¸Š</p>
<h1 id="51-Nçš‡å"><a href="#51-Nçš‡å" class="headerlink" title="51.Nçš‡å"></a>51.Nçš‡å</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/n-queens/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/n-queens/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>æŒ‰ç…§å›½é™…è±¡æ£‹çš„è§„åˆ™ï¼Œçš‡åå¯ä»¥æ”»å‡»ä¸ä¹‹å¤„åœ¨åŒä¸€è¡Œæˆ–åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šçš„æ£‹å­ã€‚</p>
<p>n çš‡åé—®é¢˜ ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† n ä¸ªçš‡åæ”¾ç½®åœ¨ nÃ—n çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ n çš‡åé—®é¢˜ çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªä¸åŒçš„ n çš‡åé—®é¢˜ çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ â€˜Qâ€™ å’Œ â€˜.â€™ åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/10/16/%E5%9B%9E%E6%BA%AF/img_7.png"
                        class="" title="img_7.png"
                 >

<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šn &#x3D; 4<br>è¾“å‡ºï¼š[[â€œ.Q..â€,â€â€¦Qâ€,â€Qâ€¦â€,â€..Q.â€],[â€œ..Q.â€,â€Qâ€¦â€,â€â€¦Qâ€,â€.Q..â€]]<br>è§£é‡Šï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ4 çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šn &#x3D; 1<br>è¾“å‡ºï¼š[[â€œQâ€]]</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; n &lt;&#x3D; 9</p>
<hr>
<p>æ¯ä¸€è¡Œåªèƒ½æ”¾ä¸€ä¸ªçš‡å</p>
<p>æ¯è¡Œçš„é˜²æ­¢ä½ç½®è¦ä¿éšœåˆ—ã€ä¸¤æ¡æ–œçº¿çº¿å¤„æ²¡æœ‰çš‡åï¼ˆå‰ªææ¡ä»¶ï¼‰</p>
<p>ä¸»æ–œçº¿çº¿ï¼šrow - col &#x3D; c;å‰¯æ–œçº¿ï¼šrow + col &#x3D; c;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">solveNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; plan = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        backTrace(result,plan,n,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;List&lt;String&gt;&gt; result, List&lt;String&gt; plan, <span class="type">int</span> n,<span class="type">int</span> row)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (plan.size() == n) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(plan));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">thisRow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j==i)&#123;</span><br><span class="line">                    thisRow.append(<span class="string">&#x27;Q&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    thisRow.append(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            plan.add(<span class="keyword">new</span> <span class="title class_">String</span>(thisRow));<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line">            <span class="keyword">if</span> (!thisColTwoQ(plan,i,row,n) &amp;&amp; !thisFirstSlashTwoQ(plan,i,row,n) &amp;&amp; !thisSecondSlashTwoQ(plan,i,row,n))&#123;</span><br><span class="line">                backTrace(result,plan,n,row+<span class="number">1</span>);<span class="comment">//ç»§ç»­æ¢ç´¢ä¸‹ä¸€è¡Œ</span></span><br><span class="line">            &#125;</span><br><span class="line">            plan.remove(plan.size()-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">thisColTwoQ</span><span class="params">(List&lt;String&gt; plan,<span class="type">int</span> col,<span class="type">int</span> row,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> row - <span class="number">1</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> plan.get(i);</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(col) == <span class="string">&#x27;Q&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">thisFirstSlashTwoQ</span><span class="params">(List&lt;String&gt; plan,<span class="type">int</span> col,<span class="type">int</span> row,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> row - col;<span class="comment">//col = row-c</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> row - <span class="number">1</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i - c;</span><br><span class="line">            <span class="keyword">if</span> (j &lt; <span class="number">0</span> || j &gt; n-<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> plan.get(i);</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(j) == <span class="string">&#x27;Q&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">thisSecondSlashTwoQ</span><span class="params">(List&lt;String&gt; plan, <span class="type">int</span> col, <span class="type">int</span> row ,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> row + col;<span class="comment">//col = c - row</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> row - <span class="number">1</span>; i &gt;= <span class="number">0</span> ; i--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> c - i;</span><br><span class="line">            <span class="keyword">if</span> (j &lt; <span class="number">0</span> || j &gt; n - <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> plan.get(i);</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(j) == <span class="string">&#x27;Q&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è§£æ³•æ˜¯æ­£ç¡®çš„</p>
<p>ä½†æ˜¯å‰ªæçš„é€»è¾‘å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>
<p>ç›®å‰çš„å‰ªæè°ƒç”¨å¤šä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½è¦å†æ¬¡éå†ä¸€æ¬¡ä¹‹å‰å·²æœ‰çš„æ‰€æœ‰è¡Œ</p>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‰ä¸ªå¸ƒå°”æ•°ç»„æ¥è®°å½•å¯¹åº”çš„è¡Œã€å¯¹è§’çº¿æ˜¯å¦å·²ç»æœ‰Q</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">solveNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; plan = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">boolean</span>[] col = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">        <span class="type">boolean</span>[] diag1 = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>*n];</span><br><span class="line">        <span class="type">boolean</span>[] diag2 = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span> * n];</span><br><span class="line">        backTrace(result,plan,n,<span class="number">0</span>,col,diag1,diag2);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backTrace</span><span class="params">(List&lt;List&lt;String&gt;&gt; result, List&lt;String&gt; plan, <span class="type">int</span> n,<span class="type">int</span> row,<span class="type">boolean</span>[] col,<span class="type">boolean</span>[] diagonals1,<span class="type">boolean</span>[] diagonals2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (plan.size() == n) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(plan));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!col[i] &amp;&amp; !diagonals1[row-i+n-<span class="number">1</span>] &amp;&amp; !diagonals2[row+i])&#123;</span><br><span class="line">                <span class="type">StringBuilder</span> <span class="variable">thisRow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j==i)&#123;</span><br><span class="line">                        thisRow.append(<span class="string">&#x27;Q&#x27;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        thisRow.append(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                col[i] = <span class="literal">true</span>;</span><br><span class="line">                diagonals1[row - i + n - <span class="number">1</span>] = <span class="literal">true</span>;<span class="comment">//ä¿è¯ç´¢å¼•å¤§äºç­‰äº0</span></span><br><span class="line">                diagonals2[row + i] = <span class="literal">true</span>;</span><br><span class="line">                plan.add(<span class="keyword">new</span> <span class="title class_">String</span>(thisRow));<span class="comment">//åšå‡ºé€‰æ‹©</span></span><br><span class="line"></span><br><span class="line">                backTrace(result,plan,n,row+<span class="number">1</span>,col,diagonals1,diagonals2);<span class="comment">//ç»§ç»­æ¢ç´¢ä¸‹ä¸€è¡Œ</span></span><br><span class="line">                </span><br><span class="line">                plan.remove(plan.size()-<span class="number">1</span>);</span><br><span class="line">                col[i] = <span class="literal">false</span>;</span><br><span class="line">                diagonals1[row - i + n - <span class="number">1</span>] = <span class="literal">false</span>;<span class="comment">//ä¿è¯ç´¢å¼•å¤§äºç­‰äº0</span></span><br><span class="line">                diagonals2[row + i] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç©ºé—´å¤æ‚åº¦ï¼šå¸ƒå°”æ•°ç»„éƒ½æ˜¯O(n),è°ƒç”¨æ ˆO(n),æ€»å…±O(n)</p>
<p>æ—¶é—´å¤æ‚åº¦ï¼š</p>
<p>é€’å½’æ ‘èŠ‚ç‚¹ï¼šç¬¬ä¸€è¡ŒN,ç¬¬äºŒè¡ŒN-1ç­‰ç­‰ï¼ˆä¸è€ƒè™‘å‰ªæï¼‰ï¼Œå› æ­¤ä¸€å…±O(N!)ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ¬åœ°æ“ä½œO(N),å¯¹äºå¶èŠ‚ç‚¹Sï¼ˆNï¼‰ï¼Œæœ‰O(N^2)çš„å¤åˆ¶ï¼Œæ‰€ä»¥æ€»çš„æ˜¯O(N!*N+S(N)*N^2)</p>
<p>ä¸‹é¢æ˜¯å®˜æ–¹è§£ç­”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">solveNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; solutions = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;String&gt;&gt;();</span><br><span class="line">        <span class="type">int</span>[] queens = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(queens, -<span class="number">1</span>);</span><br><span class="line">        Set&lt;Integer&gt; columns = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line">        Set&lt;Integer&gt; diagonals1 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line">        Set&lt;Integer&gt; diagonals2 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line">        backtrack(solutions, queens, n, <span class="number">0</span>, columns, diagonals1, diagonals2);</span><br><span class="line">        <span class="keyword">return</span> solutions;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">backtrack</span><span class="params">(List&lt;List&lt;String&gt;&gt; solutions, <span class="type">int</span>[] queens, <span class="type">int</span> n, <span class="type">int</span> row, Set&lt;Integer&gt; columns, Set&lt;Integer&gt; diagonals1, Set&lt;Integer&gt; diagonals2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (row == n) &#123;</span><br><span class="line">            List&lt;String&gt; board = generateBoard(queens, n);</span><br><span class="line">            solutions.add(board);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (columns.contains(i)) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">int</span> <span class="variable">diagonal1</span> <span class="operator">=</span> row - i;</span><br><span class="line">                <span class="keyword">if</span> (diagonals1.contains(diagonal1)) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">int</span> <span class="variable">diagonal2</span> <span class="operator">=</span> row + i;</span><br><span class="line">                <span class="keyword">if</span> (diagonals2.contains(diagonal2)) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                queens[row] = i;</span><br><span class="line">                columns.add(i);</span><br><span class="line">                diagonals1.add(diagonal1);</span><br><span class="line">                diagonals2.add(diagonal2);</span><br><span class="line">                backtrack(solutions, queens, n, row + <span class="number">1</span>, columns, diagonals1, diagonals2);</span><br><span class="line">                queens[row] = -<span class="number">1</span>;</span><br><span class="line">                columns.remove(i);</span><br><span class="line">                diagonals1.remove(diagonal1);</span><br><span class="line">                diagonals2.remove(diagonal2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateBoard</span><span class="params">(<span class="type">int</span>[] queens, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;String&gt; board = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span>[] row = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">            Arrays.fill(row, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">            row[queens[i]] = <span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">            board.add(<span class="keyword">new</span> <span class="title class_">String</span>(row));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸»è¦ä¸åŒåœ¨äºï¼š</p>
<ol>
<li>ä½¿ç”¨Setæ¥è®°å½•é‡å¤ï¼Œå¤©ç„¶æ”¯æŒè´Ÿæ•°ç´¢å¼•</li>
<li>ä½¿ç”¨int[] queens,queens[row]&#x3D;col,æ‰¾åˆ°ç­”æ¡ˆåä¸€æ¬¡æ€§ç”Ÿæˆæ£‹ç›˜</li>
</ol>
<p>è¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–</p>
<p>ä½¿ç”¨ä½è¿ç®—çŠ¶æ€å‹ç¼©</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">solveNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] queens = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(queens, -<span class="number">1</span>);</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; solutions = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;String&gt;&gt;();</span><br><span class="line">        solve(solutions, queens, n, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> solutions;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(List&lt;List&lt;String&gt;&gt; solutions, <span class="type">int</span>[] queens, <span class="type">int</span> n, <span class="type">int</span> row, <span class="type">int</span> columns, <span class="type">int</span> diagonals1, <span class="type">int</span> diagonals2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (row == n) &#123;</span><br><span class="line">            List&lt;String&gt; board = generateBoard(queens, n);</span><br><span class="line">            solutions.add(board);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">availablePositions</span> <span class="operator">=</span> ((<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>) &amp; (~(columns | diagonals1 | diagonals2));</span><br><span class="line">            <span class="keyword">while</span> (availablePositions != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">position</span> <span class="operator">=</span> availablePositions &amp; (-availablePositions);</span><br><span class="line">                availablePositions = availablePositions &amp; (availablePositions - <span class="number">1</span>);</span><br><span class="line">                <span class="type">int</span> <span class="variable">column</span> <span class="operator">=</span> Integer.bitCount(position - <span class="number">1</span>);</span><br><span class="line">                queens[row] = column;</span><br><span class="line">                solve(solutions, queens, n, row + <span class="number">1</span>, columns | position, (diagonals1 | position) &lt;&lt; <span class="number">1</span>, (diagonals2 | position) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">                queens[row] = -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateBoard</span><span class="params">(<span class="type">int</span>[] queens, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;String&gt; board = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span>[] row = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">            Arrays.fill(row, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">            row[queens[i]] = <span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">            board.add(<span class="keyword">new</span> <span class="title class_">String</span>(row));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>çŸ¥è¯†è¡¥å……ï¼š</p>
<ol>
<li>è¡¥ç ï¼šç›®å‰è®¡ç®—æœºçš„æœ‰ç¬¦å·æ•´æ•°ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨è¡¥ç è¡¨ç¤ºçš„ã€‚å®ƒæ˜¯ä¸ºäº†å¤„ç†ä¸¤ä¸ªç›¸åæ•°ä¹‹å’Œåº”å½“ä¸º0ï¼Œå¹¶ä¸”0åªèƒ½æœ‰ä¸€ä¸ªè¡¨ç¤ºã€‚è¿™æ ·å¯ä»¥èŠ‚çœè®¡ç®—æœºèµ„æºã€‚æœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0è¡¨ç¤º0æˆ–è€…æ­£æ•°ã€‚æ­£æ•°è¡¥ç æ˜¯è‡ªå·±ï¼Œè´Ÿæ•°è¡¥ç æ˜¯ï¼Œè´Ÿæ•°çš„ç»å¯¹å€¼æŒ‰ä½å–åå+1</li>
</ol>
<p>å…³äºä¸Šé¢ä»£ç çš„ä¸€äº›è§£é‡Š</p>
<h4 id="ç¬¬1æ­¥-availablePositions-1-n-1-columns-diagonals1-diagonals2"><a href="#ç¬¬1æ­¥-availablePositions-1-n-1-columns-diagonals1-diagonals2" class="headerlink" title="ç¬¬1æ­¥: availablePositions = ((1 &lt;&lt; n) - 1) &amp; (~(columns | diagonals1 | diagonals2));"></a>ç¬¬1æ­¥: <code>availablePositions = ((1 &lt;&lt; n) - 1) &amp; (~(columns | diagonals1 | diagonals2));</code></h4><p>è¿™è¡Œä»£ç åœ¨å¯»æ‰¾å½“å‰è¡Œæ‰€æœ‰<strong>å®‰å…¨</strong>çš„åˆ—ã€‚æˆ‘ä»¬æŠŠå®ƒæ‹†æˆä¸‰å°æ­¥ï¼š</p>
<ul>
<li><p><code>(columns | diagonals1 | diagonals2)</code></p>
<ul>
<li><code>|</code> æ˜¯æŒ‰ä½æˆ– (OR) è¿ç®—ã€‚åªè¦ä¸‰ä¸ªæ•´æ•°ä¸­ä»»æ„ä¸€ä¸ªçš„æŸä¸€ä½æ˜¯ <code>1</code>ï¼Œç»“æœçš„è¯¥ä½å°±æ˜¯ <code>1</code>ã€‚</li>
<li>æ‰€ä»¥ï¼Œè¿™ä¸ªè¡¨è¾¾å¼è®¡ç®—å‡ºäº†ä¸€ä¸ª<strong>æ€»çš„æ”»å‡»èŒƒå›´</strong>ã€‚ç»“æœä¸­æ‰€æœ‰ä¸º <code>1</code> çš„ä½ï¼Œéƒ½ä»£è¡¨å½“å‰è¡Œ<strong>ä¸èƒ½</strong>æ”¾çš‡åçš„åˆ—ã€‚</li>
<li><strong>ä¾‹ (N&#x3D;8):</strong> å‡è®¾ <code>columns = 00010000</code>, <code>diagonals1 = 00100000</code>, <code>diagonals2 = 00000100</code>ã€‚</li>
<li><code>OR</code> çš„ç»“æœæ˜¯ <code>00110100</code>ã€‚è¿™è¡¨ç¤ºç¬¬2ã€4ã€5åˆ—æ˜¯å±é™©çš„ã€‚</li>
</ul>
</li>
<li><p><code>~(...)</code></p>
<ul>
<li><code>~</code> æ˜¯æŒ‰ä½é (NOT) è¿ç®—ï¼Œå®ƒä¼šæŠŠæ‰€æœ‰çš„ <code>0</code> å˜æˆ <code>1</code>ï¼Œ<code>1</code> å˜æˆ <code>0</code>ã€‚</li>
<li>æˆ‘ä»¬å¯¹ä¸Šé¢çš„å±é™©ä½ç½® <code>00110100</code> å–åï¼Œå¾—åˆ° <code>11001011</code>ã€‚</li>
<li>ç°åœ¨ï¼Œç»“æœä¸­æ‰€æœ‰ä¸º <code>1</code> çš„ä½ï¼Œå°±ä»£è¡¨å½“å‰è¡Œ<strong>å¯ä»¥</strong>æ”¾çš‡åçš„å®‰å…¨åˆ—ã€‚</li>
</ul>
</li>
<li><p><code>((1 &lt;&lt; n) - 1) &amp; (...)</code></p>
<ul>
<li><code>1 &lt;&lt; n</code>ï¼šå¯¹äº n&#x3D;8ï¼Œ<code>1 &lt;&lt; 8</code> æ˜¯ <code>100000000</code> (ä¸€ä¸ª1åé¢8ä¸ª0)ã€‚</li>
<li><code>(1 &lt;&lt; n) - 1</code>ï¼š<code>100000000 - 1</code> ç»“æœæ˜¯ <code>11111111</code> (è¿ç»­nä¸ª1)ã€‚è¿™æ˜¯ä¸€ä¸ª<strong>æ©ç </strong>ã€‚</li>
<li>ä¸ºä»€ä¹ˆè¦ç”¨æ©ç ï¼Ÿå› ä¸º <code>~</code> è¿ç®—ä¼šæŠŠä¸€ä¸ªæ•´æ•°çš„æ‰€æœ‰ä½ï¼ˆæ¯”å¦‚32ä½ï¼‰éƒ½å–åï¼Œæˆ‘ä»¬åªå…³å¿ƒä»£è¡¨æ£‹ç›˜çš„ä½ <code>n</code> ä½ã€‚ç”¨ <code>&amp;</code> (æŒ‰ä½ä¸) æ“ä½œï¼Œå¯ä»¥å±è”½æ‰é«˜ä½æ— å…³çš„ <code>1</code>ã€‚</li>
<li><strong>æœ€ç»ˆ</strong>ï¼Œ<code>availablePositions</code> å°±æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ä¸º <code>1</code> çš„ä½ç²¾ç¡®åœ°å¯¹åº”äº†å½“å‰è¡Œæ‰€æœ‰èƒ½å®‰å…¨æ”¾ç½®çš‡åçš„åˆ—ã€‚</li>
</ul>
</li>
</ul>
<h4 id="ç¬¬3æ­¥-position-availablePositions-availablePositions-lowbitæŠ€å·§"><a href="#ç¬¬3æ­¥-position-availablePositions-availablePositions-lowbitæŠ€å·§" class="headerlink" title="ç¬¬3æ­¥: position = availablePositions &amp; (-availablePositions); (lowbitæŠ€å·§)"></a>ç¬¬3æ­¥: <code>position = availablePositions &amp; (-availablePositions);</code> (lowbitæŠ€å·§)</h4><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ä½è¿ç®—æŠ€å·§ï¼Œå«åš <code>lowbit</code>ã€‚å®ƒçš„ä½œç”¨æ˜¯<strong>åªä¿ç•™ä¸€ä¸ªæ•°æœ€å³è¾¹çš„é‚£ä¸ª <code>1</code>ï¼Œå…¶ä½™ä½éƒ½æ¸…é›¶</strong>ã€‚</p>
<ul>
<li><strong>ä¾‹:</strong> <code>availablePositions</code> æ˜¯ <code>01011000</code>ã€‚</li>
<li><code>-availablePositions</code> åœ¨è®¡ç®—æœºä¸­æ˜¯ç”¨è¡¥ç è¡¨ç¤ºçš„ï¼Œç­‰äº <code>~availablePositions + 1</code>ï¼Œç»“æœæ˜¯ <code>10101000</code>ã€‚</li>
<li><code>01011000 &amp; 10101000</code> çš„ç»“æœæ˜¯ <code>00001000</code>ã€‚</li>
<li>çœ‹ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åˆ†ç¦»å‡ºäº†æœ€å³è¾¹çš„ä¸€ä¸ªå¯æ”¾ç½®ä½ç½®ï¼<code>position</code> ç°åœ¨å°±ä»£è¡¨äº†æˆ‘ä»¬è¿™æ¬¡è¦å°è¯•æ”¾ç½®çš‡åçš„é‚£ä¸ªç‚¹ã€‚</li>
</ul>
<h4 id="ç¬¬4æ­¥-availablePositions-availablePositions-availablePositions-1"><a href="#ç¬¬4æ­¥-availablePositions-availablePositions-availablePositions-1" class="headerlink" title="ç¬¬4æ­¥: availablePositions = availablePositions &amp; (availablePositions - 1);"></a>ç¬¬4æ­¥: <code>availablePositions = availablePositions &amp; (availablePositions - 1);</code></h4><p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªç»å…¸æŠ€å·§ï¼Œä½œç”¨æ˜¯<strong>æ¶ˆé™¤ä¸€ä¸ªæ•°æœ€å³è¾¹çš„é‚£ä¸ª <code>1</code></strong>ã€‚</p>
<ul>
<li><strong>ä¾‹:</strong> <code>availablePositions</code> æ˜¯ <code>01011000</code>ã€‚</li>
<li><code>availablePositions - 1</code> æ˜¯ <code>01010111</code>ã€‚</li>
<li><code>01011000 &amp; 01010111</code> çš„ç»“æœæ˜¯ <code>01010000</code>ã€‚</li>
<li>æœ€å³è¾¹çš„ <code>1</code> è¢«å¹²æ‰äº†ï¼è¿™æ ·ï¼Œåœ¨ä¸‹ä¸€æ¬¡ <code>while</code> å¾ªç¯ä¸­ï¼Œ<code>lowbit</code> æŠ€å·§å°±ä¼šæŠ“åˆ°ä¸‹ä¸€ä¸ªå¯ç”¨çš„ä½ç½®ï¼ˆç°åœ¨æœ€å³è¾¹çš„é‚£ä¸ª <code>1</code>ï¼‰ã€‚</li>
</ul>
<p>é€šè¿‡ç¬¬3æ­¥å’Œç¬¬4æ­¥çš„é…åˆï¼Œè¿™ä¸ª <code>while</code> å¾ªç¯å¯ä»¥<strong>ä¸é‡ä¸æ¼åœ°ã€é«˜æ•ˆåœ°éå†æ‰€æœ‰å¯æ”¾ç½®çš‡åçš„ä½ç½®</strong>ï¼Œè€Œä¸éœ€è¦ä¸€ä¸ª <code>for</code> å¾ªç¯ä»å¤´åˆ°å°¾æ£€æŸ¥ã€‚</p>
<h4 id="ç¬¬5æ­¥-int-column-Integer-bitCount-position-1"><a href="#ç¬¬5æ­¥-int-column-Integer-bitCount-position-1" class="headerlink" title="ç¬¬5æ­¥: int column = Integer.bitCount(position - 1);"></a>ç¬¬5æ­¥: <code>int column = Integer.bitCount(position - 1);</code></h4><p>ç°åœ¨æˆ‘ä»¬æœ‰äº† <code>position</code>ï¼Œæ¯”å¦‚ <code>00001000</code> (åè¿›åˆ¶æ˜¯8)ï¼Œä½†æˆ‘ä»¬éœ€è¦çš„æ˜¯åˆ—çš„ç´¢å¼•å·ï¼Œä¹Ÿå°±æ˜¯ <code>3</code>ã€‚æ€ä¹ˆè½¬æ¢ï¼Ÿ</p>
<ul>
<li><code>position</code> æ°¸è¿œæ˜¯2çš„å¹‚ï¼Œåªæœ‰ä¸€ä¸ªä½æ˜¯ <code>1</code>ã€‚</li>
<li><code>position - 1</code> ä¼šå¾—åˆ°ä¸€ä¸ªä½ä½å…¨æ˜¯ <code>1</code> çš„æ•°ã€‚ä¾‹å¦‚ <code>8 - 1 = 7</code>ï¼ŒäºŒè¿›åˆ¶æ˜¯ <code>00000111</code>ã€‚</li>
<li><code>Integer.bitCount()</code> æ–¹æ³•ä¼šè®¡ç®—ä¸€ä¸ªæ•°æœ‰å¤šå°‘ä¸ª <code>1</code>ã€‚<code>00000111</code> ä¸­æœ‰3ä¸ª <code>1</code>ã€‚</li>
<li>è¿™ä¸ª <code>1</code> çš„æ•°é‡ï¼Œæ­£å¥½å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„åˆ—ç´¢å¼•ï¼</li>
</ul>

                    
                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                å›æº¯
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2025/10/16/å›æº¯/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    ä½œè€…
                </div>
                <div class="content">stellogic</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    å‘å¸ƒäº
                </div>
                <div class="content">2025-10-16 08:16</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    è®¸å¯
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
                        
                            <i class="fa-brands fa-creative-commons"></i>
                            <i class="fa-brands fa-creative-commons-by"></i>
                            <i class="fa-brands fa-creative-commons-nc"></i>
                            <i class="fa-brands fa-creative-commons-sa"></i>
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="å¤åˆ¶ç‰ˆæƒä¿¡æ¯" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E5%9B%9E%E6%BA%AF/">å›æº¯</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ° QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="åˆ†äº«åˆ°å¾®ä¿¡"
            data-tooltip-img-tip="å¾®ä¿¡æ‰«ä¸€æ‰«"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ°å¾®åš"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2025/10/19/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"
                                   title="äºŒåˆ†æŸ¥æ‰¾"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">äºŒåˆ†æŸ¥æ‰¾</span>
                                        <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2025/10/09/%E9%93%BE%E8%A1%A8/"
                                   title="é“¾è¡¨"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">é“¾è¡¨</span>
                                        <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;è¯„è®º
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">è¯„è®ºæ’ä»¶åŠ è½½å¤±è´¥</span>
    <button class="reload keep-button">ç‚¹å‡»é‡æ–°åŠ è½½</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">æ­£åœ¨åŠ è½½è¯„è®ºæ’ä»¶</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="giscus-comments-container">
        <div class="giscus" id="giscus"></div>
        <script 
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          if (!window.KeepCommentPlugin?.getGiscusTheme) {
            window.KeepCommentPlugin.getGiscusTheme = () => {
              return document.documentElement.classList.contains('dark-mode') ? 'dark_dimmed' : 'light_tritanopia'
            }
          }

          if (!window.KeepCommentPlugin?.changeGiscusTheme) {
            window.KeepCommentPlugin.changeGiscusTheme = () => {
              const iframe = document.querySelector('iframe.giscus-frame')
              iframe && iframe.contentWindow.postMessage({
                giscus: {
                  setConfig: {
                    theme: window.KeepCommentPlugin.getGiscusTheme()
                  }
                }
              }, 'https://giscus.app')
            }
          }

          if (!window.KeepCommentPlugin?.initGiscus) {
            window.KeepCommentPlugin.initGiscus = () => {
              const script = document.createElement('script')
              script.async = true
              script.src = 'https://giscus.app/client.js'
              script.setAttribute('data-repo', 'Stellogic/Stellogic.github.io')
              script.setAttribute('data-repo-id', 'R_kgDOOkF4SA')
              script.setAttribute('data-category', 'Announcements')
              script.setAttribute('data-category-id', 'DIC_kwDOOkF4SM4Cp-Ln')
              script.setAttribute('data-reactions-enabled', '1')
              script.setAttribute('data-lang', 'zh-CN')
              script.setAttribute('data-mapping', 'pathname')
              script.setAttribute('data-strict', '0')
              script.setAttribute('data-emit-metadata', '0')
              script.setAttribute('data-input-position', 'top')
              script.setAttribute('crossorigin', 'anonymous')
              script.setAttribute('loading', 'lazy')
              script.setAttribute('data-theme', window.KeepCommentPlugin.getGiscusTheme())
              document.querySelector('.giscus-comments-container').appendChild(script)
              script.onerror = () => {
                window.KeepCommentPlugin.loadFailHandle()
              }
              script.onload = () => {
                window.KeepCommentPlugin.hideLoading()
              }
              const toggleThemeBtn = document.querySelector('.tool-toggle-theme-mode')
              toggleThemeBtn && toggleThemeBtn.addEventListener('click', () => {
                window.KeepCommentPlugin.changeGiscusTheme()
              })
            }
          }

          if ('false' === "true") {
            setTimeout(() => {
              window.KeepCommentPlugin.initGiscus()
            }, 1000)
          } else {
            window.addEventListener("DOMContentLoaded", window.KeepCommentPlugin.initGiscus)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#46-%E5%85%A8%E6%8E%92%E5%88%97"><span class="nav-number">1.</span> <span class="nav-text">46. å…¨æ’åˆ—</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#78-%E5%AD%90%E9%9B%86"><span class="nav-number">2.</span> <span class="nav-text">78.å­é›†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#17-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88"><span class="nav-number">3.</span> <span class="nav-text">17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#39-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C"><span class="nav-number">4.</span> <span class="nav-text">39.ç»„åˆæ€»å’Œ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#22-%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90"><span class="nav-number">5.</span> <span class="nav-text">22.æ‹¬å·ç”Ÿæˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#79-%E5%8D%95%E8%AF%8D%E6%90%9C%E7%B4%A2"><span class="nav-number">6.</span> <span class="nav-text">79.å•è¯æœç´¢</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#131-%E5%88%86%E5%89%B2%E5%9B%9E%E6%96%87%E5%AD%97%E7%AC%A6"><span class="nav-number">7.</span> <span class="nav-text">131.åˆ†å‰²å›æ–‡å­—ç¬¦</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#51-N%E7%9A%87%E5%90%8E"><span class="nav-number">8.</span> <span class="nav-text">51.Nçš‡å</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC1%E6%AD%A5-availablePositions-1-n-1-columns-diagonals1-diagonals2"><span class="nav-number">8.1.</span> <span class="nav-text">ç¬¬1æ­¥: availablePositions &#x3D; ((1 &lt;&lt; n) - 1) &amp; (~(columns | diagonals1 | diagonals2));</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC3%E6%AD%A5-position-availablePositions-availablePositions-lowbit%E6%8A%80%E5%B7%A7"><span class="nav-number">8.2.</span> <span class="nav-text">ç¬¬3æ­¥: position &#x3D; availablePositions &amp; (-availablePositions); (lowbitæŠ€å·§)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC4%E6%AD%A5-availablePositions-availablePositions-availablePositions-1"><span class="nav-number">8.3.</span> <span class="nav-text">ç¬¬4æ­¥: availablePositions &#x3D; availablePositions &amp; (availablePositions - 1);</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC5%E6%AD%A5-int-column-Integer-bitCount-position-1"><span class="nav-number">8.4.</span> <span class="nav-text">ç¬¬5æ­¥: int column &#x3D; Integer.bitCount(position - 1);</span></a></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
    &copy;&nbsp;2025
    
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">stellogic</a>
        
    </div>

    <div class="theme-info info-item">
        ç”±&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;é©±åŠ¨&nbsp;&&nbsp;ä¸»é¢˜&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    
        
        <div class="deploy-info info-item">
            
                <a target="_blank" rel="nofollow" href="https://stellogic.github.io/">
            
            æœ¬ç«™ç”± <span class="tooltip" data-tooltip-content="GitHub Pages"><img src="/images/brands/github.png"></span> æä¾›éƒ¨ç½²æœåŠ¡
            
                </a>
            
        </div>
    

    
        <div class="count-info info-item">
            

            
                <span class="count-item border-box uv">
                    <span class="item-type border-box">è®¿å®¢æ•°</span>
                    <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span>
                </span>
            

            
                <span class="count-item border-box pv">
                    <span class="item-type border-box">è®¿é—®é‡</span>
                    <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span>
                </span>
            
        </div>
    

    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#46-%E5%85%A8%E6%8E%92%E5%88%97"><span class="nav-number">1.</span> <span class="nav-text">46. å…¨æ’åˆ—</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#78-%E5%AD%90%E9%9B%86"><span class="nav-number">2.</span> <span class="nav-text">78.å­é›†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#17-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88"><span class="nav-number">3.</span> <span class="nav-text">17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#39-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C"><span class="nav-number">4.</span> <span class="nav-text">39.ç»„åˆæ€»å’Œ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#22-%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90"><span class="nav-number">5.</span> <span class="nav-text">22.æ‹¬å·ç”Ÿæˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#79-%E5%8D%95%E8%AF%8D%E6%90%9C%E7%B4%A2"><span class="nav-number">6.</span> <span class="nav-text">79.å•è¯æœç´¢</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#131-%E5%88%86%E5%89%B2%E5%9B%9E%E6%96%87%E5%AD%97%E7%AC%A6"><span class="nav-number">7.</span> <span class="nav-text">131.åˆ†å‰²å›æ–‡å­—ç¬¦</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#51-N%E7%9A%87%E5%90%8E"><span class="nav-number">8.</span> <span class="nav-text">51.Nçš‡å</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC1%E6%AD%A5-availablePositions-1-n-1-columns-diagonals1-diagonals2"><span class="nav-number">8.1.</span> <span class="nav-text">ç¬¬1æ­¥: availablePositions &#x3D; ((1 &lt;&lt; n) - 1) &amp; (~(columns | diagonals1 | diagonals2));</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC3%E6%AD%A5-position-availablePositions-availablePositions-lowbit%E6%8A%80%E5%B7%A7"><span class="nav-number">8.2.</span> <span class="nav-text">ç¬¬3æ­¥: position &#x3D; availablePositions &amp; (-availablePositions); (lowbitæŠ€å·§)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC4%E6%AD%A5-availablePositions-availablePositions-availablePositions-1"><span class="nav-number">8.3.</span> <span class="nav-text">ç¬¬4æ­¥: availablePositions &#x3D; availablePositions &amp; (availablePositions - 1);</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC5%E6%AD%A5-int-column-Integer-bitCount-position-1"><span class="nav-number">8.4.</span> <span class="nav-text">ç¬¬5æ­¥: int column &#x3D; Integer.bitCount(position - 1);</span></a></li></ol></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/toggle-theme.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/local-search.js"></script>


<!-- lazyload -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/lazyload.js"></script>


<div class="">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/post-helper.js"></script>

        <!-- toc -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/toc.js"></script>
        

        <!-- copyright-info -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/copyright-info.js"></script>
        

        <!-- share -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/share.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->



</body>
</html>
