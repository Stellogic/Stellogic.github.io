<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="è®°å½•ç‚¹æ»´ï¼Œå…±åŒè¿›æ­¥">
    <meta name="author" content="stellogic">
    
    <title>
        
            é“¾è¡¨ |
        
        stellogicçš„ä¸ªäººç©ºé—´
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/brands.min.css">
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"stellogic.github.io","root":"/","language":"zh-CN"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"stellogicçš„ä¸ªäººç©ºé—´","author":"stellogic","avatar":"/images/avatar.jpg","logo":null,"favicon":null},"menu":{"home":"/ || fa-solid fa-home","archives":"/archives || fa-solid fa-box-archive","categories":"/categories || fa-solid fa-layer-group","tags":"/tags || fa-solid fa-tags","links":"/links || fa-solid fa-link","about":"/about || fa-solid fa-user-graduate"},"first_screen":{"enable":true,"background_img":"/images/bg.svg","background_img_dark":"/images/bg2.svg","description":"æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´ || è®°å½•ç‚¹æ»´ï¼Œå…±åŒè¿›æ­¥","hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/stellogic","weixin":null,"qq":null,"weibo":null,"zhihu":"https://www.zhihu.com/people/stellogic","twitter":null,"x":null,"facebook":null,"email":"mack12399@outlook.com"}},"scroll":{"progress_bar":true,"percent":true,"hide_header":false},"home":{"announcement":"ğŸ“šWe are together","category":true,"tag":true,"post_datetime":"updated"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":false,"img_link":null,"text":null,"icon":null}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"giscus","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.39"},"waline":{"server_url":null,"reaction":false,"version":"3.3.2"},"giscus":{"repo":"Stellogic/Stellogic.github.io","repo_id":"R_kgDOOkF4SA","category":"Announcements","category_id":"DIC_kwDOOkF4SM4Cp-Ln","reactions_enabled":true},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":true},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"jsdelivr"},"pjax":{"enable":false},"footer":{"since":2025,"word_count":true,"site_deploy":{"enable":true,"provider":"github","url":"https://stellogic.github.io/"},"record":{"enable":false,"list":[{"code":null,"link":null}]}},"inject":{"enable":false,"css":[null],"js":[null]},"root":"","source_data":{},"version":"4.2.5"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
            <a class="site-name border-box" href="/">
               stellogicçš„ä¸ªäººç©ºé—´
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-home"></i>
                                
                                é¦–é¡µ
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                
                                å½’æ¡£
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/categories">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                
                                åˆ†ç±»
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/tags">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-tags"></i>
                                
                                æ ‡ç­¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/links">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-link"></i>
                                
                                å‹é“¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/about">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-user-graduate"></i>
                                
                                å…³äº
                                
                            </a>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-home"></i>
                                </span>
                            
                            é¦–é¡µ
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                </span>
                            
                            å½’æ¡£
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/categories">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                </span>
                            
                            åˆ†ç±»
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-tags"></i>
                                </span>
                            
                            æ ‡ç­¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/links">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-link"></i>
                                </span>
                            
                            å‹é“¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/about">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-user-graduate"></i>
                                </span>
                            
                            å…³äº
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        é“¾è¡¨
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/avatar.jpg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">stellogic</span>
                                
                                    <span class="author-badge">Two</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2025-10-09 08:19:48</span>
            </span>

            
                <span class="meta-info-item post-update-date">
                    <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                    <span class="datetime" data-updated="Thu Oct 09 2025 08:19:48 GMT+0800">2025-10-09 08:19:48</span>
                </span>
            
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/%E5%8A%9B%E6%89%A3hot100/">åŠ›æ‰£hot100</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E9%93%BE%E8%A1%A8/">é“¾è¡¨</a></li>
                        
                    
                </ul>
            </span>
        

        
        
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <h1 id="160-ç›¸äº¤é“¾è¡¨"><a href="#160-ç›¸äº¤é“¾è¡¨" class="headerlink" title="160.ç›¸äº¤é“¾è¡¨"></a>160.ç›¸äº¤é“¾è¡¨</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-linked-lists/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/intersection-of-two-linked-lists/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨ä¸å­˜åœ¨ç›¸äº¤èŠ‚ç‚¹ï¼Œè¿”å› null ã€‚</p>
<p>å›¾ç¤ºä¸¤ä¸ªé“¾è¡¨åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ï¼š</p>
<p>é¢˜ç›®æ•°æ® ä¿è¯ æ•´ä¸ªé“¾å¼ç»“æ„ä¸­ä¸å­˜åœ¨ç¯ã€‚</p>
<p>æ³¨æ„ï¼Œå‡½æ•°è¿”å›ç»“æœåï¼Œé“¾è¡¨å¿…é¡» ä¿æŒå…¶åŸå§‹ç»“æ„ ã€‚</p>
<p>è‡ªå®šä¹‰è¯„æµ‹ï¼š</p>
<p>è¯„æµ‹ç³»ç»Ÿ çš„è¾“å…¥å¦‚ä¸‹ï¼ˆä½ è®¾è®¡çš„ç¨‹åº ä¸é€‚ç”¨ æ­¤è¾“å…¥ï¼‰ï¼š</p>
<p>intersectVal - ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœä¸å­˜åœ¨ç›¸äº¤èŠ‚ç‚¹ï¼Œè¿™ä¸€å€¼ä¸º 0<br>listA - ç¬¬ä¸€ä¸ªé“¾è¡¨<br>listB - ç¬¬äºŒä¸ªé“¾è¡¨<br>skipA - åœ¨ listA ä¸­ï¼ˆä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼‰è·³åˆ°äº¤å‰èŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°<br>skipB - åœ¨ listB ä¸­ï¼ˆä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼‰è·³åˆ°äº¤å‰èŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°<br>è¯„æµ‹ç³»ç»Ÿå°†æ ¹æ®è¿™äº›è¾“å…¥åˆ›å»ºé“¾å¼æ•°æ®ç»“æ„ï¼Œå¹¶å°†ä¸¤ä¸ªå¤´èŠ‚ç‚¹ headA å’Œ headB ä¼ é€’ç»™ä½ çš„ç¨‹åºã€‚å¦‚æœç¨‹åºèƒ½å¤Ÿæ­£ç¡®è¿”å›ç›¸äº¤èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä½ çš„è§£å†³æ–¹æ¡ˆå°†è¢« è§†ä½œæ­£ç¡®ç­”æ¡ˆ ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šintersectVal &#x3D; 8, listA &#x3D; [4,1,8,4,5], listB &#x3D; [5,6,1,8,4,5], skipA &#x3D; 2, skipB &#x3D; 3<br>è¾“å‡ºï¼šIntersected at â€˜8â€™<br>è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚<br>ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,6,1,8,4,5]ã€‚<br>åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚<br>â€” è¯·æ³¨æ„ç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸ä¸º 1ï¼Œå› ä¸ºåœ¨é“¾è¡¨ A å’Œé“¾è¡¨ B ä¹‹ä¸­å€¼ä¸º 1 çš„èŠ‚ç‚¹ (A ä¸­ç¬¬äºŒä¸ªèŠ‚ç‚¹å’Œ B ä¸­ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹) æ˜¯ä¸åŒçš„èŠ‚ç‚¹ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä»¬åœ¨å†…å­˜ä¸­æŒ‡å‘ä¸¤ä¸ªä¸åŒçš„ä½ç½®ï¼Œè€Œé“¾è¡¨ A å’Œé“¾è¡¨ B ä¸­å€¼ä¸º 8 çš„èŠ‚ç‚¹ (A ä¸­ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼ŒB ä¸­ç¬¬å››ä¸ªèŠ‚ç‚¹) åœ¨å†…å­˜ä¸­æŒ‡å‘ç›¸åŒçš„ä½ç½®ã€‚</p>
<p>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šintersectVal &#x3D; 2, listA &#x3D; [1,9,1,2,4], listB &#x3D; [3,2,4], skipA &#x3D; 3, skipB &#x3D; 1<br>è¾“å‡ºï¼šIntersected at â€˜2â€™<br>è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚<br>ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [1,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚<br>åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šintersectVal &#x3D; 0, listA &#x3D; [2,6,4], listB &#x3D; [1,5], skipA &#x3D; 3, skipB &#x3D; 2<br>è¾“å‡ºï¼šNo intersection<br>è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚<br>ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚<br>è¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› null ã€‚</p>
<p>æç¤ºï¼š</p>
<p>listA ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º m<br>listB ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º n<br>1 &lt;&#x3D; m, n &lt;&#x3D; 3 * 104<br>1 &lt;&#x3D; Node.val &lt;&#x3D; 105<br>0 &lt;&#x3D; skipA &lt;&#x3D; m<br>0 &lt;&#x3D; skipB &lt;&#x3D; n<br>å¦‚æœ listA å’Œ listB æ²¡æœ‰äº¤ç‚¹ï¼ŒintersectVal ä¸º 0<br>å¦‚æœ listA å’Œ listB æœ‰äº¤ç‚¹ï¼ŒintersectVal &#x3D;&#x3D; listA[skipA] &#x3D;&#x3D; listB[skipB]</p>
<p>è¿›é˜¶ï¼šä½ èƒ½å¦è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ O(m + n) ã€ä»…ç”¨ O(1) å†…å­˜çš„è§£å†³æ–¹æ¡ˆï¼Ÿ</p>
<p>ä¸€ä¸ªæƒ³æ³•ï¼šåˆ†åˆ«éå†ABï¼Œä½¿ç”¨ä¸€ä¸ªSetä¿å­˜éå†è¿‡çš„èŠ‚ç‚¹ã€‚å¦‚æœæŸæ¬¡éå†å¾—åˆ°çš„èŠ‚ç‚¹åœ¨Seté‡Œï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªç›¸äº¤çš„èŠ‚ç‚¹ã€‚å¦‚æœæŸä¸ªé“¾è¡¨éå†åˆ°å°¾éƒ¨ï¼Œåˆ™æ²¡æœ‰ç›¸äº¤èŠ‚ç‚¹ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦O(m+n),ç©ºé—´O(m)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">      <span class="type">int</span> val;</span><br><span class="line">      ListNode next;</span><br><span class="line">      ListNode(<span class="type">int</span> x) &#123;</span><br><span class="line">          val = x;</span><br><span class="line">          next = <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur_a</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur_b</span> <span class="operator">=</span> headB;</span><br><span class="line">        Set&lt;ListNode&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (cur_a != <span class="literal">null</span>)&#123;</span><br><span class="line">            set.add(cur_a);</span><br><span class="line">            cur_a = cur_a.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (cur_b != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (set.contains(cur_b))&#123;</span><br><span class="line">                <span class="keyword">return</span> cur_b;</span><br><span class="line">            &#125;</span><br><span class="line">            set.add(cur_b);</span><br><span class="line">            cur_b = cur_b.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿›é˜¶:<br>åŒæŒ‡é’ˆã€‚<br>p_a,å’Œp_bã€‚</p>
<p>åŒæ—¶ç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆï¼š</p>
<ul>
<li>å¦‚æœæŸä¸ªæŒ‡é’ˆä¸ºç©ºï¼Œæ¯”å¦‚p_aä¸ºç©ºï¼Œåˆ™æŠŠp_aæŒ‡å‘bçš„å¼€å¤´</li>
<li>å½“ä¸¤ä¸ªæŒ‡é’ˆéƒ½ä¸ºç©ºæˆ–è€…æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™è¿”å›è¿™ä¸ªç›¸äº¤èŠ‚ç‚¹æˆ–è€…null</li>
</ul>
<p>å®é™…ä¸Šï¼Œå°±æ˜¯ä¸¤ä¸ªæŒ‡é’ˆéƒ½è¦éå†ä¸¤ä¸ªé“¾è¡¨ã€‚</p>
<ul>
<li>å¦‚æœä¸¤ä¸ªé“¾è¡¨æœ‰äº¤ç‚¹ï¼Œç›¸äº¤åçš„é•¿åº¦è®°ä¸ºlï¼Œåˆ™p_aéå†äº†skip_a + l + skip_b,p_béå†äº†skip_b + l + skip_a,ä¸¤ä¸ªæŒ‡é’ˆè‚¯å®šä¼šæŸä¸ªæ—¶é—´æŒ‡å‘åŒä¸€ä¸ª</li>
<li>å¦‚æœæ²¡æœ‰äº¤ç‚¹ï¼Œåˆ™éƒ½éå†l_a + l_bï¼Œæœ€ç»ˆåŒæ—¶ä¸ºnull</li>
</ul>
<p>æ—¶é—´å¤æ‚åº¦O(m + n),ç©ºé—´O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode(<span class="type">int</span> x) &#123;</span><br><span class="line">        val = x;</span><br><span class="line">        next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_a</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_b</span> <span class="operator">=</span> headB;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (p_a == p_b)&#123;</span><br><span class="line">                <span class="keyword">return</span> p_a;</span><br><span class="line">            &#125;</span><br><span class="line">            p_a = p_a == <span class="literal">null</span> ? headB : p_a.next;<span class="comment">// å¦‚æœç”¨ifæ¥å†™ï¼Œæ³¨æ„è¦ä½¿ç”¨elseï¼Œé˜²æ­¢åœ¨p_aä¸ºnullæ—¶ï¼Œç›´æ¥æŠŠp_aç§»åŠ¨åˆ°äº†p_a.next</span></span><br><span class="line">            p_b = p_b == <span class="literal">null</span> ? headA : p_b.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="206-ç¿»è½¬é“¾è¡¨"><a href="#206-ç¿»è½¬é“¾è¡¨" class="headerlink" title="206.ç¿»è½¬é“¾è¡¨"></a>206.ç¿»è½¬é“¾è¡¨</h1><p>ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,3,4,5]<br>è¾“å‡ºï¼š[5,4,3,2,1]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2]<br>è¾“å‡ºï¼š[2,1]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; []<br>è¾“å‡ºï¼š[]</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ [0, 5000]<br>-5000 &lt;&#x3D; Node.val &lt;&#x3D; 5000</p>
<p>è¿›é˜¶ï¼šé“¾è¡¨å¯ä»¥é€‰ç”¨è¿­ä»£æˆ–é€’å½’æ–¹å¼å®Œæˆåè½¬ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</p>
<ol>
<li>é€’å½’<br>éå†æ‰¾åˆ°æœ€åä¸€ä¸ªï¼ŒheadNew &#x3D; æœ€åä¸€ä¸ª</li>
</ol>
<p>åŸºæœ¬æƒ…å†µï¼šèŠ‚ç‚¹æ•°é‡æ˜¯1ï¼Œå³head.next &#x3D;&#x3D; nulï¼Œç›´æ¥è¿”å›</p>
<p>æœ¬å±‚é—®é¢˜ï¼šcur &#x3D; head,next &#x3D; cur.next,next_next &#x3D; next.next,next.next &#x3D; cur</p>
<p>é€’å½’å¤„ç†ï¼šnext_nextä»¥åŠä¹‹åçš„</p>
<p>æœ€å next_next.next &#x3D; cur.</p>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n),ç©ºé—´å¤æ‚åº¦O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next ==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur.next != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">headNew</span> <span class="operator">=</span> cur;</span><br><span class="line">        reverseListReverse(head);</span><br><span class="line">        <span class="keyword">return</span> headNew;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">reverseListReverse</span><span class="params">(ListNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (head.next.next == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = <span class="literal">null</span>;</span><br><span class="line">            next.next = cur;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">next_next</span> <span class="operator">=</span> next.next;</span><br><span class="line">        cur.next = <span class="literal">null</span>;</span><br><span class="line">        next.next = cur;</span><br><span class="line">        reverseListReverse(next_next);</span><br><span class="line">        next_next.next = next;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è§£æ³•æ˜¯å¯ä»¥çš„ã€‚</p>
<p>ä½†æœ€å¥½çš„è¿˜æ˜¯</p>
<p><strong>å…ˆç¿»è½¬headä¹‹åçš„é“¾è¡¨ã€‚</strong></p>
<p><strong>ä¹‹åè®©head.nextæŒ‡å‘headå¹¶æŠŠhead.nextèµ‹å€¼ä¸ºnull</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode() &#123;&#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">headNew</span> <span class="operator">=</span> reverseList(head.next);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> headNew;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è¿­ä»£</li>
</ol>
<p>å¯¹éå†ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œæ“ä½œã€‚curå’Œprevè®°å½•å½“å‰å’Œä¸Šä¸€ä¸ªã€‚Listnode next &#x3D; cur.next,(é˜²æ­¢è¦†ç›–ï¼‰cur.next &#x3D; prev,prev &#x3D; cur,cur &#x3D; cur.next.ç›´åˆ°curä¸ºnullï¼Œprevä¸ºæ­¤æ—¶å¤´èŠ‚ç‚¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode() &#123;&#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur =next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´O(1)</p>
<h1 id="234-å›æ–‡é“¾è¡¨"><a href="#234-å›æ–‡é“¾è¡¨" class="headerlink" title="234.å›æ–‡é“¾è¡¨"></a>234.å›æ–‡é“¾è¡¨</h1><p>ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,2,1]<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2]<br>è¾“å‡ºï¼šfalse</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´[1, 105] å†…<br>0 &lt;&#x3D; Node.val &lt;&#x3D; 9</p>
<p>è¿›é˜¶ï¼šä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ</p>
<p>ä¸€ä¸ªæƒ³æ³•æ˜¯ï¼Œå…ˆæ­£å‘éå†ï¼Œç”¨ä¸€ä¸ªæ•°ç»„è®°å½•ã€‚ä¹‹åæŠŠå®ƒé€†è½¬ï¼ˆå…¶å®æŠŠæ•°ç»„é€†è½¬å°±è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆä¸å»é€†è½¬æ•°ç»„ï¼‰ã€‚å†æ¬¡éå†è®°å½•åˆ°ä¸€ä¸ªæ•°ç»„ã€‚æœ€åæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„</p>
<p>æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´å¤æ‚åº¦O(n).</p>
<p>ä¸‹é¢ç”¨åŒæŒ‡é’ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; temp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            temp.add(cur.val);</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> temp.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.get(left) != temp.get(right))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆè¦è¿™æ ·è½¬æˆæ•°ç»„ï¼Ÿ</p>
<p>æ•°ç»„å¯ä»¥O(1)ä»»æ„è®¿é—®ï¼Œé“¾è¡¨ä¸å¯ä»¥ã€‚æ­£å‘åå‘éƒ½æ˜¯O(n)ã€‚æƒ³è¦è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå€’æ•°ç¬¬äºŒä¸ªï¼Œå€’æ•°ç¬¬ä¸‰ä¸ªéƒ½éœ€è¦ä¸€æ¬¡éå†åˆ°</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’å€’å™éå†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function print_values_in_reverse(ListNode head)</span><br><span class="line">    if head is NOT null</span><br><span class="line">        print_values_in_reverse(head.next)</span><br><span class="line">        print head.val</span><br></pre></td></tr></table></figure>
<p>å®ç°çš„è¯ï¼ŒfrontPointeræ¥ä½œä¸ºä»å‰å‘åéå†çš„æŒ‡é’ˆï¼ŒcurNodeä½œä¸ºä»åå‘å‰éå†çš„æŒ‡é’ˆã€‚é€’å½’è°ƒç”¨æ ˆä¾ç„¶æ˜¯O(n),æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n),å› ä¸ºç”¨äº†é€’å½’å®é™…ä¸Šæ¯”ä¸Šé¢è§£æ³•æ›´å·®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ListNode frontPointer;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">recursivelyCheck</span><span class="params">(ListNode curNode)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (curNode == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//åŸºæœ¬æƒ…å†µï¼Œé»˜è®¤ä¸ºtrue</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isInnerPartPalindrome</span> <span class="operator">=</span> recursivelyCheck(curNode.next);<span class="comment">//é€’å½’è°ƒç”¨ï¼Œåˆ¤æ–­ä¹‹å‰çš„æ˜¯ä¸æ˜¯å›æ–‡</span></span><br><span class="line">        <span class="keyword">if</span> (isInnerPartPalindrome == <span class="literal">false</span>)&#123;</span><br><span class="line">            <span class="comment">//å¦‚æœä»¥å‰å·²ç»ä¸æ˜¯ï¼Œç›´æ¥false</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­æœ¬å±‚</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">frontCur</span> <span class="operator">=</span> frontPointer;</span><br><span class="line">        frontPointer = frontPointer.next;</span><br><span class="line">        <span class="keyword">return</span> frontCur.val == curNode.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(ListNode head)</span>&#123;</span><br><span class="line">        frontPointer = head;</span><br><span class="line">        <span class="keyword">return</span> recursivelyCheck(head);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>æ»¡è¶³è¿›é˜¶è¦æ±‚çš„æ–¹æ³•</li>
</ol>
<p>å…¶å®åªè¦æŠŠååŠæ®µé“¾è¡¨ç¿»è½¬ï¼Œä¹‹åå’Œå‰åŠæ®µé“¾è¡¨æ¯”è¾ƒå³å¯ã€‚</p>
<p>å¯ä»¥å…ˆéå†ä¸€éè®¡ç®—èŠ‚ç‚¹ä¸ªæ•°ï¼Œä½†æ›´å¥½çš„æ˜¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œå¿«æŒ‡é’ˆåˆ°æœ«å°¾ï¼ˆæ— æ³•å†å‘åèµ°ä¸¤æ­¥ï¼‰ï¼Œæ…¢æŒ‡é’ˆå°±åˆ°äº†å‰åŠéƒ¨åˆ†é“¾è¡¨çš„æœ«å°¾ã€‚</p>
<p>å¦‚æœæ˜¯å¥‡æ•°ä¸ªï¼Œä¸­é—´çš„èŠ‚ç‚¹è®¤ä¸ºæ˜¯å‰åŠéƒ¨åˆ†çš„æœ«å°¾ã€‚</p>
<p>æŠŠååŠéƒ¨åˆ†èŠ‚ç‚¹è¿›è¡Œç¿»è½¬</p>
<p>ä¹‹åå¼€å§‹æ¯”è¾ƒå³å¯,æ³¨æ„ååŠéƒ¨åˆ†ä¸ºç©ºå°±åœæ­¢ï¼Œè¿™æ ·å¯ä»¥é¿å…æ¯”è¾ƒä¸­å¿ƒèŠ‚ç‚¹</p>
<p>æœ€å¥½çš„è¯æœ€åæŠŠååŠéƒ¨åˆ†å†ç¿»è½¬å›æ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span> )&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">endOfFirstListPointer</span> <span class="operator">=</span> endOfFirstList(head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">startOfLastListReversedListPointer</span> <span class="operator">=</span> reverse(endOfFirstListPointer.next);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">firstPointer</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">lastPointer</span> <span class="operator">=</span> startOfLastListReversedListPointer;</span><br><span class="line">        <span class="keyword">while</span> (lastPointer != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (firstPointer.val != lastPointer.val)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            firstPointer = firstPointer.next;</span><br><span class="line">            lastPointer = lastPointer.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">startOfLastListRightOrder</span> <span class="operator">=</span> reverse(startOfLastListReversedListPointer);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">reverse</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">endOfFirstList</span><span class="params">(ListNode head)</span>&#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="literal">null</span> &amp;&amp; fast.next.next != <span class="literal">null</span>)&#123;<span class="comment">//æ£€æŸ¥fastå³å¯ï¼Œè¦å…ˆæ£€æŸ¥fast.nextæ˜¯å¦æ˜¯null</span></span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="141-ç¯å½¢é“¾è¡¨"><a href="#141-ç¯å½¢é“¾è¡¨" class="headerlink" title="141.ç¯å½¢é“¾è¡¨"></a>141.ç¯å½¢é“¾è¡¨</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/linked-list-cycle/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/linked-list-cycle/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p>
<p>å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ ã€‚ä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚</p>
<p>å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ ï¼Œåˆ™è¿”å› true ã€‚ å¦åˆ™ï¼Œè¿”å› false ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [3,2,0,-4], pos &#x3D; 1<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2], pos &#x3D; 0<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1], pos &#x3D; -1<br>è¾“å‡ºï¼šfalse<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ [0, 104]<br>-105 &lt;&#x3D; Node.val &lt;&#x3D; 105<br>pos ä¸º -1 æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ª æœ‰æ•ˆç´¢å¼• ã€‚</p>
<p>è¿›é˜¶ï¼šä½ èƒ½ç”¨ O(1)ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<p>æƒ³æ³•ï¼šä¸€ä¸ªç®€å•çš„æƒ³æ³•å°±æ˜¯ä¸€ç›´éå†é“¾è¡¨ä½¿ç”¨ä¸€ä¸ªSetå‚¨å­˜éå†è¿‡çš„ï¼Œå¦‚æœæœ‰é‡å¤å°±æœ‰ç¯ã€‚æ—¶ç©ºå¤æ‚åº¦éƒ½æ˜¯O(n).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">      <span class="type">int</span> val;</span><br><span class="line">      ListNode next;</span><br><span class="line">      ListNode(<span class="type">int</span> x) &#123;</span><br><span class="line">          val = x;</span><br><span class="line">          next = <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        Set&lt;ListNode&gt; temp = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.contains(cur))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp.add(cur);</span><br><span class="line">            cur=cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>O(1)</strong> å¤æ‚åº¦æ–¹æ³•ï¼šå¿«æ…¢æŒ‡é’ˆ</p>
<p>slowä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œfastä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œå¦‚æœæœ‰ç¯ä¸¤è€…å¿…å®šæŸæ¬¡ç›¸é‡ï¼Œå¦‚æœæ²¡æœ‰ç¯åˆ™ä¸¤è€…å§‹ç»ˆæ— æ³•ç›¸é‡ã€‚ï¼ˆfastç›¸å¯¹äºslowç›¸å¯¹é€Ÿåº¦æ˜¯1ï¼Œå› æ­¤å¿…å®šèƒ½ç›¸é‡ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">  <span class="type">int</span> val;</span><br><span class="line">  ListNode next;</span><br><span class="line">  ListNode(<span class="type">int</span> x) &#123;</span><br><span class="line">      val = x;</span><br><span class="line">      next = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasCycle</span><span class="params">(ListNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span> ||head.next.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (fast == <span class="literal">null</span> || fast.next == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;<span class="keyword">while</span> (slow != fast);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="142-ç¯å½¢é“¾è¡¨äºŒ"><a href="#142-ç¯å½¢é“¾è¡¨äºŒ" class="headerlink" title="142.ç¯å½¢é“¾è¡¨äºŒ"></a>142.ç¯å½¢é“¾è¡¨äºŒ</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/linked-list-cycle-ii/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/linked-list-cycle-ii/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹  head ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚</p>
<p>å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚</p>
<p>ä¸å…è®¸ä¿®æ”¹ é“¾è¡¨ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [3,2,0,-4], pos &#x3D; 1<br>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2], pos &#x3D; 0<br>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1], pos &#x3D; -1<br>è¾“å‡ºï¼šè¿”å› null<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ [0, 104] å†…<br>-105 &lt;&#x3D; Node.val &lt;&#x3D; 105<br>pos çš„å€¼ä¸º -1 æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼•</p>
<p>è¿›é˜¶ï¼šä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ O(1) ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ</p>
<p>ä¸€ä¸ªæƒ³æ³•ï¼šä¸è€ƒè™‘O(1)ç©ºé—´çš„è¯å¾ˆç®€å•ï¼Œï¼Œéå†ï¼Œç”¨Setè®°å½•ï¼Œé‡åˆ°ç¬¬ä¸€ä¸ª é‡å¤çš„ï¼Œå°±æ˜¯è¿›å…¥ç¯çš„èŠ‚ç‚¹ï¼Œå¦‚æœä¸€ç›´åˆ°nulléƒ½æ²¡æœ‰é‡å¤å°±æ˜¯æ²¡æœ‰ç¯</p>
<p>å¦‚æœè¿˜è€ƒè™‘å¿«æ…¢æŒ‡é’ˆï¼Œç›¸é‡èŠ‚ç‚¹ä¸ä¸€å®šæ˜¯ç¯çš„èµ·ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> x) &#123;</span><br><span class="line">        val = x;</span><br><span class="line">        next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">detectCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        Set&lt;ListNode&gt; temp = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.contains(cur))&#123;</span><br><span class="line">                <span class="keyword">return</span> cur;</span><br><span class="line">            &#125;</span><br><span class="line">            temp.add(cur);</span><br><span class="line">            cur=cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>O(1)</strong> è§£æ³•ï¼šå¿«æ…¢æŒ‡é’ˆã€‚</p>
<p>ä»¿ç…§ä¸Šé¢˜ï¼Œåˆ©ç”¨å¿«æ…¢æŒ‡é’ˆåˆ¤æ–­æœ‰æ— ç¯ã€‚</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/10/09/%E9%93%BE%E8%A1%A8/img_4.png"
                        class="" title="img_4.png"
                 >

<p>å¦‚å›¾ï¼Œè®¾ç›¸é‡æ—¶fastèµ°äº†nåœˆï¼Œåˆ™æœ‰fastæ€»è·ç¦»æ˜¯a+n(b+c)+b</p>
<p>fastè·¯ç¨‹æ€»æ˜¯slowçš„ä¸¤å€ã€‚æ‰€ä»¥a+n(b+c)+b &#x3D; 2(a+b)   (æ…¢æŒ‡é’ˆåªèƒ½èµ°ä¸åˆ°ä¸€åœˆï¼Œç›¸å¯¹é€Ÿåº¦æ˜¯1ï¼Œç›¸å¯¹è·ç¦»å°äºä¸€åœˆï¼Œæ—¶é—´å°äºèµ°è¿‡ä¸€åœˆçš„æ—¶é—´)</p>
<p>æ‰€ä»¥a &#x3D; (n-1)b+nc &#x3D; c+(n-1)(b+c)</p>
<p>ä¹Ÿå°±æ˜¯è¯´ç¯èµ·ç‚¹è·ç¦»headè·ç¦»æ˜¯ç›¸é‡ç‚¹è·ç¦»ç¯èµ·ç‚¹è·ç¦»åŠ ä¸Šn-1åœˆ</p>
<p>å› æ­¤ä½¿ç”¨ä¸€ä¸ªæ–°çš„æŒ‡é’ˆä»headå¼€å§‹å‘å‰ï¼Œslowæ­£å¸¸è¿åŠ¨ï¼Œæœ€åä¸€å®šå†ç¯èµ·ç‚¹ç›¸é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> x) &#123;</span><br><span class="line">        val = x;</span><br><span class="line">        next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">detectCycle</span><span class="params">(ListNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span> ||head.next.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (fast == <span class="literal">null</span> || fast.next == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;<span class="keyword">while</span> (slow != fast);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">frontHead</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (frontHead != slow)&#123;</span><br><span class="line">            frontHead = frontHead.next;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/merge-two-sorted-lists/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/merge-two-sorted-lists/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ å‡åº é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šl1 &#x3D; [1,2,4], l2 &#x3D; [1,3,4]<br>è¾“å‡ºï¼š[1,1,2,3,4,4]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šl1 &#x3D; [], l2 &#x3D; []<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šl1 &#x3D; [], l2 &#x3D; [0]<br>è¾“å‡ºï¼š[0]</p>
<p>æç¤ºï¼š</p>
<p>ä¸¤ä¸ªé“¾è¡¨çš„èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ [0, 50]<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100<br>l1 å’Œ l2 å‡æŒ‰ éé€’å‡é¡ºåº æ’åˆ—</p>
<hr>
<p>ä¸€ä¸ªç®€å•çš„æƒ³æ³•ï¼šå…ˆæŠŠä¸¤ä¸ªé“¾è¡¨å­˜åˆ°æ•°ç»„é‡Œé¢,åˆå§‹åŒ–LastInsertPlaceä¸º-1ï¼Œä¹‹åå¼€å§‹éå†é¦–å…ƒç´ è¾ƒå°çš„æ•°ç»„ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¯¹å¦ä¸€ä¸ªæ•°ç»„æŸ¥æ‰¾æœ‰æ²¡æœ‰åœ¨[num[i],num[i+1])çš„å…ƒç´ ï¼ˆæŸ¥æ‰¾åˆ°nums[i+1]å³å¯)ï¼ˆä»LastInsertPlace+1å¼€å§‹æŸ¥æ‰¾)ï¼Œå¦‚æœæœ‰ï¼ŒæŠŠè¯¥èŠ‚ç‚¹æ’åœ¨num[i]ä¹‹å(æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼Œä»¥num[0]ä¸ºhead)ï¼Œå¹¶ä½¿ç”¨LastInsertPlaceè®°å½•è¯¥å…ƒç´ ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ›´æ–°lastInsertPlaceåˆ°æŸ¥æ‰¾åˆ°çš„ä½ç½®ï¼Œi+1ï¼Œç›´åˆ°è¿™ä¸ªæ•°ç»„çš„æœ«å°¾å¦‚æœLast Insert Placeå°äºå¦ä¸€ä¸ªæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™æŠŠä¹‹åçš„æ•°ç»„ä¸€æ¬¡æ’å…¥ã€‚å®é™…å®ç°æ—¶åˆ—è¡¨ä»£æ›¿æ•°ç»„</p>
<p>æ—¶é—´å¤æ‚åº¦O(n+m),ä¸¤ä¸ªåˆ—è¡¨æ¯ä¸ªå…ƒç´ åªèƒ½éå†ä¸€éï¼Œæ‰§è¡ŒO(1)æ’å…¥æ“ä½œï¼›</p>
<p>ç©ºé—´å¤æ‚åº¦O(n+m)</p>
<p>å®é™…ä¸Šä¸Šé¢çš„æƒ³æ³•ç±»ä¼¼äºå½’å¹¶æ’åºçš„åˆå¹¶æ­¥éª¤ã€‚ä½†æ€»ä¹‹è¿™ä¸æ˜¯æœ€ä¼˜è§£ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. å°†ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹å€¼å­˜åˆ° ArrayList é‡Œé¢</span></span><br><span class="line">        List&lt;Integer&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">current</span> <span class="operator">=</span> l1;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">null</span>) &#123;</span><br><span class="line">            list1.add(current.val);</span><br><span class="line">            current = current.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        current = l2;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">null</span>) &#123;</span><br><span class="line">            list2.add(current.val);</span><br><span class="line">            current = current.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„ ArrayList åˆ°ä¸€ä¸ªæ–°çš„ resultList</span></span><br><span class="line">        List&lt;Integer&gt; resultList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// æŒ‡å‘ list1 çš„æŒ‡é’ˆ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// æŒ‡å‘ list2 çš„æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å½“ä¸¤ä¸ªåˆ—è¡¨éƒ½è¿˜æœ‰å…ƒç´ æ—¶ï¼Œæ¯”è¾ƒå¹¶æ·»åŠ è¾ƒå°çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (p1 &lt; list1.size() &amp;&amp; p2 &lt; list2.size()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (list1.get(p1) &lt;= list2.get(p2)) &#123;</span><br><span class="line">                resultList.add(list1.get(p1));</span><br><span class="line">                p1++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                resultList.add(list2.get(p2));</span><br><span class="line">                p2++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å‰©ä½™çš„å…ƒç´ ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å…¨éƒ¨æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­</span></span><br><span class="line">        <span class="keyword">while</span> (p1 &lt; list1.size()) &#123;</span><br><span class="line">            resultList.add(list1.get(p1));</span><br><span class="line">            p1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (p2 &lt; list2.size()) &#123;</span><br><span class="line">            resultList.add(list2.get(p2));</span><br><span class="line">            p2++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. å°†æœ€ç»ˆçš„ resultList è½¬æ¢æˆä¸€ä¸ªæ–°çš„é“¾è¡¨å¹¶è¿”å›</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummyHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>); <span class="comment">// åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ä»¥ç®€åŒ–æ“ä½œ</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> dummyHead;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> val : resultList) &#123;</span><br><span class="line">            tail.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">            tail = tail.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dummyHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ ‡å‡†çš„æ–¹æ³•ï¼š</p>
<ol>
<li>é€’å½’</li>
</ol>
<p>æ³¨æ„åˆ°ï¼š</p>
<p>å®é™…ä¸Šæ•´ä¸ªè¿‡ç¨‹ç›¸å½“äºï¼Œ</p>
<p>å¦‚æœlist1[0] &lt; list2[0]ï¼Œmerge(list[1:],list2)<br>else,                  ,merge(list1ï¼Œlist2[1:])</p>
<p>ä¸Šé¢æ˜¯é€’å½’æƒ…å†µ</p>
<p>åŸºæœ¬æƒ…å†µï¼š ä»»æ„ä¸€ä¸ªæ˜¯ç©ºï¼Œç›´æ¥è¿”å›å¦ä¸€ä¸ª</p>
<p>æœ¬å±‚ï¼š æŠŠå°çš„èŠ‚ç‚¹æ·»åŠ ä¸Šå»ï¼Œå³list1[0].next &#x3D; mergeâ€¦â€¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (list1 == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> list2;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (list2 == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> list1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (list1.val &lt; list2.val)&#123;</span><br><span class="line">            list1.next = mergeTwoLists(list1.next,list2);</span><br><span class="line">            <span class="keyword">return</span> list1;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            list2.next = mergeTwoLists(list1,list2.next);</span><br><span class="line">            <span class="keyword">return</span> list2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦:<br>æ—¶é—´ï¼šæ¯æ¬¡å»æ‰ä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼Œç›´åˆ°å»æ‰å®Œåè¿”å›ï¼Œæ¯æ¬¡è°ƒç”¨çš„éé€’å½’è°ƒç”¨éƒ½æ˜¯O(1),æ‰€ä»¥æ—¶é—´å¤æ‚åº¦O(m+n)<br>ç©ºé—´: é€’å½’æ·±åº¦O(m+n)</p>
<ol start="2">
<li>è¿­ä»£</li>
</ol>
<p>ä¸Šé¢çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥ç”¨è¿­ä»£æè¿°</p>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œpreheadã€‚è¿™ä¸ªå¤´èŠ‚ç‚¹çš„å€¼ç­‰éƒ½ä¸é‡è¦ï¼Œåªæ˜¯ä¸ºäº†ç®€åŒ–ä»£ç é€»è¾‘ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªï¼Œå®šä¹‰æ–°çš„headNew &#x3D; nullï¼Œéœ€è¦æŠŠheadnewä¸ºnullçš„æƒ…å†µå•ç‹¬å¤„ç†</p>
<p>æŒ‡é’ˆp_1,p_2åˆå§‹åŒ–ä¸ºl1,l2,æ˜¯å½“å‰éå†åˆ°çš„l1l2çš„èŠ‚ç‚¹ã€‚curåˆå§‹åŒ–ä¸ºpreheadï¼Œä»£è¡¨æ–°çš„é“¾è¡¨å½“å‰çš„èŠ‚ç‚¹ã€‚</p>
<p>æ¯ä¸ªå¾ªç¯ä¸­ï¼Œæ¯”è¾ƒp_1,p_2å¯¹åº”å€¼çš„å¤§å°ï¼ŒæŠŠå°çš„æ¥åˆ°curåé¢ï¼Œå¹¶æŠŠå¯¹åº”çš„æŒ‡é’ˆæ›´æ–°ä¸ºä¸‹ä¸€ä¸ªã€‚æœ€åæŠŠcurä¹Ÿæ›´æ–°ä¸ºä¸‹ä¸€ä¸ªã€‚ç›´åˆ°ä»»æ„ä¸€ä¸ªlistä¸ºç©ºã€‚</p>
<p>ç›´æ¥æŠŠéç©ºçš„é“¾è¡¨æ¥åˆ°curåé¢å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prehead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>,<span class="literal">null</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> prehead;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_1</span> <span class="operator">=</span> list1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_2</span> <span class="operator">=</span> list2;</span><br><span class="line">        <span class="keyword">while</span> (p_1 != <span class="literal">null</span> &amp;&amp; p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (p_1.val &lt; p_2.val)&#123;</span><br><span class="line">                cur.next = p_1;</span><br><span class="line">                p_1 = p_1.next;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = p_2;</span><br><span class="line">                p_2 = p_2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.next = p_1 == <span class="literal">null</span> ? p_2 : p_1;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯ä¸é€‚ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œéœ€è¦é¢å¤–åˆå§‹åŒ–</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡æ¥å­˜å‚¨æ–°é“¾è¡¨çš„å¤´</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">newHead</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// è¿˜éœ€è¦ä¸€ä¸ªæŒ‡é’ˆæ¥è¿½è¸ªæ–°é“¾è¡¨çš„å°¾éƒ¨</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœå…¶ä¸­ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥è¿”å›å¦ä¸€ä¸ª</span></span><br><span class="line">        <span class="keyword">if</span> (list1 == <span class="literal">null</span>) <span class="keyword">return</span> list2;</span><br><span class="line">        <span class="keyword">if</span> (list2 == <span class="literal">null</span>) <span class="keyword">return</span> list1;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯å¼€å§‹å‰ï¼Œéœ€è¦å…ˆç¡®å®š newHead æ˜¯è°ï¼Œä»£ç æ˜¾å¾—å¾ˆè‡ƒè‚¿</span></span><br><span class="line">        <span class="keyword">if</span> (list1.val &lt; list2.val) &#123;</span><br><span class="line">            newHead = list1;</span><br><span class="line">            list1 = list1.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            newHead = list2;</span><br><span class="line">            list2 = list2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = newHead; <span class="comment">// cur æŒ‡å‘æ–°é“¾è¡¨çš„å°¾éƒ¨</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç°åœ¨å¼€å§‹å¾ªç¯å¤„ç†å‰©ä½™çš„èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (list1 != <span class="literal">null</span> &amp;&amp; list2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (list1.val &lt; list2.val) &#123;</span><br><span class="line">                cur.next = list1;</span><br><span class="line">                list1 = list1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = list2;</span><br><span class="line">                list2 = list2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿æ¥å‰©ä½™çš„é“¾è¡¨éƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">if</span> (list1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.next = list1;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.next = list2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> newHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šJavaä¸æŠŠnullé»˜è®¤ä¸ºfalseï¼Œéœ€è¦ä½¿ç”¨åˆ¤æ–­è¿ç®—ç¬¦ </p>
<h1 id="2-ä¸¤æ•°ç›¸åŠ "><a href="#2-ä¸¤æ•°ç›¸åŠ " class="headerlink" title="2.ä¸¤æ•°ç›¸åŠ "></a>2.ä¸¤æ•°ç›¸åŠ </h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/add-two-numbers/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/add-two-numbers/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸¤ä¸ª éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</p>
<p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šl1 &#x3D; [2,4,3], l2 &#x3D; [5,6,4]<br>è¾“å‡ºï¼š[7,0,8]<br>è§£é‡Šï¼š342 + 465 &#x3D; 807.<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šl1 &#x3D; [0], l2 &#x3D; [0]<br>è¾“å‡ºï¼š[0]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šl1 &#x3D; [9,9,9,9,9,9,9], l2 &#x3D; [9,9,9,9]<br>è¾“å‡ºï¼š[8,9,9,9,0,0,0,1]</p>
<p>æç¤ºï¼š</p>
<p>æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ [1, 100] å†…<br>0 &lt;&#x3D; Node.val &lt;&#x3D; 9<br>é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶</p>
<hr>
<p>ä¸€ä¸ªç®€å•çš„æƒ³æ³•ï¼šæŠŠè¿™ä¸¤ä¸ªé“¾è¡¨éƒ½å…ˆè½¬æ¢æˆæ•°å­—ï¼ŒåŠ å’Œåå†æŠŠç»“æœè½¬æ¢æˆé“¾è¡¨ã€‚è¿™ä¸ªæ—¶é—´å¤æ‚åº¦O(m+n),ç©ºé—´å¤æ‚åº¦O(1)</p>
<p>ï¼ï¼ä½†è¿™æ ·ä¼šæ•°æ®æº¢å‡ºï¼Œ100ä½çš„æ•°å­—æ— æ³•ç”¨åŸºæœ¬ç±»å‹è¡¨ç¤º</p>
<p>æœ€å¥½çš„æ–¹æ³•æ˜¯æ¨¡æ‹Ÿæ³•ï¼Œæ¨¡æ‹Ÿåˆ—ç«–å¼</p>
<p>ä¾æ¬¡éå†ï¼ŒåŠ å’Œï¼Œè¿›ä½è®°ä¸ºcarryã€‚ç›´åˆ°éƒ½ä¸ºnullã€‚å¦‚æœæŸä¸ªå…ˆåˆ°äº†nullç›´æ¥è®¤ä¸ºæ˜¯0å³å¯</p>
<p>å¦‚æœéå†ç»“æŸåcarryå¤§äº0ï¼Œéœ€è¦åˆ›å»ºæ–°èŠ‚ç‚¹å‚¨å­˜</p>
<p>æ—¶é—´å¤æ‚åº¦O(max(m,n))</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">      <span class="type">int</span> val;</span><br><span class="line">      ListNode next;</span><br><span class="line">      ListNode() &#123;&#125;</span><br><span class="line">      ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">      ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_1</span> <span class="operator">=</span> l1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_2</span> <span class="operator">=</span> l2;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prehead</span> <span class="operator">=</span><span class="keyword">new</span>  <span class="title class_">ListNode</span>(-<span class="number">1</span>,<span class="literal">null</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> prehead;</span><br><span class="line">        <span class="type">int</span> <span class="variable">carry</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (p_1 != <span class="literal">null</span> || p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">p_1_val</span> <span class="operator">=</span> p_1 == <span class="literal">null</span> ? <span class="number">0</span> : p_1.val;</span><br><span class="line">            <span class="type">int</span> <span class="variable">p_2_val</span> <span class="operator">=</span> p_2 == <span class="literal">null</span> ? <span class="number">0</span> : p_2.val;</span><br><span class="line">            <span class="type">int</span> <span class="variable">totalSum</span> <span class="operator">=</span> p_1_val + p_2_val + carry;</span><br><span class="line">            <span class="type">int</span> <span class="variable">thisVal</span> <span class="operator">=</span> totalSum % <span class="number">10</span>;</span><br><span class="line">            carry = totalSum/<span class="number">10</span>;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">thisNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(thisVal,<span class="literal">null</span>);</span><br><span class="line">            cur.next = thisNode;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            p_1 = p_1 == <span class="literal">null</span> ? <span class="literal">null</span> : p_1.next;</span><br><span class="line">            p_2 = p_2 == <span class="literal">null</span> ? <span class="literal">null</span> : p_2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (carry != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(carry,<span class="literal">null</span>);</span><br><span class="line">            cur.next = newNode;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹"><a href="#19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹" class="headerlink" title="19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹"></a>19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</h1><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,3,4,5], n &#x3D; 2<br>è¾“å‡ºï¼š[1,2,3,5]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1], n &#x3D; 1<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2], n &#x3D; 1<br>è¾“å‡ºï¼š[1]</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º sz<br>1 &lt;&#x3D; sz &lt;&#x3D; 30<br>0 &lt;&#x3D; Node.val &lt;&#x3D; 100<br>1 &lt;&#x3D; n &lt;&#x3D; sz</p>
<p>è¿›é˜¶ï¼šä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ</p>
<hr>
<p>ç®€å•çš„æƒ³æ³•å°±æ˜¯å…ˆéå†ä¸€éï¼Œå¾—åˆ°é“¾è¡¨é•¿åº¦ï¼Œç®—å‡ºè¦åˆ é™¤çš„èŠ‚ç‚¹çš„ç´¢å¼•ä½ç½®ï¼Œå†æ¬¡éå†è¿›è¡Œåˆ é™¤ã€‚</p>
<p>å¦‚ä½•ä¸€éæ‰«æå‘¢ï¼Ÿä¸€èˆ¬æ„Ÿè§‰è¿™ç§é“¾è¡¨ä¸€æ¬¡éå†ç»å¸¸ç”¨å¿«æ…¢æŒ‡é’ˆã€‚å‡è®¾fastèµ°åˆ°æœ«å°¾ï¼Œslowæ°å¥½æŒ‡å‘å€’æ•°ç¬¬nä¸ªï¼Œåˆ™fastè·¯ç¨‹ç­‰äºslowè·¯ç¨‹+nï¼Œä¸¤è€…é€Ÿåº¦ä¼¼ä¹æ²¡æœ‰ç‰¹æ®Šå…³ç³»ã€‚</p>
<p>å®é™…ä¸Šè¿™ä¸ªæƒ…å†µå¯ä»¥ç›´æ¥åˆå§‹å°±è®©fastå’Œslowæœ‰nçš„è·ç¦»ï¼Œä»è€Œfaståˆ°æœ«å°¾slowæŒ‡å‘åº”å½“åˆ é™¤çš„æŒ‡é’ˆã€‚</p>
<p>å®é™…çš„å®ç°å¯ä»¥ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥é¿å…ç»™åˆ é™¤å¤´èŠ‚ç‚¹å†™é¢å¤–çš„åˆ¤æ–­ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeNthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">preHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>,head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> preHead;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> preHead;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="literal">null</span>)&#123;<span class="comment">//è¿™æ ·slowæŒ‡å‘çš„å°±æ˜¯è¢«åˆ é™¤ä¹‹å‰çš„èŠ‚ç‚¹</span></span><br><span class="line">            fast = fast.next;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        slow.next = slow.next.next;</span><br><span class="line">        <span class="keyword">return</span> preHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜å¯ä»¥é‡‡ç”¨æ ˆï¼Œä¸è¿‡ç©ºé—´å¤æ‚åº¦O(n).<br>æ ˆåè¿›å…ˆå‡ºï¼Œå¯ä»¥éå†é“¾è¡¨å…¨éƒ¨å…¥æ ˆï¼Œä¹‹åå‡ºæ ˆnæ¬¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeNthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        Deque&lt;ListNode&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>,head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n ; i++) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        stack.peek().next = stack.peek().next.next;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<table>
<thead>
<tr>
<th align="left">ç‰¹æ€§</th>
<th align="left"><code>ArrayList</code></th>
<th align="left"><code>LinkedList</code></th>
<th align="left"><code>ArrayDeque</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>åº•å±‚å®ç°</strong></td>
<td align="left">åŠ¨æ€æ•°ç»„</td>
<td align="left">åŒå‘é“¾è¡¨</td>
<td align="left">å¾ªç¯åŠ¨æ€æ•°ç»„</td>
</tr>
<tr>
<td align="left"><strong>éšæœºè®¿é—®</strong></td>
<td align="left"><strong>O(1)</strong></td>
<td align="left">O(n)</td>
<td align="left">ä¸æ”¯æŒ</td>
</tr>
<tr>
<td align="left"><strong>é¦–å°¾å¢åˆ </strong></td>
<td align="left">O(n) &#x2F; æ‘Šé”€ O(1)</td>
<td align="left"><strong>O(1)</strong></td>
<td align="left"><strong>æ‘Šé”€ O(1)</strong></td>
</tr>
<tr>
<td align="left"><strong>ä¸­é—´å¢åˆ </strong></td>
<td align="left">O(n)</td>
<td align="left">O(n) (å®šä½)</td>
<td align="left">ä¸æ”¯æŒ</td>
</tr>
<tr>
<td align="left"><strong>å†…å­˜å¼€é”€</strong></td>
<td align="left">è¾ƒä½</td>
<td align="left">è¾ƒé«˜</td>
<td align="left"><strong>æœ€ä½</strong></td>
</tr>
<tr>
<td align="left"><strong>ä¸»è¦æ¥å£</strong></td>
<td align="left"><code>List</code></td>
<td align="left"><code>List</code>, <code>Deque</code></td>
<td align="left"><code>Deque</code></td>
</tr>
<tr>
<td align="left"><strong>æœ€ä½³ä½¿ç”¨åœºæ™¯</strong></td>
<td align="left"><strong>é¢‘ç¹çš„éšæœºè®¿é—®å’Œéå†</strong>ï¼Œå°‘é‡å¢åˆ ã€‚</td>
<td align="left">éœ€è¦åŒæ—¶ä½œä¸º <code>List</code> å’Œ <code>Deque</code>ï¼Œæˆ–åœ¨è¿­ä»£æ—¶é¢‘ç¹å¢åˆ ã€‚</td>
<td align="left"><strong>ä½œä¸ºçº¯ç²¹çš„æ ˆæˆ–é˜Ÿåˆ—</strong>ï¼Œæ€§èƒ½æœ€ä½³ã€‚</td>
</tr>
</tbody></table>
<p><strong>æ ¸å¿ƒå»ºè®®</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ çš„ä¸»è¦éœ€æ±‚æ˜¯<strong>å¿«é€Ÿè®¿é—®ä»»æ„ä½ç½®çš„å…ƒç´ </strong>ï¼Œæˆ–è€…åªæ˜¯ç®€å•åœ°å­˜å‚¨å’Œéå†æ•°æ®ï¼Œ<code>ArrayList</code> å‡ ä¹æ€»æ˜¯æœ€ä½³é€‰æ‹©ã€‚</li>
<li>å¦‚æœä½ éœ€è¦ä¸€ä¸ª<strong>æ ˆ (Stack)</strong> æˆ–<strong>é˜Ÿåˆ— (Queue)</strong>ï¼Œ<strong><code>ArrayDeque</code> æ˜¯é¦–é€‰</strong>ï¼Œå› ä¸ºå®ƒæ¯” <code>LinkedList</code> æ›´å¿«ã€æ›´çœå†…å­˜ã€‚</li>
<li>åªæœ‰åœ¨éå¸¸ç‰¹æ®Šçš„åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚ä½ éœ€è¦åœ¨è¿­ä»£ä¸€ä¸ªåˆ—è¡¨çš„è¿‡ç¨‹ä¸­é¢‘ç¹åœ°åœ¨å½“å‰ä½ç½®æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œ<code>LinkedList</code> æ‰å¯èƒ½å±•ç°å‡ºä¼˜åŠ¿ã€‚åœ¨ç°ä»£ Java ç¼–ç¨‹ä¸­ï¼Œ<code>LinkedList</code> çš„ä½¿ç”¨åœºæ™¯å·²ç»è¶Šæ¥è¶Šå°‘äº†ã€‚</li>
</ul>
<h1 id="24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><a href="#24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"></a>24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/swap-nodes-in-pairs/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/swap-nodes-in-pairs/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,3,4]<br>è¾“å‡ºï¼š[2,1,4,3]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; []<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1]<br>è¾“å‡ºï¼š[1]</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ [0, 100] å†…<br>0 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<hr>
<p>ç®€å•çš„æƒ³æ³•å°±æ˜¯ï¼ŒcuræŒ‡é’ˆå’Œprevï¼Œå¼€å§‹æ—¶æŠŠcuræ”¾åœ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œprevæ”¾åœ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¬¡ä¸¤ä¸ªæŒ‡é’ˆéƒ½ç§»åŠ¨ä¸¤æ­¥ï¼Œäº¤æ¢,å®é™…ä¸Šè¿˜éœ€è¦ä¸€ä¸ªprevä¹‹å‰çš„æŒ‡é’ˆã€‚å®é™…ä¸Šä¸‹é¢çš„è¿­ä»£æ³•æ›´å¥½ã€‚æ—¶é—´å¤æ‚åº¦O(n)</p>
<p>æ›´å¥½çš„æ–¹æ³•æ˜¯ï¼š</p>
<ol>
<li>è¿­ä»£æ³•ï¼šåˆ›å»ºä¸€ä¸ªå“‘èŠ‚ç‚¹ã€‚ï¼ˆå¦‚æœæ²¡æœ‰å“‘èŠ‚ç‚¹ï¼Œæ›´æ–°headæ—¶å¤´èŠ‚ç‚¹éœ€è¦é¢å¤–é€»è¾‘ï¼‰ï¼Œä¹‹åç”¨curæŒ‡å‘å½“å‰æŒ‡é’ˆã€‚curåˆå§‹åŒ–åˆ°dummyï¼Œäº¤æ¢node1 &#x3D; cur.next,node2&#x3D;cur.next.nextã€‚ä¹‹åæŠŠcuræ›´æ–°åˆ°node1.ç›´åˆ°curä¸ºnullæˆ–è€…cur.nextæˆ–è€…cur.next.nextä¸ºnull</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">swapPairs</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>, head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> &amp;&amp; cur.next != <span class="literal">null</span> &amp;&amp; cur.next.next != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">node1</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">node2</span> <span class="operator">=</span> cur.next.next;</span><br><span class="line">            cur.next = node2;</span><br><span class="line">            node1.next = node2.next;</span><br><span class="line">            node2.next = node1;</span><br><span class="line">            cur = node1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é€’å½’æ³•</li>
</ol>
<p>åŸºæœ¬æƒ…å†µï¼šheadä¸ºnullæˆ–è€…head.nextä¸ºnull</p>
<p>äº¤æ¢headï¼Œhead.next.</p>
<p>äº¤æ¢ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹åŠä¹‹åçš„ã€‚</p>
<p>è¿”å›æ–°çš„å¤´èŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">swapPairs</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">node1</span> <span class="operator">=</span> head.next;</span><br><span class="line">        head.next = node1.next;</span><br><span class="line">        node1.next = head;</span><br><span class="line">        head.next = swapPairs(head.next);</span><br><span class="line">        <span class="keyword">return</span> node1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´ï¼šæ¯ä¸ªèŠ‚ç‚¹è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ“ä½œO(1),æ—¶é—´å¤æ‚åº¦O(n)<br>ç©ºé—´ï¼šé€’å½’æ·±åº¦O(n)</p>
<h1 id="25-kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬"><a href="#25-kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬" class="headerlink" title="25.kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬"></a>25.kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-nodes-in-k-group/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/reverse-nodes-in-k-group/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚</p>
<p>k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ k çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚</p>
<p>ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,3,4,5], k &#x3D; 2<br>è¾“å‡ºï¼š[2,1,4,3,5]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,3,4,5], k &#x3D; 3<br>è¾“å‡ºï¼š[3,2,1,4,5]</p>
<p>æç¤ºï¼š<br>é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ç›®ä¸º n<br>1 &lt;&#x3D; k &lt;&#x3D; n &lt;&#x3D; 5000<br>0 &lt;&#x3D; Node.val &lt;&#x3D; 1000</p>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªåªç”¨ O(1) é¢å¤–å†…å­˜ç©ºé—´çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<hr>
<p>ä¸€ä¸ªæƒ³æ³•å°±æ˜¯ï¼Œå…ˆæ„é€ ä¸€ä¸ªdummyï¼Œä½¿ç”¨ä¸€ä¸ªcurï¼ŒæŒ‡å‘è¦åè½¬çš„å­é“¾è¡¨å¤´èŠ‚ç‚¹çš„å‰é¢çš„èŠ‚ç‚¹ã€‚åˆå§‹åŒ–ä¸ºdummyã€‚æ¯æ¬¡è®°å½•headChildList &#x3D; cur.next,å¯¹é•¿åº¦ä¸ºkçš„å­é“¾è¡¨ç¿»è½¬ï¼Œcur.nextæ›´æ–°ä¸ºæ–°çš„å¤´èŠ‚ç‚¹ï¼Œä¹‹åæŠŠcuræ›´æ–°ä¸º headChildListã€‚ç›´åˆ°curåé¢ä¸è¶³kä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¬¡å¾ªç¯å‰éƒ½è¦æ£€æŸ¥æ˜¯å¦kä¸ª</p>
<p>æ„é€ ä¸€ä¸ªreverseListæ–¹æ³•ï¼Œä¼ å…¥å‚æ•°curå’Œkï¼Œè¿›è¡Œç¿»è½¬ï¼Œä½¿ç”¨è¿­ä»£ã€‚è¿”å›æ–°çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦:æ€»ä¹‹æ¯ä¸ªèŠ‚ç‚¹æ“ä½œéƒ½æ˜¯O(1),æ—¶é—´å¤æ‚åº¦O(n)</p>
<p>ç©ºé—´å¤æ‚åº¦:O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseKGroup</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>,head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">end</span> <span class="operator">=</span> cur;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">hasKNode</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">                end = end.next;</span><br><span class="line">                <span class="keyword">if</span> (end == <span class="literal">null</span>)&#123;</span><br><span class="line">                    hasKNode = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (hasKNode == <span class="literal">false</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> dummy.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">nextGroupStart</span> <span class="operator">=</span> end.next;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">headChildList</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = reverseList(cur,k);</span><br><span class="line">            headChildList.next = nextGroupStart;</span><br><span class="line">            cur = headChildList;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode prehead,<span class="type">int</span> k )</span>&#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> prehead.next;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> prehead;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯å®˜æ–¹å®ç°ï¼Œæ€è·¯ç±»ä¼¼ã€‚ä½†ç»´æŠ¤äº†headï¼ŒtailèŠ‚ç‚¹ï¼Œæ›´å¥½ç†è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseKGroup</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">hair</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        hair.next = head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> hair;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (head != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> pre;</span><br><span class="line">            <span class="comment">// æŸ¥çœ‹å‰©ä½™éƒ¨åˆ†é•¿åº¦æ˜¯å¦å¤§äºç­‰äº k</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; ++i) &#123;</span><br><span class="line">                tail = tail.next;</span><br><span class="line">                <span class="keyword">if</span> (tail == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> hair.next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">nex</span> <span class="operator">=</span> tail.next;</span><br><span class="line">            ListNode[] reverse = myReverse(head, tail);</span><br><span class="line">            head = reverse[<span class="number">0</span>];</span><br><span class="line">            tail = reverse[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// æŠŠå­é“¾è¡¨é‡æ–°æ¥å›åŸé“¾è¡¨</span></span><br><span class="line">            pre.next = head;</span><br><span class="line">            tail.next = nex;</span><br><span class="line">            pre = tail;</span><br><span class="line">            head = tail.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> hair.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ListNode[] myReverse(ListNode head, ListNode tail) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> tail.next;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (prev != tail) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">nex</span> <span class="operator">=</span> p.next;</span><br><span class="line">            p.next = prev;</span><br><span class="line">            prev = p;</span><br><span class="line">            p = nex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>[]&#123;tail, head&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="183-éšæœºé“¾è¡¨çš„å¤åˆ¶"><a href="#183-éšæœºé“¾è¡¨çš„å¤åˆ¶" class="headerlink" title="183.éšæœºé“¾è¡¨çš„å¤åˆ¶"></a>183.éšæœºé“¾è¡¨çš„å¤åˆ¶</h1><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„é“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆ random ï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚</p>
<p>æ„é€ è¿™ä¸ªé“¾è¡¨çš„ æ·±æ‹·è´ã€‚ æ·±æ‹·è´åº”è¯¥æ­£å¥½ç”± n ä¸ª å…¨æ–° èŠ‚ç‚¹ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªæ–°èŠ‚ç‚¹çš„å€¼éƒ½è®¾ä¸ºå…¶å¯¹åº”çš„åŸèŠ‚ç‚¹çš„å€¼ã€‚æ–°èŠ‚ç‚¹çš„ next æŒ‡é’ˆå’Œ random æŒ‡é’ˆä¹Ÿéƒ½åº”æŒ‡å‘å¤åˆ¶é“¾è¡¨ä¸­çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶ä½¿åŸé“¾è¡¨å’Œå¤åˆ¶é“¾è¡¨ä¸­çš„è¿™äº›æŒ‡é’ˆèƒ½å¤Ÿè¡¨ç¤ºç›¸åŒçš„é“¾è¡¨çŠ¶æ€ã€‚å¤åˆ¶é“¾è¡¨ä¸­çš„æŒ‡é’ˆéƒ½ä¸åº”æŒ‡å‘åŸé“¾è¡¨ä¸­çš„èŠ‚ç‚¹ ã€‚</p>
<p>æ·±æ‹·è´ç†è§£æˆåˆ›å»ºä¸€ä¸ªå’ŒåŸæœ¬å¯¹è±¡å†…å®¹å®Œå…¨ä¸€æ ·çš„å…¨æ–°å¯¹è±¡å³å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœåŸé“¾è¡¨ä¸­æœ‰ X å’Œ Y ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­ X.random â€“&gt; Y ã€‚é‚£ä¹ˆåœ¨å¤åˆ¶é“¾è¡¨ä¸­å¯¹åº”çš„ä¸¤ä¸ªèŠ‚ç‚¹ x å’Œ y ï¼ŒåŒæ ·æœ‰ x.random â€“&gt; y ã€‚</p>
<p>è¿”å›å¤åˆ¶é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p>ç”¨ä¸€ä¸ªç”± n ä¸ªèŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨æ¥è¡¨ç¤ºè¾“å…¥&#x2F;è¾“å‡ºä¸­çš„é“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹ç”¨ä¸€ä¸ª [val, random_index] è¡¨ç¤ºï¼š</p>
<p>valï¼šä¸€ä¸ªè¡¨ç¤º Node.val çš„æ•´æ•°ã€‚<br>random_indexï¼šéšæœºæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ç´¢å¼•ï¼ˆèŒƒå›´ä» 0 åˆ° n-1ï¼‰ï¼›å¦‚æœä¸æŒ‡å‘ä»»ä½•èŠ‚ç‚¹ï¼Œåˆ™ä¸º  null ã€‚<br>ä½ çš„ä»£ç  åª æ¥å—åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ä½œä¸ºä¼ å…¥å‚æ•°ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [[7,null],[13,0],[11,4],[10,2],[1,0]]<br>è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [[1,1],[2,1]]<br>è¾“å‡ºï¼š[[1,1],[2,1]]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [[3,null],[3,0],[3,null]]<br>è¾“å‡ºï¼š[[3,null],[3,0],[3,null]]</p>
<p>æç¤ºï¼š</p>
<p>0 &lt;&#x3D; n &lt;&#x3D; 1000<br>-104 &lt;&#x3D; Node.val &lt;&#x3D; 104<br>Node.random ä¸º null æˆ–æŒ‡å‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ã€‚</p>
<hr>
<p>ç®€å•çš„æƒ³æ³•å°±æ˜¯éå†ï¼Œä¾æ¬¡åˆ›å»ºæ–°èŠ‚ç‚¹æ„é€ æ–°é“¾è¡¨ã€‚æ—¶é—´å¤æ‚åº¦O(n)</p>
<p>ä½†æ˜¯randomçš„å¤åˆ¶ä¼šå‡ºç°é—®é¢˜ã€‚å¯èƒ½æŸä¸ªèŠ‚ç‚¹çš„randomæŒ‡é’ˆå¤åˆ¶æ—¶ï¼ŒæŒ‡å‘çš„å¯¹åº”èŠ‚ç‚¹è¿˜æ²¡æœ‰å¤åˆ¶ã€‚å¦‚æœå…ˆå¤åˆ¶å®Œä¹‹åå†æ¬¡æŸ¥æ‰¾è¿›è¡Œrandomå¤åˆ¶éœ€è¦èŠ±è´¹O(n^2).</p>
<p>å¤æ‚åº¦å‡çº§åˆ°O(n^2)ä¸»è¦åœ¨äºæŸ¥æ‰¾æ—¶å¾ˆéº»çƒ¦ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å‚¨å­˜èŠ‚ç‚¹ã€‚</p>
<p>åŒæ—¶è¦æ³¨æ„ï¼šrandomæŒ‡é’ˆæŒ‡å‘çš„è¿˜æ˜¯å…¶ä»–çš„èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç´¢å¼•ã€‚é¢˜ç›®ä¸­è¯´çš„ç´¢å¼•è¡¨ç¤ºä»…ä»…æ˜¯ä¸€ç§æ–‡æœ¬è¡¨ç¤º</p>
<ol>
<li>å“ˆå¸Œè¡¨<br>å…·ä½“æ¥è¯´ï¼Œç¬¬ä¸€æ¬¡éå†ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¾æ¬¡åˆ›å»ºæ–°çš„èŠ‚ç‚¹å¯¹è±¡ï¼ŒåŒæ—¶æŠŠoldNodeä½œä¸ºkeyï¼ŒnewNodeä½œä¸ºvalueæ”¾è¿›å“ˆå¸Œè¡¨ã€‚æ³¨æ„ï¼Œè™½ç„¶æˆ‘ä»¬æ²¡æœ‰é‡æ„equalså’Œhashcodeæ–¹æ³•ï¼Œä½†è¿™é‡Œä¾ç„¶å¯ä»¥ã€‚å› ä¸ºObjecté»˜è®¤çš„ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯æ ¹æ®å†…å­˜åœ°å€è®¡ç®—çš„ã€‚æˆ‘ä»¬ä¸å­˜åœ¨åœ°å€ä¸åŒçš„ç›¸åŒå¯¹è±¡</li>
</ol>
<p>ä¹‹åäºŒæ¬¡éå†ï¼ŒæŠŠæŒ‡é’ˆæ‹¼æ¥å¥½</p>
<p>æ—¶ç©ºéƒ½æ˜¯O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    Node next;</span><br><span class="line">    Node random;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">this</span>.random = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">copyRandomList</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">        Map&lt;Node,Node&gt; nodeMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(cur.val);</span><br><span class="line">            nodeMap.put(cur,newNode);</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> nodeMap.get(cur);</span><br><span class="line">            newNode.next = nodeMap.get(cur.next);</span><br><span class="line">            newNode.random = nodeMap.get(cur.random);</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nodeMap.get(head);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åŸåœ°ä¿®æ”¹</li>
</ol>
<p>å…ˆä¿®æ”¹åŸé“¾è¡¨ï¼ŒæŠŠæ¯ä¸ªåˆ›å»ºçš„æ–°çš„èŠ‚ç‚¹æ”¾åœ¨åŸèŠ‚ç‚¹åé¢ã€‚ç›´æ¥åœ¨åŸé“¾è¡¨å®Œæˆæ˜ å°„å…³ç³»ã€‚</p>
<p>å½¢å¦‚ï¼š A-aâ€“B-b-C-câ€¦â€¦ã€‚</p>
<p>ä¹‹åéå†æŠŠrandomæŒ‡é’ˆå¤„ç†</p>
<p>ä¹‹ååˆ†å¼€é“¾è¡¨</p>
<p>æ³¨æ„ï¼Œæ¯ä¸ªæ–°èŠ‚ç‚¹éƒ½æ˜¯åŸèŠ‚ç‚¹.next</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    Node next;</span><br><span class="line">    Node random;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">this</span>.random = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">copyRandomList</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(cur.val);</span><br><span class="line">            cur.next = newNode;</span><br><span class="line">            newNode.next = next;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            newNode.random = cur.random == <span class="literal">null</span> ? <span class="literal">null</span> : cur.random.next;</span><br><span class="line">            cur = cur.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(-<span class="number">1</span>);</span><br><span class="line">        dummy.next = head;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">oldNode</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="keyword">while</span> (oldNode != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">nextOldNode</span> <span class="operator">=</span> oldNode.next.next;</span><br><span class="line">            newNode.next = oldNode.next;</span><br><span class="line">            newNode = newNode.next;</span><br><span class="line">            oldNode.next = nextOldNode;</span><br><span class="line">            oldNode = nextOldNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦O(N),ç©ºé—´O(1)</p>
<p>åŠ›æ‰£çš„å¾ˆå¤šé¢˜é™ä½ç©ºé—´å¤æ‚åº¦çš„æ–¹æ³•ï¼Œéƒ½æ˜¯æŠŠ<strong>è¾“å…¥æˆ–è€…è¾“å‡ºç©ºé—´ä½œä¸ºè¾…åŠ©ç©ºé—´</strong></p>
<h1 id="148-æ’åºé“¾è¡¨"><a href="#148-æ’åºé“¾è¡¨" class="headerlink" title="148. æ’åºé“¾è¡¨"></a>148. æ’åºé“¾è¡¨</h1><p>ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ head ï¼Œè¯·å°†å…¶æŒ‰ å‡åº æ’åˆ—å¹¶è¿”å› æ’åºåçš„é“¾è¡¨ ã€‚</p>
<p>æç¤ºï¼š</p>
<p>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ [0, 5 * 104] å†…<br>-105 &lt;&#x3D; Node.val &lt;&#x3D; 105</p>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥åœ¨ O(n log n) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åº</p>
<hr>
<p>ç®€å•çš„æƒ³æ³•å°±æ˜¯å…ˆè½¬æ¢æˆæ•°ç»„ï¼Œä¹‹åä½¿ç”¨æ’åºï¼Œå†è½¬æ¢å›é“¾è¡¨ã€‚æ—¶é—´å¤æ‚åº¦O(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦O(n)</p>
<p>å¸¸æ•°çº§çš„è¯ä¸çŸ¥é“ï¼Œé“¾è¡¨ä¸èƒ½O(1)éšæœºè®¿é—®</p>
<hr>
<p>å®é™…ä¸Šï¼Œæ—¶é—´å¤æ‚åº¦O(nlogn)çš„ç®—æ³•ä¸€èˆ¬æœ‰å¿«æ’ï¼Œå½’å¹¶ï¼Œå †æ’åºã€‚å¿«æ’æœ€å·®æ˜¯O(n^2)ï¼ŒåŒæ—¶éœ€è¦éšæœºè®¿é—®æ¥äº¤æ¢å…ƒç´ ï¼›å †æ’åºä¹Ÿéœ€è¦éšæœºè®¿é—®ï¼›å½’å¹¶ä¸éœ€è¦ï¼Œåªéœ€è¦ä¸æ–­åˆ†æˆæ›´å°çš„é“¾è¡¨ï¼Œå…ˆåˆ†å‰²å†åˆå¹¶<br>æ•´ä½“æ­¥éª¤ï¼š</p>
<ol>
<li>åŸºæœ¬æ¡ä»¶ï¼šé“¾è¡¨é•¿åº¦ä¸º1ç›´æ¥è¿”å›</li>
<li>æ‰¾ä¸­ç‚¹</li>
<li>å½’å¹¶æ’åºä¸­ç‚¹å·¦ä¾§</li>
<li>å½’å¹¶æ’åºä¸­ç‚¹å³ä¾§</li>
<li>åˆå¹¶ä¸¤ä¸ªå­é“¾è¡¨</li>
<li>è¿”å›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">sortList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="literal">null</span> &amp;&amp; fast.next.next != <span class="literal">null</span>)&#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;<span class="comment">//å¾—åˆ°ä¸­ç‚¹slow</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">headRight</span> <span class="operator">=</span> sortList(slow.next);</span><br><span class="line">        slow.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">headLeft</span> <span class="operator">=</span> sortList(head);</span><br><span class="line">        <span class="keyword">return</span> merge(headLeft,headRight);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">merge</span><span class="params">(ListNode head1,ListNode head2)</span>&#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prehead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> prehead;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_1</span> <span class="operator">=</span> head1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_2</span> <span class="operator">=</span> head2;</span><br><span class="line">        <span class="keyword">while</span> (p_1 != <span class="literal">null</span> &amp;&amp; p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (p_1.val &lt; p_2.val)&#123;</span><br><span class="line">                cur.next = p_1;</span><br><span class="line">                p_1 = p_1.next;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = p_2;</span><br><span class="line">                p_2 = p_2.next;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p_1 != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next = p_1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next = p_2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´O(nlogn),ç©ºé—´O(logn)</p>
<hr>
<p>è¦å®ç°å¸¸æ•°çº§ï¼Œéœ€è¦ä¸é€‚ç”¨é€’å½’ï¼Œä½¿ç”¨è¿­ä»£ï¼Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº</p>
<ol>
<li>å…ˆçœ‹æˆæœ‰nä¸ªé•¿åº¦ä¸º1çš„æœ‰åºï¼ˆé•¿åº¦ä¸º1å¤©ç„¶æœ‰åºï¼‰å­é“¾è¡¨</li>
<li>åˆå¹¶è¿™äº›å­é“¾è¡¨ï¼Œå¾—åˆ°n&#x2F;2ä¸ªé•¿åº¦ä¸º2çš„å­é“¾è¡¨</li>
<li>åœ¨åˆå¹¶é•¿åº¦ä¸º2çš„å­é“¾è¡¨ï¼Œå¾—åˆ°n&#x2F;4ä¸ªé•¿åº¦ä¸º4çš„</li>
<li>ç›´åˆ°subLength å¤§äºç­‰äº æ€»é•¿åº¦n</li>
</ol>
<p>å…·ä½“å®ç°</p>
<ol>
<li>éå†è®¡ç®—æ€»é•¿åº¦length</li>
<li>åˆ›å»ºå“‘èŠ‚ç‚¹ï¼šç®€åŒ–æ“ä½œ</li>
<li>å¤–å±‚å¾ªç¯ï¼ˆæ§åˆ¶å­é“¾è¡¨é•¿åº¦ï¼‰ï¼š<ul>
<li>ä½¿ç”¨forï¼Œè®©å­é“¾è¡¨sublengthä»1å¼€å§‹ï¼Œæ¯æ¬¡å¾ªç¯åç¿»å€ï¼Œç›´åˆ°subLenthå¤§äºç­‰äºlength</li>
</ul>
</li>
<li>å†…å±‚å¾ªç¯ï¼ˆéå†åˆå¹¶ï¼‰<ul>
<li>æ¯æ¬¡å¤–å±‚å¾ªç¯ï¼Œä»å¤´å¼€å§‹éå†æ•´ä¸ªé“¾è¡¨ï¼Œå°†ç›¸é‚»çš„ã€é•¿åº¦subLengthçš„å­é“¾è¡¨ä¸¤ä¸¤åˆå¹¶</li>
<li>éœ€è¦ç”¨prevæ¥è®°å½•å·²æ’åºéƒ¨åˆ†çš„å°¾éƒ¨ï¼Œcurræ¥è¡¨ç¤ºå¾…å¤„ç†çš„å¤´éƒ¨</li>
<li>å¾ªç¯ä¸­ï¼Œï¼š<ol>
<li>å®šä½å­é“¾è¡¨ï¼šä»currå¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå­é“¾è¡¨ï¼Œhead1ï¼Œé•¿åº¦subLength</li>
<li>åˆ†å‰²ï¼šæ‰¾åˆ°head1æœ«å°¾ï¼Œåˆ‡æ–­ï¼Œä¹‹åæ‰¾åˆ°ç¬¬äºŒä¸ªå­é“¾è¡¨head2</li>
<li>å†æ¬¡åˆ†å‰²ï¼Œæ‰¾åˆ°head2æœ«å°¾ï¼Œå’Œé“¾è¡¨å‰©ä½™éƒ¨åˆ†æ–­å¼€ï¼Œä¿å­˜å‰©ä½™éƒ¨åˆ†çš„å¤´èŠ‚ç‚¹</li>
<li>åˆå¹¶ï¼Œè°ƒç”¨merge</li>
<li>é“¾æ¥ï¼ŒæŠŠprev.nextæŒ‡å‘åˆå¹¶åçš„å­é“¾è¡¨å¤´éƒ¨</li>
<li>æ›´æ–°prev</li>
<li>æ›´æ–°curråˆ°å‰©ä½™éƒ¨åˆ†å¤´èŠ‚ç‚¹</li>
</ol>
</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">sortList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            length++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>,head);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> <span class="number">1</span>; subLength &lt; length; subLength *= <span class="number">2</span>) &#123;</span><br><span class="line">            cur = dummy.next;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> dummy;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">head1</span> <span class="operator">=</span> cur;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; subLength &amp;&amp; cur.next != <span class="literal">null</span>; i++) &#123;</span><br><span class="line">                    cur = cur.next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">head2</span> <span class="operator">=</span> cur.next;</span><br><span class="line">                cur.next = <span class="literal">null</span>;</span><br><span class="line">                cur = head2;</span><br><span class="line">                <span class="keyword">if</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; subLength &amp;&amp; cur.next != <span class="literal">null</span>; i++) &#123;</span><br><span class="line">                        cur = cur.next;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">nextSubList</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">                    nextSubList = cur.next;</span><br><span class="line">                    cur.next = <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">merged</span> <span class="operator">=</span> merge(head1,head2);</span><br><span class="line">                prev.next = merged;</span><br><span class="line">                <span class="keyword">while</span> (prev !=<span class="literal">null</span>)&#123;</span><br><span class="line">                    prev = prev.next;</span><br><span class="line">                &#125;</span><br><span class="line">                cur = nextSubList;</span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">merge</span><span class="params">(ListNode head1,ListNode head2)</span>&#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prehead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> prehead;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_1</span> <span class="operator">=</span> head1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_2</span> <span class="operator">=</span> head2;</span><br><span class="line">        <span class="keyword">while</span> (p_1 != <span class="literal">null</span> &amp;&amp; p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (p_1.val &lt; p_2.val)&#123;</span><br><span class="line">                cur.next = p_1;</span><br><span class="line">                p_1 = p_1.next;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = p_2;</span><br><span class="line">                p_2 = p_2.next;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p_1 != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next = p_1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next = p_2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="23-åˆå¹¶kä¸ªå‡åºé“¾è¡¨"><a href="#23-åˆå¹¶kä¸ªå‡åºé“¾è¡¨" class="headerlink" title="23.åˆå¹¶kä¸ªå‡åºé“¾è¡¨"></a>23.åˆå¹¶kä¸ªå‡åºé“¾è¡¨</h1><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚</p>
<p>è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šlists &#x3D; [[1,4,5],[1,3,4],[2,6]]<br>è¾“å‡ºï¼š[1,1,2,3,4,4,5,6]<br>è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š<br>[<br>1-&gt;4-&gt;5,<br>1-&gt;3-&gt;4,<br>2-&gt;6<br>]<br>å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚<br>1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šlists &#x3D; []<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šlists &#x3D; [[]]<br>è¾“å‡ºï¼š[]</p>
<p>æç¤ºï¼š</p>
<p>k &#x3D;&#x3D; lists.length<br>0 &lt;&#x3D; k &lt;&#x3D; 10^4<br>0 &lt;&#x3D; lists[i].length &lt;&#x3D; 500<br>-10^4 &lt;&#x3D; lists[i][j] &lt;&#x3D; 10^4<br>lists[i] æŒ‰ å‡åº æ’åˆ—<br>lists[i].length çš„æ€»å’Œä¸è¶…è¿‡ 10^4</p>
<hr>
<p>è¿™ä¸ªæ„Ÿè§‰å®è´¨ä¸Šå°±æ˜¯ä¸Šé¢çš„æ’åºé“¾è¡¨çš„åˆå¹¶éƒ¨åˆ†ã€‚è¿˜æ˜¯å†™å¥½mergeæ–¹æ³•ä¹‹åç›´æ¥åˆå¹¶å³å¯<br>æ—¶é—´å¤æ‚åº¦æ˜¯O(kN)ï¼ŒNæ˜¯æ€»ç»“ç‚¹æ•°ï¼Œkæ˜¯listsé•¿åº¦ï¼Œç©ºé—´O(1)<br>O(n_0 + (n_0+n_1)+â€¦â€¦+(n_0+n_1+â€¦â€¦n_k-1))ï¼Œç»“æœæ˜¯O(Nk)ã€‚</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/10/09/%E9%93%BE%E8%A1%A8/img_5.png"
                        class="" title="img_5.png"
                 >
<p>ä¸Šé¢çš„å¼å­ï¼Œk-jå°äºç­‰äºkï¼Œæ‰€ä»¥æœ€ç»ˆæ˜¯NKã€‚<br>åŒæ—¶æœ€åæƒ…å†µæ˜¯å¹³å‡åˆ†å¸ƒï¼Œæ¨å¯¼ä¹Ÿæ˜¯NK</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (lists.length == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (lists.length == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> lists[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">merged</span> <span class="operator">=</span> merge(lists[<span class="number">0</span>],lists[<span class="number">1</span>]);</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; lists.length; i++) &#123;</span><br><span class="line">          merged = merge(merged,lists[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> merged;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">merge</span><span class="params">(ListNode head1,ListNode head2)</span>&#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_1</span> <span class="operator">=</span> head1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p_2</span> <span class="operator">=</span> head2;</span><br><span class="line">        <span class="keyword">while</span> (p_1 != <span class="literal">null</span> &amp;&amp; p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (p_1.val &lt; p_2.val)&#123;</span><br><span class="line">                cur.next = p_1;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">                p_1 = p_1.next;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = p_2;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">                p_2 = p_2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p_1 != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next = p_1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p_2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next = p_2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ›´å¥½çš„è§£æ³•ï¼š</p>
<ol>
<li>åˆ†æ²»æ³•</li>
</ol>
<p>åˆå¹¶æ•´ä¸ªé“¾è¡¨ï¼Œåˆ’åˆ†ä¸ºåˆå¹¶å·¦ä¾§é“¾è¡¨ï¼Œåˆå¹¶å³ä¾§é“¾è¡¨ï¼Œæœ€ååˆå¹¶ä¸¤ä¸ªå¤§é“¾è¡¨ã€‚é€’å½’æ·±åº¦logk,æ¯å±‚æ“ä½œæ•°éƒ½æ˜¯O(N),æ‰€ä»¥æ—¶é—´å¤æ‚åº¦O(Nlogk),ç©ºé—´O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">   <span class="type">int</span> val;</span><br><span class="line">   ListNode next;</span><br><span class="line"></span><br><span class="line">   ListNode() &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">      <span class="built_in">this</span>.next = next;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (lists.length == <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (lists.length == <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> lists[<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> mergeHelper(lists,<span class="number">0</span>,lists.length-<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ListNode <span class="title function_">mergeHelper</span><span class="params">(ListNode[] lists, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;<span class="comment">//é€’å½’ä¸‰è¦ç´ ï¼šåŸºæœ¬æƒ…å†µï¼Œé€’å½’è°ƒç”¨ï¼Œæœ¬å±‚</span></span><br><span class="line">       <span class="keyword">if</span> (left &gt;= right)&#123;</span><br><span class="line">           <span class="keyword">return</span> lists[left];</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">      <span class="type">ListNode</span> <span class="variable">headLeft</span> <span class="operator">=</span> mergeHelper(lists, left, mid);</span><br><span class="line">      <span class="type">ListNode</span> <span class="variable">headRight</span> <span class="operator">=</span> mergeHelper(lists, mid + <span class="number">1</span>, right);</span><br><span class="line">      <span class="keyword">return</span> mergeTwoLists(headLeft,headRight);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode head1, ListNode head2)</span> &#123;</span><br><span class="line">      <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">      <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummy;</span><br><span class="line">      <span class="type">ListNode</span> <span class="variable">p_1</span> <span class="operator">=</span> head1;</span><br><span class="line">      <span class="type">ListNode</span> <span class="variable">p_2</span> <span class="operator">=</span> head2;</span><br><span class="line">      <span class="keyword">while</span> (p_1 != <span class="literal">null</span> &amp;&amp; p_2 != <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="keyword">if</span> (p_1.val &lt; p_2.val) &#123;</span><br><span class="line">            cur.next = p_1;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            p_1 = p_1.next;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.next = p_2;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            p_2 = p_2.next;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (p_1 != <span class="literal">null</span>) &#123;</span><br><span class="line">         cur.next = p_1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (p_2 != <span class="literal">null</span>) &#123;</span><br><span class="line">         cur.next = p_2;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ä¼˜å…ˆé˜Ÿåˆ—</li>
</ol>
<p>ä½¿ç”¨ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ‰€æœ‰å¤´èŠ‚ç‚¹å…¥å †</p>
<p>æœ€å°å¤´èŠ‚ç‚¹è‡ªåŠ¨é€‰æ‹©ï¼Œå‡ºé˜Ÿ</p>
<p>è¿æ¥åˆ°æœ«å°¾ï¼Œå¹¶ä¸”è¡¥å……è¯¥èŠ‚ç‚¹çš„nextï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</p>
<p>é‡å¤</p>
<p>æ³¨æ„å…¥å †å‡ºå †éƒ½æ˜¯O(logk)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">   <span class="type">int</span> val;</span><br><span class="line">   ListNode next;</span><br><span class="line"></span><br><span class="line">   ListNode() &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">      <span class="built_in">this</span>.next = next;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (lists.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (lists.length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> lists[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        PriorityQueue&lt;ListNode&gt; listNodePriorityQueue = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; (a.val - b.val));</span><br><span class="line">        <span class="keyword">for</span> (ListNode node : lists) &#123;</span><br><span class="line">            <span class="keyword">if</span> (node != <span class="literal">null</span>)&#123;</span><br><span class="line">                listNodePriorityQueue.add(node);<span class="comment">//æ³¨æ„åŸé¢˜ç›®å¤´èŠ‚ç‚¹å¯èƒ½ä¸ºç©º</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="keyword">while</span> (!listNodePriorityQueue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">node</span> <span class="operator">=</span> listNodePriorityQueue.poll();</span><br><span class="line">            <span class="keyword">if</span> (node.next != <span class="literal">null</span>) &#123;</span><br><span class="line">                listNodePriorityQueue.add(node.next);</span><br><span class="line">            &#125;</span><br><span class="line">            cur.next = node;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç©ºé—´å¤æ‚åº¦O(k),æ—¶é—´å¤æ‚åº¦klog(k)(å¤´èŠ‚ç‚¹ä¾æ¬¡å…¥å †) + 2(n-k)logkï¼ˆå…¶ä½™èŠ‚ç‚¹éƒ½è¦ä¸€æ¬¡å‡ºå †ä¸€æ¬¡å…¥å †ï¼Œè™½ç„¶æœ€åå‡ æ¬¡å¯èƒ½ä¸æ˜¯logkä½†æ˜¯ç´¯åŠ åè¿˜æ˜¯ï¼ˆlogk+â€¦â€¦log1ä¹Ÿæ˜¯klogkï¼‰ï¼‰ + klogkï¼ˆå¤´èŠ‚ç‚¹ä¹Ÿè¦å‡ºå †ï¼‰ &#x3D; nlogk</p>
<h1 id="146ã€LRUç¼“å­˜"><a href="#146ã€LRUç¼“å­˜" class="headerlink" title="146ã€LRUç¼“å­˜"></a>146ã€LRUç¼“å­˜</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/lru-cache/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/lru-cache/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>è¯·ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ»¡è¶³  LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜ çº¦æŸçš„æ•°æ®ç»“æ„ã€‚<br>å®ç° LRUCache ç±»ï¼š<br>LRUCache(int capacity) ä»¥ æ­£æ•´æ•° ä½œä¸ºå®¹é‡ capacity åˆå§‹åŒ– LRU ç¼“å­˜</p>
<p>int get(int key) å¦‚æœå…³é”®å­— key å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› -1 ã€‚</p>
<p>void put(int key, int value) å¦‚æœå…³é”®å­— key å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ value ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å‘ç¼“å­˜ä¸­æ’å…¥è¯¥ç»„ key-value ã€‚å¦‚æœæ’å…¥æ“ä½œå¯¼è‡´å…³é”®å­—æ•°é‡è¶…è¿‡ capacity ï¼Œåˆ™åº”è¯¥ é€å‡º æœ€ä¹…æœªä½¿ç”¨çš„å…³é”®å­—ã€‚</p>
<p>å‡½æ•° get å’Œ put å¿…é¡»ä»¥ O(1) çš„å¹³å‡æ—¶é—´å¤æ‚åº¦è¿è¡Œã€‚</p>
<p>1 &lt;&#x3D; capacity &lt;&#x3D; 3000<br>0 &lt;&#x3D; key &lt;&#x3D; 10000<br>0 &lt;&#x3D; value &lt;&#x3D; 105<br>æœ€å¤šè°ƒç”¨ 2 * 105 æ¬¡ get å’Œ put</p>
<hr>
<p>key å’Œvalueè€ƒè™‘ä½¿ç”¨å“ˆå¸Œè¡¨å‚¨å­˜ã€‚</p>
<p>getæœ¬èº«çš„æ“ä½œå¾ˆå®¹æ˜“ä½¿ç”¨O(1)</p>
<p>ä½†æ˜¯æ€ä¹ˆé€å‡ºæœ€ä¹…æ²¡ä½¿ç”¨çš„ï¼Ÿè¿™æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œä¼¼ä¹å¯ä»¥ä½¿ç”¨é˜Ÿåˆ—ã€‚ä½†æ˜¯å¦‚æœæœ‰å…ƒç´ è¢«é‡å¤ä½¿ç”¨å¾ˆéš¾åŠã€‚é¢˜ç›®æ ‡ç­¾æç¤ºé“¾è¡¨åŒå‘é“¾è¡¨</p>
<p>è€ƒè™‘ä½¿ç”¨åŒå‘é“¾è¡¨å‚¨å­˜è®¿é—®é¡ºåº</p>
<p>é“¾è¡¨å¤´éƒ¨ï¼ˆå·¦ä¾§ï¼‰è¡¨ç¤ºæœ€è¿‘ä½¿ç”¨çš„ï¼Œå¦ä¸€ç«¯è¡¨ç¤ºæœ€ä¹…æœªä½¿ç”¨çš„ã€‚å¢åˆ éƒ½æ˜¯O(1)ã€‚é‡è¦çš„æ˜¯æ‰¾åˆ°è¦å¢åˆ çš„èŠ‚ç‚¹ã€‚å¯ä»¥è€ƒè™‘ç›´æ¥åœ¨å“ˆå¸Œè¡¨ä¸­å­˜å‚¨èŠ‚ç‚¹è€Œä¸æ˜¯value</p>
<p>æ³¨æ„ç°å­˜çš„LinkedListä¸é€‚ç”¨ã€‚è¿™ä¸ªæ•°æ®ç»“æ„è™½ç„¶åŸºäºåŒå‘é“¾è¡¨ï¼Œä½†æ˜¯ä¸»è¦ç”¨é€”æ˜¯ä½œä¸ºListå’ŒDequeçš„å®ç°ã€‚æ— æ³•ç›´æ¥è®¿é—®èŠ‚ç‚¹ã€‚èŠ‚ç‚¹è¢«å°è£…äº†</p>
<p>éœ€è¦è‡ªå·±é€ ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚å…·ä½“æ¥è¯´å°±æ˜¯å®šä¹‰ä¸€ä¸ªåŒå‘èŠ‚ç‚¹ç±»å°±è¡Œã€‚ä½¿ç”¨private staticå®šä¹‰ï¼Œè¿™ä¸ªç±»ä»…ä»…å¸Œæœ›LRUCacheè®¿é—®ï¼Œå¹¶ä¸”åº”å½“æ˜¯å±äºæ•´ä¸ªç±»çš„ï¼Œä¸åº”å½“èƒ½å¤Ÿè®¿é—®æŸä¸ªå…·ä½“çš„å®ä¾‹ã€‚å†…éƒ¨å…³é”®å­—é»˜è®¤å¯è§åº¦å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LRUCache</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DLinkedListNode</span> &#123;</span><br><span class="line">      <span class="type">int</span> key;</span><br><span class="line">      <span class="type">int</span> value;</span><br><span class="line">      <span class="type">DLinkedListNode</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">      <span class="type">DLinkedListNode</span> <span class="variable">next</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">public</span> <span class="title function_">DLinkedListNode</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">         <span class="built_in">this</span>.value = value;</span><br><span class="line">         <span class="built_in">this</span>.key = key;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">public</span> <span class="title function_">DLinkedListNode</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> HashMap&lt;Integer,DLinkedListNode&gt; map;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> capacity;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">   <span class="keyword">private</span> DLinkedListNode preHead;</span><br><span class="line">   <span class="keyword">private</span> DLinkedListNode nextTail;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.capacity = capacity;</span><br><span class="line">       <span class="built_in">this</span>.size = <span class="number">0</span>;</span><br><span class="line">       <span class="built_in">this</span>.map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(capacity);</span><br><span class="line">       <span class="built_in">this</span>.preHead = <span class="keyword">new</span> <span class="title class_">DLinkedListNode</span>(-<span class="number">1</span>,-<span class="number">1</span>);</span><br><span class="line">       <span class="built_in">this</span>.nextTail = <span class="keyword">new</span> <span class="title class_">DLinkedListNode</span>(-<span class="number">1</span>,-<span class="number">1</span>);</span><br><span class="line">       <span class="built_in">this</span>.preHead.next = <span class="built_in">this</span>.nextTail;</span><br><span class="line">       <span class="built_in">this</span>.nextTail.prev = <span class="built_in">this</span>.preHead;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">           <span class="type">DLinkedListNode</span> <span class="variable">node</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">           moveToHead(node);</span><br><span class="line">           <span class="keyword">return</span> node.value;</span><br><span class="line">       &#125;   </span><br><span class="line">       <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(key))&#123;</span><br><span class="line">            <span class="type">DLinkedListNode</span> <span class="variable">nodeToChange</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">            nodeToChange.value = value;</span><br><span class="line">            moveToHead(nodeToChange);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="type">DLinkedListNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DLinkedListNode</span>(key,value);</span><br><span class="line">           map.put(key,node);</span><br><span class="line">           addToHead(node);</span><br><span class="line">           size++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (size &gt; capacity)&#123;</span><br><span class="line">            <span class="type">DLinkedListNode</span> <span class="variable">nodeToRemove</span> <span class="operator">=</span> nextTail.prev;</span><br><span class="line">            removeNode(nodeToRemove);</span><br><span class="line">            map.remove(nodeToRemove.key);</span><br><span class="line">            size--;</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">addToHead</span><span class="params">(DLinkedListNode node)</span>&#123;</span><br><span class="line">       node.next = preHead.next;</span><br><span class="line">       preHead.next.prev = node;</span><br><span class="line">       node.prev = preHead;</span><br><span class="line">       preHead.next = node;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">removeNode</span><span class="params">(DLinkedListNode node)</span>&#123;</span><br><span class="line">       node.prev.next = node.next;</span><br><span class="line">       node.next.prev = node.prev;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">moveToHead</span><span class="params">(DLinkedListNode node)</span>&#123;</span><br><span class="line">       removeNode(node);</span><br><span class="line">       addToHead(node);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your LRUCache object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * LRUCache obj = new LRUCache(capacity);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.get(key);</span></span><br><span class="line"><span class="comment"> * obj.put(key,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>



                    
                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                é“¾è¡¨
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2025/10/09/é“¾è¡¨/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    ä½œè€…
                </div>
                <div class="content">stellogic</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    å‘å¸ƒäº
                </div>
                <div class="content">2025-10-09 08:19</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    è®¸å¯
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
                        
                            <i class="fa-brands fa-creative-commons"></i>
                            <i class="fa-brands fa-creative-commons-by"></i>
                            <i class="fa-brands fa-creative-commons-nc"></i>
                            <i class="fa-brands fa-creative-commons-sa"></i>
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="å¤åˆ¶ç‰ˆæƒä¿¡æ¯" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E9%93%BE%E8%A1%A8/">é“¾è¡¨</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ° QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="åˆ†äº«åˆ°å¾®ä¿¡"
            data-tooltip-img-tip="å¾®ä¿¡æ‰«ä¸€æ‰«"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ°å¾®åš"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2025/10/16/%E5%9B%9E%E6%BA%AF/"
                                   title="å›æº¯"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">å›æº¯</span>
                                        <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2025/09/28/%E7%9F%A9%E9%98%B5/"
                                   title="çŸ©é˜µ"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">çŸ©é˜µ</span>
                                        <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;è¯„è®º
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">è¯„è®ºæ’ä»¶åŠ è½½å¤±è´¥</span>
    <button class="reload keep-button">ç‚¹å‡»é‡æ–°åŠ è½½</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">æ­£åœ¨åŠ è½½è¯„è®ºæ’ä»¶</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="giscus-comments-container">
        <div class="giscus" id="giscus"></div>
        <script 
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          if (!window.KeepCommentPlugin?.getGiscusTheme) {
            window.KeepCommentPlugin.getGiscusTheme = () => {
              return document.documentElement.classList.contains('dark-mode') ? 'dark_dimmed' : 'light_tritanopia'
            }
          }

          if (!window.KeepCommentPlugin?.changeGiscusTheme) {
            window.KeepCommentPlugin.changeGiscusTheme = () => {
              const iframe = document.querySelector('iframe.giscus-frame')
              iframe && iframe.contentWindow.postMessage({
                giscus: {
                  setConfig: {
                    theme: window.KeepCommentPlugin.getGiscusTheme()
                  }
                }
              }, 'https://giscus.app')
            }
          }

          if (!window.KeepCommentPlugin?.initGiscus) {
            window.KeepCommentPlugin.initGiscus = () => {
              const script = document.createElement('script')
              script.async = true
              script.src = 'https://giscus.app/client.js'
              script.setAttribute('data-repo', 'Stellogic/Stellogic.github.io')
              script.setAttribute('data-repo-id', 'R_kgDOOkF4SA')
              script.setAttribute('data-category', 'Announcements')
              script.setAttribute('data-category-id', 'DIC_kwDOOkF4SM4Cp-Ln')
              script.setAttribute('data-reactions-enabled', '1')
              script.setAttribute('data-lang', 'zh-CN')
              script.setAttribute('data-mapping', 'pathname')
              script.setAttribute('data-strict', '0')
              script.setAttribute('data-emit-metadata', '0')
              script.setAttribute('data-input-position', 'top')
              script.setAttribute('crossorigin', 'anonymous')
              script.setAttribute('loading', 'lazy')
              script.setAttribute('data-theme', window.KeepCommentPlugin.getGiscusTheme())
              document.querySelector('.giscus-comments-container').appendChild(script)
              script.onerror = () => {
                window.KeepCommentPlugin.loadFailHandle()
              }
              script.onload = () => {
                window.KeepCommentPlugin.hideLoading()
              }
              const toggleThemeBtn = document.querySelector('.tool-toggle-theme-mode')
              toggleThemeBtn && toggleThemeBtn.addEventListener('click', () => {
                window.KeepCommentPlugin.changeGiscusTheme()
              })
            }
          }

          if ('false' === "true") {
            setTimeout(() => {
              window.KeepCommentPlugin.initGiscus()
            }, 1000)
          } else {
            window.addEventListener("DOMContentLoaded", window.KeepCommentPlugin.initGiscus)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#160-%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">160.ç›¸äº¤é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#206-%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="nav-number">2.</span> <span class="nav-text">206.ç¿»è½¬é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#234-%E5%9B%9E%E6%96%87%E9%93%BE%E8%A1%A8"><span class="nav-number">3.</span> <span class="nav-text">234.å›æ–‡é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#141-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8"><span class="nav-number">4.</span> <span class="nav-text">141.ç¯å½¢é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8%E4%BA%8C"><span class="nav-number">5.</span> <span class="nav-text">142.ç¯å½¢é“¾è¡¨äºŒ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#21-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-number">6.</span> <span class="nav-text">21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0"><span class="nav-number">7.</span> <span class="nav-text">2.ä¸¤æ•°ç›¸åŠ </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#19-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E8%8A%82%E7%82%B9"><span class="nav-number">8.</span> <span class="nav-text">19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#24-%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9"><span class="nav-number">9.</span> <span class="nav-text">24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#25-k%E4%B8%AA%E4%B8%80%E7%BB%84%E9%93%BE%E8%A1%A8%E7%BF%BB%E8%BD%AC"><span class="nav-number">10.</span> <span class="nav-text">25.kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#183-%E9%9A%8F%E6%9C%BA%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="nav-number">11.</span> <span class="nav-text">183.éšæœºé“¾è¡¨çš„å¤åˆ¶</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#148-%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-number">12.</span> <span class="nav-text">148. æ’åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#23-%E5%90%88%E5%B9%B6k%E4%B8%AA%E5%8D%87%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-number">13.</span> <span class="nav-text">23.åˆå¹¶kä¸ªå‡åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#146%E3%80%81LRU%E7%BC%93%E5%AD%98"><span class="nav-number">14.</span> <span class="nav-text">146ã€LRUç¼“å­˜</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
    &copy;&nbsp;2025
    
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">stellogic</a>
        
    </div>

    <div class="theme-info info-item">
        ç”±&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;é©±åŠ¨&nbsp;&&nbsp;ä¸»é¢˜&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    
        
        <div class="deploy-info info-item">
            
                <a target="_blank" rel="nofollow" href="https://stellogic.github.io/">
            
            æœ¬ç«™ç”± <span class="tooltip" data-tooltip-content="GitHub Pages"><img src="/images/brands/github.png"></span> æä¾›éƒ¨ç½²æœåŠ¡
            
                </a>
            
        </div>
    

    
        <div class="count-info info-item">
            

            
                <span class="count-item border-box uv">
                    <span class="item-type border-box">è®¿å®¢æ•°</span>
                    <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span>
                </span>
            

            
                <span class="count-item border-box pv">
                    <span class="item-type border-box">è®¿é—®é‡</span>
                    <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span>
                </span>
            
        </div>
    

    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#160-%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">160.ç›¸äº¤é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#206-%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="nav-number">2.</span> <span class="nav-text">206.ç¿»è½¬é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#234-%E5%9B%9E%E6%96%87%E9%93%BE%E8%A1%A8"><span class="nav-number">3.</span> <span class="nav-text">234.å›æ–‡é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#141-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8"><span class="nav-number">4.</span> <span class="nav-text">141.ç¯å½¢é“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8%E4%BA%8C"><span class="nav-number">5.</span> <span class="nav-text">142.ç¯å½¢é“¾è¡¨äºŒ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#21-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-number">6.</span> <span class="nav-text">21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0"><span class="nav-number">7.</span> <span class="nav-text">2.ä¸¤æ•°ç›¸åŠ </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#19-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E8%8A%82%E7%82%B9"><span class="nav-number">8.</span> <span class="nav-text">19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#24-%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9"><span class="nav-number">9.</span> <span class="nav-text">24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#25-k%E4%B8%AA%E4%B8%80%E7%BB%84%E9%93%BE%E8%A1%A8%E7%BF%BB%E8%BD%AC"><span class="nav-number">10.</span> <span class="nav-text">25.kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#183-%E9%9A%8F%E6%9C%BA%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="nav-number">11.</span> <span class="nav-text">183.éšæœºé“¾è¡¨çš„å¤åˆ¶</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#148-%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-number">12.</span> <span class="nav-text">148. æ’åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#23-%E5%90%88%E5%B9%B6k%E4%B8%AA%E5%8D%87%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-number">13.</span> <span class="nav-text">23.åˆå¹¶kä¸ªå‡åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#146%E3%80%81LRU%E7%BC%93%E5%AD%98"><span class="nav-number">14.</span> <span class="nav-text">146ã€LRUç¼“å­˜</span></a></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/toggle-theme.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/local-search.js"></script>


<!-- lazyload -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/lazyload.js"></script>


<div class="">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/post-helper.js"></script>

        <!-- toc -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/toc.js"></script>
        

        <!-- copyright-info -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/copyright-info.js"></script>
        

        <!-- share -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/share.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->



</body>
</html>
