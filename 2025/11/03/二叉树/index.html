<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="è®°å½•ç‚¹æ»´ï¼Œå…±åŒè¿›æ­¥">
    <meta name="author" content="stellogic">
    
    <title>
        
            äºŒå‰æ ‘ |
        
        stellogicçš„ä¸ªäººç©ºé—´
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/font/css/brands.min.css">
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"stellogic.github.io","root":"/","language":"zh-CN"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"stellogicçš„ä¸ªäººç©ºé—´","author":"stellogic","avatar":"/images/avatar.jpg","logo":null,"favicon":null},"menu":{"home":"/ || fa-solid fa-home","archives":"/archives || fa-solid fa-box-archive","categories":"/categories || fa-solid fa-layer-group","tags":"/tags || fa-solid fa-tags","links":"/links || fa-solid fa-link","about":"/about || fa-solid fa-user-graduate"},"first_screen":{"enable":true,"background_img":"/images/bg.svg","background_img_dark":"/images/bg2.svg","description":"æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´ || è®°å½•ç‚¹æ»´ï¼Œå…±åŒè¿›æ­¥","hitokoto":false},"social_contact":{"enable":true,"links":{"github":"https://github.com/stellogic","weixin":null,"qq":null,"weibo":null,"zhihu":"https://www.zhihu.com/people/stellogic","twitter":null,"x":null,"facebook":null,"email":"mack12399@outlook.com"}},"scroll":{"progress_bar":true,"percent":true,"hide_header":false},"home":{"announcement":"ğŸ“šWe are together","category":true,"tag":true,"post_datetime":"updated"},"post":{"author_badge":{"enable":true,"level_badge":false,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":true,"share":true,"reward":{"enable":false,"img_link":null,"text":null,"icon":null}},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"giscus","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.39"},"waline":{"server_url":null,"reaction":false,"version":"3.3.2"},"giscus":{"repo":"Stellogic/Stellogic.github.io","repo_id":"R_kgDOOkF4SA","category":"Announcements","category_id":"DIC_kwDOOkF4SM4Cp-Ln","reactions_enabled":true},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":true},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"jsdelivr"},"pjax":{"enable":false},"footer":{"since":2025,"word_count":true,"site_deploy":{"enable":true,"provider":"github","url":"https://stellogic.github.io/"},"record":{"enable":false,"list":[{"code":null,"link":null}]}},"inject":{"enable":false,"css":[null],"js":[null]},"root":"","source_data":{},"version":"4.2.5"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
            <a class="site-name border-box" href="/">
               stellogicçš„ä¸ªäººç©ºé—´
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-home"></i>
                                
                                é¦–é¡µ
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/archives">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                
                                å½’æ¡£
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/categories">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                
                                åˆ†ç±»
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/tags">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-tags"></i>
                                
                                æ ‡ç­¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/links">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-link"></i>
                                
                                å‹é“¾
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/about">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-user-graduate"></i>
                                
                                å…³äº
                                
                            </a>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-home"></i>
                                </span>
                            
                            é¦–é¡µ
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-box-archive"></i>
                                </span>
                            
                            å½’æ¡£
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/categories">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-layer-group"></i>
                                </span>
                            
                            åˆ†ç±»
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-tags"></i>
                                </span>
                            
                            æ ‡ç­¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/links">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-link"></i>
                                </span>
                            
                            å‹é“¾
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/about">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-user-graduate"></i>
                                </span>
                            
                            å…³äº
                        </a>
                        
                    </label>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        äºŒå‰æ ‘
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="/images/avatar.jpg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">stellogic</span>
                                
                                    <span class="author-badge">Two</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2025-11-03 02:41:37</span>
            </span>

            
                <span class="meta-info-item post-update-date">
                    <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                    <span class="datetime" data-updated="Mon Nov 03 2025 02:41:37 GMT+0800">2025-11-03 02:41:37</span>
                </span>
            
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/%E5%8A%9B%E6%89%A3hot100/">åŠ›æ‰£hot100</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/">äºŒå‰æ ‘</a></li>
                        
                    
                </ul>
            </span>
        

        
        
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <h1 id="94-äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="#94-äºŒå‰æ ‘çš„ä¸­åºéå†" class="headerlink" title="94.äºŒå‰æ ‘çš„ä¸­åºéå†"></a>94.äºŒå‰æ ‘çš„ä¸­åºéå†</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-inorder-traversal/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/binary-tree-inorder-traversal/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å› å®ƒçš„ ä¸­åº éå† ã€‚</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [0, 100] å†…<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<p>è¿›é˜¶: é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ</p>
<hr>
<ol>
<li>é€’å½’</li>
</ol>
<p>ä¸­åºéå†å°±æ˜¯å…ˆå·¦-&gt;å½“å‰-&gt;å³</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; TreeNodeList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> inorderHelper(root);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; <span class="title function_">inorderHelper</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> TreeNodeList;</span><br><span class="line">        &#125;</span><br><span class="line">        inorderHelper(root.left);</span><br><span class="line">        TreeNodeList.add(root.val);</span><br><span class="line">        inorderHelper(root.right);</span><br><span class="line">        <span class="keyword">return</span> TreeNodeList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶ç©ºå¤æ‚åº¦éƒ½æ˜¯O(n)</p>
<ol start="2">
<li>è¿­ä»£</li>
</ol>
<p>é€’å½’éšå¼ç»´æŠ¤äº†ä¸€ä¸ªæ ˆï¼Œè¿­ä»£å°±è¦æ˜¾å¼ç»´æŠ¤ä¸€ä¸ªæ ˆ</p>
<p>ä¾æ¬¡å‘å·¦éå†ï¼Œå¹¶æŠŠå…ƒç´ ä¾æ¬¡å…¥æ ˆï¼Œç›´åˆ°å·¦å­©å­ä¸ºç©ºï¼Œå¼€å§‹ä¾æ¬¡å‡ºæ ˆï¼Œç›´åˆ°æ ˆç©ºï¼›</p>
<p>ä¹‹åå‡ºæ ˆä¸€ä¸ªï¼Œè¿™ä¸ªå³ä¸ºè¦å¤„ç†çš„å½“å‰å…ƒç´ ï¼ŒæŠŠå®ƒåŠ å…¥ç»“æœåå†å¼€å§‹å¯¹å³å­æ ‘å‡†å¤‡å¤„ç†å³å­æ ‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = stack.pop();<span class="comment">//popæ˜¯å‡ºæ ˆ</span></span><br><span class="line">            result.add(cur.val);</span><br><span class="line">            cur = cur.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶ç©ºä¾ç„¶éƒ½æ˜¯O(n)</p>
<ol start="3">
<li>Morris ä¸­åºéå†</li>
</ol>
<p>è€ƒè™‘ä½¿ç”¨äºŒå‰æ ‘æœ¬èº«çš„ç»“æ„æ¥æ›¿ä»£æ ˆï¼Œä»è€Œé™ä½ç©ºé—´å¤æ‚åº¦</p>
<p>ä¸Šé¢çš„ç©ºé—´å¤æ‚åº¦çš„æ ¸å¿ƒæ˜¯ï¼Œå½“æˆ‘ä»¬éå†å®Œå·¦ä¾§ï¼Œéœ€è¦ç”¨æ ˆï¼ˆæˆ–è€…è°ƒç”¨æ ˆï¼‰æ¥è®°å½•æˆ‘ä»¬è¦å›åˆ°å“ªä¸ªèŠ‚ç‚¹</p>
<p>å¯ä»¥è€ƒè™‘ä½¿ç”¨å‰é©±èŠ‚ç‚¹æ¥æ›¿ä»£ï¼ˆä¸­åºéå†å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å·¦å­æ ‘çš„æœ€å³ä¾§èŠ‚ç‚¹ï¼‰ï¼Œè®©å®ƒæŒ‡å‘å½“å‰èŠ‚ç‚¹å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (root.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">predecessor</span> <span class="operator">=</span> root.left;</span><br><span class="line">                <span class="keyword">while</span> (predecessor.right != <span class="literal">null</span> &amp;&amp; predecessor.right != root)&#123;</span><br><span class="line">                    predecessor = predecessor.right;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (predecessor.right == <span class="literal">null</span>)&#123;</span><br><span class="line">                    predecessor.right = root;</span><br><span class="line">                    root = root.left;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;<span class="comment">//å·¦æ ‘å·²ç»è®¿é—®å®Œäº†</span></span><br><span class="line">                    predecessor.right = <span class="literal">null</span>;</span><br><span class="line">                    result.add(root.val);</span><br><span class="line">                    root = root.right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                result.add(root.val);</span><br><span class="line">                root = root.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŠŠè¿™ä¸ªå†çœ‹çœ‹å§</p>
<h1 id="104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a>104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/maximum-depth-of-binary-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ root ï¼Œè¿”å›å…¶æœ€å¤§æ·±åº¦ã€‚</p>
<p>äºŒå‰æ ‘çš„ æœ€å¤§æ·±åº¦ æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [3,9,20,null,null,15,7]<br>è¾“å‡ºï¼š3<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [1,null,2]<br>è¾“å‡ºï¼š2</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡åœ¨ [0, 104] åŒºé—´å†…ã€‚<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<hr>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚ç®€å•çš„æƒ³æ³•å°±æ˜¯æ·±åº¦ä¼˜å…ˆï¼ŒåŒæ—¶è®°å½•é•¿åº¦ï¼Œæ¯æ¬¡éå†åˆ°å¶èŠ‚ç‚¹æ›´æ–°ä¸€æ¬¡é•¿åº¦ã€‚</p>
<p>ä¸€èˆ¬çš„æ·±åº¦ä¼˜å…ˆé‡‡å–çš„æ˜¯é€’å½’ï¼Œå¾ˆéš¾è®°å½•åˆ°è¾¾å¶èŠ‚ç‚¹çš„ä½ç½®ã€‚</p>
<ol>
<li>æ·±åº¦ä¼˜å…ˆæœç´¢</li>
</ol>
<p>å¦‚æœä½¿ç”¨é€’å½’æ·±åº¦ä¼˜å…ˆï¼Œè€ƒè™‘åˆ†è§£ã€‚</p>
<p>æœ€é«˜é«˜åº¦ &#x3D; max(å·¦å­æ ‘é«˜åº¦ï¼Œå³å­æ ‘é«˜åº¦) + 1ã€‚</p>
<p>åŸºæœ¬æƒ…å†µå°±æ˜¯root &#x3D;&#x3D; nullè¿”å›0</p>
<p>æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡çš„è¯æ˜¯T(n) &#x3D; 2T((n-1)&#x2F;2) + O(1) ã€‚æœ¬åœ°Oï¼ˆ1ï¼‰ï¼Œå­é—®é¢˜n^(log2_2) å°±æ˜¯nï¼Œå› æ­¤æœ€ç»ˆæ—¶é—´å¤æ‚åº¦O(n)ã€‚ä¹Ÿå¯ä»¥ç›´æ¥æ•´ä½“åˆ†æï¼Œæ¯æ¬¡å¯¹æ¯ä¸ªèŠ‚ç‚¹çš„è°ƒç”¨æœ¬åœ°æ“ä½œéƒ½æ˜¯O(1),ä½†æ˜¯è¦å¯¹æ¯ä¸ªèŠ‚ç‚¹è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šè°ƒç”¨æ ˆæœ€å¤šè°ƒç”¨äºŒå‰æ ‘é«˜åº¦ï¼Œæœ€å·®æ˜¯O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> maxDepthHelp(root);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxDepthHelp</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.max(maxDepthHelp(root.left),maxDepthHelp(root.right)) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>å¹¿åº¦ä¼˜å…ˆ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªé˜Ÿåˆ—,ä½œä¸ºéå†è¿‡ç¨‹ä¸­çš„ä¸´æ—¶å‚¨å­˜ã€‚</span></span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªåˆ—è¡¨å‚¨å­˜ç»“æœ</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();<span class="comment">//å‡ºé˜Ÿ</span></span><br><span class="line">        result.add(node.val);</span><br><span class="line">        <span class="keyword">if</span>(node.left != <span class="literal">null</span>)&#123;</span><br><span class="line">            queue.offer(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.right != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            queue.offer(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥é‡‡ç”¨å¹¿åº¦ä¼˜å…ˆ,ä¸Šé¢æ˜¯æ ‡å‡†çš„å¹¿åº¦ä¼˜å…ˆéå†</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢è¦å…ˆè¿›å…ˆå‡ºï¼Œé‡‡ç”¨queueã€‚æ¯æœç´¢ä¸€å±‚ï¼Œé«˜åº¦+1.å…³é”®åœ¨äºæ€ä¹ˆåˆ¤æ–­æœç´¢å®Œäº†ä¸€å±‚ã€‚</p>
<p>å¯ä»¥åœ¨æ¯æ¬¡å¾ªç¯çš„å¼€å§‹ï¼Œå…ˆè·å–å½“å‰queueä¸­çš„å…ƒç´ ä¸ªæ•°ï¼Œè¿™ä¸ªå®é™…ä¸Šå°±æ˜¯æœ¬å±‚çš„ä¸ªæ•°ã€‚ç„¶åé‡‡ç”¨forå¾ªç¯ï¼Œç›´æ¥æŠŠè¿™å±‚çš„å…ƒç´ å…¨éƒ¨å‡ºé˜Ÿå¹¶æŠŠå¯¹åº”çš„å­èŠ‚ç‚¹æ”¾å…¥ï¼ŒåŒæ—¶depth++å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();<span class="comment">//åŒå‘é“¾è¡¨çš„é˜Ÿåˆ—å®ç°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">depth</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        queue.add(root);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">thisLevelSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; thisLevelSize; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                <span class="keyword">if</span> (node.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                    queue.add(node.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (node.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                    queue.add(node.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            depth++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶ç©ºéƒ½æ˜¯O(n)</p>
<p>æ³¨æ„ï¼š</p>
<table>
<thead>
<tr>
<th align="left">æ“ä½œ</th>
<th align="left"><code>LinkedList</code> (åŒå‘é“¾è¡¨)</th>
<th align="left"><code>ArrayDeque</code> (å¾ªç¯æ•°ç»„)</th>
<th align="left">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>å…¥é˜Ÿ (add&#x2F;offer)</strong></td>
<td align="left"><strong>O(1)</strong></td>
<td align="left"><strong>Amortized O(1)</strong></td>
<td align="left"><code>LinkedList</code> åªæ˜¯åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ–°èŠ‚ç‚¹å¹¶æ›´æ–°æŒ‡é’ˆã€‚<code>ArrayDeque</code> åœ¨æ•°ç»„å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œç»å¤§å¤šæ•°æƒ…å†µæ˜¯ O(1)ï¼Œä½†å¦‚æœæ•°ç»„æ»¡äº†ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡ O(n) çš„æ‰©å®¹å’Œå¤åˆ¶æ“ä½œã€‚ä¸è¿‡ï¼Œç”±äºæ‰©å®¹ä¸æ˜¯æ¯æ¬¡éƒ½å‘ç”Ÿï¼Œæ‰€ä»¥å¹³æ‘Šä¸‹æ¥ï¼ˆAmortizedï¼‰çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</td>
</tr>
<tr>
<td align="left"><strong>å‡ºé˜Ÿ (poll&#x2F;remove)</strong></td>
<td align="left"><strong>O(1)</strong></td>
<td align="left"><strong>O(1)</strong></td>
<td align="left"><code>LinkedList</code> åªæ˜¯ç§»é™¤å¤´èŠ‚ç‚¹å¹¶æ›´æ–°æŒ‡é’ˆã€‚<code>ArrayDeque</code> åªæ˜¯ç§»åŠ¨å¤´æŒ‡é’ˆçš„ç´¢å¼•ï¼Œå¹¶ä¸ä¼šç§»åŠ¨æ•°ç»„ä¸­çš„å…¶ä»–å…ƒç´ ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ O(1)ã€‚</td>
</tr>
<tr>
<td align="left"><strong>å†…å­˜ä½¿ç”¨</strong></td>
<td align="left"><strong>æ›´é«˜</strong></td>
<td align="left"><strong>æ›´ä½</strong></td>
<td align="left">è¿™æ˜¯ <code>ArrayDeque</code> çš„å·¨å¤§ä¼˜åŠ¿ã€‚<code>LinkedList</code> çš„æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦ä¸€ä¸ªé¢å¤–çš„ <code>Node</code> å¯¹è±¡æ¥åŒ…è£…ï¼Œè¿™ä¸ªå¯¹è±¡æœ¬èº«ä»¥åŠå®ƒå†…éƒ¨çš„ <code>prev</code> å’Œ <code>next</code> å¼•ç”¨éƒ½ä¼šå ç”¨é¢å¤–çš„å†…å­˜ã€‚è€Œ <code>ArrayDeque</code> ç›´æ¥å°†å¯¹è±¡å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œå†…å­˜å¼€é”€å°å¾—å¤šã€‚</td>
</tr>
<tr>
<td align="left"><strong>CPU ç¼“å­˜å‹å¥½åº¦</strong></td>
<td align="left"><strong>å·®</strong></td>
<td align="left"><strong>å¥½</strong></td>
<td align="left">è¿™æ˜¯å¦ä¸€ä¸ªå…³é”®æ€§èƒ½ä¼˜åŠ¿ã€‚<code>ArrayDeque</code> çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œè¿™ä½¿å¾— CPU åœ¨è®¿é—®ä¸€ä¸ªå…ƒç´ åï¼Œå¯ä»¥å¾ˆé«˜æ•ˆåœ°é¢„åŠ è½½å®ƒæ—è¾¹çš„å…ƒç´ åˆ°é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰ä¸­ï¼Œè¿™è¢«ç§°ä¸ºâ€œç¼“å­˜å±€éƒ¨æ€§â€ï¼ˆCache Localityï¼‰ã€‚è€Œ <code>LinkedList</code> çš„èŠ‚ç‚¹åœ¨å†…å­˜ä¸­æ˜¯åˆ†æ•£çš„ï¼Œè®¿é—®ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½ä¼šå¯¼è‡´â€œç¼“å­˜æœªå‘½ä¸­â€ï¼ˆCache Missï¼‰ï¼Œéœ€è¦ä»ä¸»å†…å­˜ä¸­é‡æ–°åŠ è½½ï¼Œé€Ÿåº¦æ…¢å¾—å¤šã€‚</td>
</tr>
</tbody></table>
<p>å®é™…ä¸Šè¿™é‡Œæœ€å¥½ç”¨ArrayDequeæ¥ä½œä¸ºå®ç°æ›´å¥½ã€‚</p>
<h1 id="226-ç¿»è½¬äºŒå‰æ ‘"><a href="#226-ç¿»è½¬äºŒå‰æ ‘" class="headerlink" title="226. ç¿»è½¬äºŒå‰æ ‘"></a>226. ç¿»è½¬äºŒå‰æ ‘</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/invert-binary-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/invert-binary-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œç¿»è½¬è¿™æ£µäºŒå‰æ ‘ï¼Œå¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šroot &#x3D; [4,2,7,1,3,6,9]<br>è¾“å‡ºï¼š[4,7,2,9,6,3,1]<br>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šroot &#x3D; [2,1,3]<br>è¾“å‡ºï¼š[2,3,1]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; []<br>è¾“å‡ºï¼š[]</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´åœ¨ [0, 100] å†…<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<hr>
<p>ç®€å•çš„æƒ³æ³•å°±æ˜¯åˆ†æ²»é€’å½’ï¼š</p>
<p>ç¿»è½¬å·¦å­æ ‘ï¼Œç¿»è½¬å³å­æ ‘ï¼Œå†æŠŠå·¦å³å­æ ‘è°ƒæ¢ï¼ˆç¿»è½¬æœ¬å±‚ï¼‰ã€‚</p>
<p>åŸºæœ¬æƒ…å†µï¼šå¦‚æœæ˜¯nullï¼Œç›´æ¥è¿”å›</p>
<p>æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸ªèŠ‚ç‚¹è¦è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯æ¬¡æœ¬åœ°æ“ä½œæˆæœ¬æ˜¯O(1),å› æ­¤æ€»ä½“æ˜¯O(n)</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šè°ƒç”¨é«˜åº¦æ¬¡ï¼Œå› æ­¤O(h),æœ€å·®å°±æ˜¯O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftOld</span> <span class="operator">=</span> invertTree(root.left);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightOld</span> <span class="operator">=</span> invertTree(root.right);</span><br><span class="line">        root.left = rightOld;</span><br><span class="line">        root.right = leftOld;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ä½¿ç”¨æ ˆæ¥ä»£æ›¿å‡½æ•°è°ƒç”¨æ ˆ</li>
</ol>
<p>ä¸Šé¢å®é™…ä¸Šæ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ ˆæ¥ä»£æ›¿å‡½æ•°è°ƒç”¨æ ˆï¼ŒæŠŠè¿­ä»£è½¬æ¢æˆé€’å½’</p>
<p>å…·ä½“æ¥è¯´ï¼Œä½¿ç”¨å¾ªç¯ï¼Œæ¯æ¬¡åªè¦æ ˆä¸ä¸ºç©ºï¼Œå°±æŠŠèŠ‚ç‚¹å‡ºæ ˆï¼ŒæŠŠå®ƒçš„å·¦å³å­èŠ‚ç‚¹äº¤æ¢ï¼Œä¹‹åå†æŠŠå­èŠ‚ç‚¹å…¥æ ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> stack.pop();</span><br><span class="line"></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur.left;</span><br><span class="line">            cur.left = cur.right;</span><br><span class="line">            cur.right = temp;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cur.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(cur.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cur.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(cur.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š Javaä¸­ä½¿ç”¨ArrayDequeæ¥å®ç°æ ˆæœ€å¥½ï¼Œä½†æ˜¯ArrayDequeæ²¡æœ‰å®ç°æ¥å£stackï¼Œä¸€èˆ¬ä½¿ç”¨dequeä½œä¸ºæ ˆå³å¯ï¼Œä¸é€‚ç”¨stackæ¥å£ã€‚</p>
<p>ä¸Šé¢ä½¿ç”¨æ ˆçš„è§£æ³•ç›¸å½“äºæ˜¯å‰åºéå†ã€‚</p>
<ol start="3">
<li>å¹¿åº¦ä¼˜å…ˆæœç´¢</li>
</ol>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆ</p>
<p>åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—</p>
<p>æŠŠrootæ”¾å…¥</p>
<p>é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œcurénullåˆ™äº¤æ¢å­èŠ‚ç‚¹</p>
<p>ä¹‹åæŠŠcurå­èŠ‚ç‚¹å…¥é˜Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        queue.add(root);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur.left;</span><br><span class="line">                cur.left = cur.right;</span><br><span class="line">                cur.right = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cur.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">                queue.add(cur.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cur.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                queue.add(cur.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="101-å¯¹ç§°äºŒå‰æ ‘"><a href="#101-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="101. å¯¹ç§°äºŒå‰æ ‘"></a>101. å¯¹ç§°äºŒå‰æ ‘</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/symmetric-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/symmetric-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œ æ£€æŸ¥å®ƒæ˜¯å¦è½´å¯¹ç§°ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_12.png"
                        class="" title="img_12.png"
                 >
<p>è¾“å…¥ï¼šroot &#x3D; [1,2,2,3,4,4,3]<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 2ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_13.png"
                        class="" title="img_13.png"
                 >

<p>è¾“å…¥ï¼šroot &#x3D; [1,2,2,null,3,null,3]<br>è¾“å‡ºï¼šfalse</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [1, 1000] å†…<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥è¿ç”¨é€’å½’å’Œè¿­ä»£ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</p>
<hr>
<p>åˆ†æ²»é€’å½’ï¼š</p>
<p>åŸºæœ¬æƒ…å†µï¼šä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹å¤©ç„¶å¯¹ç§°</p>
<p>å·¦å³å­æ ‘å…³äºå¯¹ç§°è½´å¯¹ç§°ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¦æ»¡è¶³ï¼Œ</p>
<ol>
<li>æ ¹èŠ‚ç‚¹å¿…é¡»ç›¸ç­‰</li>
<li>left_treeçš„å·¦å­æ ‘è¦å’Œright_treeçš„å³å­æ ‘å¯¹ç§°</li>
<li>left_treeçš„å³å­æ ‘è¦å’Œright_treeçš„å·¦å­æ ‘å¯¹ç§°</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> help(root.left,root.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">help</span><span class="params">(TreeNode node1,TreeNode node2)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((node1 == <span class="literal">null</span> &amp;&amp; node2!=<span class="literal">null</span>) ||(node1 != <span class="literal">null</span> &amp;&amp; node2 == <span class="literal">null</span>))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node1 == <span class="literal">null</span> &amp;&amp; node2 == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node1.val == node2.val)&#123;</span><br><span class="line">            <span class="keyword">return</span> help(node1.left,node2.right) &amp;&amp; help(node1.right,node2.left);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n).é€’å½’æ ‘ä¸­æœ€åæ¯ä¸ªèŠ‚ç‚¹è¦è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æœ¬åœ°è°ƒç”¨éƒ½æ˜¯O(1)</p>
<p>ç©ºé—´ï¼šO(n),é€’å½’åˆ°å¶èŠ‚ç‚¹è¿”å›ã€‚æœ€å·®æƒ…å†µé€€åŒ–æˆä¸¤ä¸ªé“¾è¡¨ï¼Œæ·±åº¦O(n&#x2F;2)</p>
<p>å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      1</span><br><span class="line">     / \</span><br><span class="line">    2   2</span><br><span class="line">   /     \</span><br><span class="line">  3       3</span><br><span class="line"> /         \</span><br><span class="line">4           4</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šä¸Šé¢çš„æ–¹æ³•ç®—æ˜¯ä¸€ç§æ·±åº¦ä¼˜å…ˆã€‚å…ˆæ·±å…¥ä¸¤æ¡è·¯å¾„ç›´åˆ°å¶èŠ‚ç‚¹æ¯”è¾ƒæ˜¯å¦å¯¹ç§°</p>
<ol start="2">
<li>è¿­ä»£ï¼ŒBFS</li>
</ol>
<p>ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸€æ¬¡é•œåƒå…¥é˜Ÿï¼Œæ¯”è¾ƒèŠ‚ç‚¹å€¼æ˜¯å¦ç›¸åŒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        queue.offer(root.left);</span><br><span class="line">        queue.offer(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == <span class="literal">null</span> || right == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left.val != right.val)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            queue.offer(left.left);</span><br><span class="line">            queue.offer(right.right);</span><br><span class="line">            queue.offer(left.right);</span><br><span class="line">            queue.offer(right.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦: O(n)ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦å‡ºé˜Ÿå…¥é˜Ÿæ¯”è¾ƒä¸€æ¬¡ï¼Œéå¶èŠ‚ç‚¹è¿˜è¦è®¿é—®å­èŠ‚ç‚¹ï¼Œéƒ½æ˜¯å¸¸æ•°æ“ä½œ</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šO(n).é˜Ÿåˆ—æœ€å¤§æ˜¯å¶èŠ‚ç‚¹ï¼ŒO(2^(logn)) &#x3D; O(n)</p>
<h1 id="543-äºŒå‰æ ‘çš„ç›´å¾„"><a href="#543-äºŒå‰æ ‘çš„ç›´å¾„" class="headerlink" title="543. äºŒå‰æ ‘çš„ç›´å¾„"></a>543. äºŒå‰æ ‘çš„ç›´å¾„</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/diameter-of-binary-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/diameter-of-binary-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¯¥æ ‘çš„ ç›´å¾„ ã€‚</p>
<p>äºŒå‰æ ‘çš„ ç›´å¾„ æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€é•¿è·¯å¾„çš„ é•¿åº¦ ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ root ã€‚</p>
<p>ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„ é•¿åº¦ ç”±å®ƒä»¬ä¹‹é—´è¾¹æ•°è¡¨ç¤ºã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_14.png"
                        class="" title="img_14.png"
                 >

<p>è¾“å…¥ï¼šroot &#x3D; [1,2,3,4,5]<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼š3 ï¼Œå–è·¯å¾„ [4,2,1,3] æˆ– [5,2,1,3] çš„é•¿åº¦ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [1,2]<br>è¾“å‡ºï¼š1</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [1, 104] å†…<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<hr>
<p>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œç»è¿‡è¿™ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„éƒ½æ˜¯ä»–çš„å·¦å­æ ‘æœ€å¤§æ·±åº¦å’Œå³å­æ ‘æœ€å¤§æ·±åº¦ä¹‹å’Œã€‚</p>
<p>ä½†æ˜¯è®°å¾—å®ç°çš„æ—¶å€™è¦ä¿å­˜å·¦å³å­æ ‘çš„æ·±åº¦ä»¥ä¾¿è®©çˆ¶èŠ‚ç‚¹ä½¿ç”¨é¿å…é‡å¤è®¡ç®—ï¼Œè®°å¿†åŒ–æœç´¢ã€‚å¯ä»¥ç›´æ¥è¿”å›è°ƒç”¨èŠ‚ç‚¹çš„æ·±åº¦å³å¯ï¼Œæ–¹ä¾¿çˆ¶èŠ‚ç‚¹ç›´æ¥ç®—å‡ºå¯¹åº”å­æ ‘æ·±åº¦</p>
<p>ç»´æŠ¤ä¸€ä¸ªæœ€å¤§å˜é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLength</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">diameterOfBinaryTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        maxDepth(root);</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//ç®—å‡ºå·¦å³å­æ ‘çš„é«˜åº¦ï¼Œå¹¶ä¸”æœŸé—´å‰¯ä½œç”¨æŠŠmaxLengthæ›´æ–°ä¸ºå·¦å³å­æ ‘çš„æœ€å¤§ç›´å¾„çš„æœ€å¤§å€¼ã€‚</span></span><br><span class="line">       <span class="comment">//äº‹å®ä¸Šï¼Œè¿™å®é™…ä¸Šä¹Ÿæ˜¯ä¸ªåç»­éå†</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">max_left</span> <span class="operator">=</span> maxDepth(node.left);</span><br><span class="line">        <span class="type">int</span> <span class="variable">max_right</span> <span class="operator">=</span> maxDepth(node.right);</span><br><span class="line">        <span class="comment">//æ›´æ–°æœ€å¤§ç›´å¾„</span></span><br><span class="line">        maxLength = Math.max(maxLength,max_left + max_right);</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//æŠŠæœ¬æ ‘çš„æœ€å¤§é«˜åº¦æ›´æ–°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">depth</span> <span class="operator">=</span> Math.max(max_left,max_right) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n).è¦è®¿é—®æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æœ¬åœ°æ“ä½œéƒ½æ˜¯æ›´æ–°maxLengthï¼Œç®—å‡ºdepthå¹¶ä¸”è¿”å›ï¼Œéƒ½æ˜¯O(1),</p>
<p>ç©ºé—´å¤æ‚åº¦:O(n).æœ€å·®æˆä¸ºé“¾è¡¨O(n)</p>
<h1 id="102-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#102-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="102. äºŒå‰æ ‘çš„å±‚åºéå†"></a>102. äºŒå‰æ ‘çš„å±‚åºéå†</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-level-order-traversal/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/binary-tree-level-order-traversal/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ å±‚åºéå† ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [3,9,20,null,null,15,7]<br>è¾“å‡ºï¼š[[3],[9,20],[15,7]]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [1]<br>è¾“å‡ºï¼š[[1]]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; []<br>è¾“å‡ºï¼š[]</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [0, 2000] å†…<br>-1000 &lt;&#x3D; Node.val &lt;&#x3D; 1000</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            List&lt;Integer&gt; temp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                temp.add(cur.val);</span><br><span class="line">                <span class="keyword">if</span> (cur.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(cur.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (cur.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                    queue.offer(cur.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œå…¥é˜Ÿå‡ºé˜Ÿåˆ¤ç©ºæ·»åŠ è·å–é˜Ÿåˆ—å¤§å°ç­‰å¸¸æ•°æ“ä½œï¼Œæœ€ç»ˆå°±æ˜¯O(n)</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šO(n).é˜Ÿåˆ—å‚¨å­˜æœ€å¤§çš„ä¸€å±‚ï¼Œæœ€å·®å¾ˆå¹³è¡¡çš„æƒ…å†µï¼Œæ˜¯n&#x2F;2</p>
<h1 id="108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"><a href="#108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘" class="headerlink" title="108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"></a>108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­å…ƒç´ å·²ç»æŒ‰ å‡åº æ’åˆ—ï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºä¸€æ£µ å¹³è¡¡ äºŒå‰æœç´¢æ ‘ã€‚ï¼ˆå¹³è¡¡äºŒå‰æ ‘ æ˜¯æŒ‡è¯¥æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦ç›¸å·®ä¸è¶…è¿‡ 1ã€‚ï¼‰</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [-10,-3,0,5,9]<br>è¾“å‡ºï¼š[0,-3,9,-10,null,5]<br>è§£é‡Šï¼š[0,-10,5,null,-3,null,9] ä¹Ÿå°†è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆï¼š</p>
<p>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šnums &#x3D; [1,3]<br>è¾“å‡ºï¼š[3,1]<br>è§£é‡Šï¼š[1,null,3] å’Œ [3,1] éƒ½æ˜¯é«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; nums.length &lt;&#x3D; 104<br>-104 &lt;&#x3D; nums[i] &lt;&#x3D; 104<br>nums æŒ‰ ä¸¥æ ¼é€’å¢ é¡ºåºæ’åˆ—</p>
<hr>
<p>ç›¸å½“äºå·²ç»ç»™å‡ºäº†ä¸­åºéå†çš„ç»“æœ</p>
<p>æ ¹æ®è¿™ä¸ªä¸­åºéå†ç»“æœæ¥æ„å»ºå¹³è¡¡äºŒå‰æ ‘</p>
<p>æ„Ÿè§‰å¤©ç„¶æ˜¯é€’å½’çš„é—®é¢˜</p>
<p>å…ˆæ‰¾åˆ°ä¸­é—´çš„ä¸€ä¸ªæ•°ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œä¹‹åä»¥å®ƒä¸ºç•Œé™åˆ’åˆ†æˆä¸¤ä¸ªæ•°ç»„æ„å»ºä¸¤ä¸ªå·¦å³å­æ ‘å³å¯ã€‚</p>
<p>åŸºæœ¬æƒ…å†µå°±æ˜¯æ•°ç»„é•¿åº¦ä¸º0.</p>
<p>è¿”å›å€¼è¿”å›å¤´èŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">sortedArrayToBST</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sortedHelper(nums,<span class="number">0</span>,nums.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="title function_">sortedHelper</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> left,<span class="type">int</span> right)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left &gt; right)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(nums[mid]);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftChild</span> <span class="operator">=</span> sortedHelper(nums,left,mid - <span class="number">1</span>);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightChild</span> <span class="operator">=</span> sortedHelper(nums,mid + <span class="number">1</span>,right);</span><br><span class="line">        root.left = leftChild;</span><br><span class="line">        root.right = rightChild;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n).è¦è®¿é—®æ‰€æœ‰çš„æ•°å­—ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—ï¼Œè¦åˆ›å»ºæ–°èŠ‚ç‚¹ï¼Œè®¡ç®—midï¼Œç»™èŠ‚ç‚¹å·¦å³æŒ‡é’ˆèµ‹å€¼ï¼Œéƒ½æ˜¯O(1),æœ€ç»ˆæ˜¯O(n)</p>
<p>ç©ºé—´ï¼šO(logn).ä¸è®¡ç®—å‚¨å­˜ç©ºé—´çš„è¯ï¼Œå‡½æ•°è°ƒç”¨æ ˆéœ€è¦è°ƒç”¨åˆ°å‡½æ•°æœ€å¤§æ·±åº¦ï¼Œå¹³è¡¡æ ‘æ·±åº¦è¿‘ä¼¼è®¤ä¸ºlogn</p>
<h1 id="98-éªŒè¯äºŒå‰æœç´¢æ ‘"><a href="#98-éªŒè¯äºŒå‰æœç´¢æ ‘" class="headerlink" title="98. éªŒè¯äºŒå‰æœç´¢æ ‘"></a>98. éªŒè¯äºŒå‰æœç´¢æ ‘</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/validate-binary-search-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/validate-binary-search-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>æœ‰æ•ˆ äºŒå‰æœç´¢æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p>èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å« ä¸¥æ ¼å°äº å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚<br>èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å« ä¸¥æ ¼å¤§äº å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚<br>æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [2,1,3]<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [5,1,4,null,null,3,6]<br>è¾“å‡ºï¼šfalse<br>è§£é‡Šï¼šæ ¹èŠ‚ç‚¹çš„å€¼æ˜¯ 5 ï¼Œä½†æ˜¯å³å­èŠ‚ç‚¹çš„å€¼æ˜¯ 4 ã€‚</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´åœ¨[1, 104] å†…<br>-231 &lt;&#x3D; Node.val &lt;&#x3D; 231 - 1</p>
<hr>
<p>äºŒå‰æ ‘æœ¬èº«å°±æ˜¯é€’å½’çš„ï¼Œè¿˜æ˜¯å…ˆè€ƒè™‘é€’å½’</p>
<p>åŸºæœ¬æƒ…å†µå°±æ˜¯å¤´èŠ‚ç‚¹å·¦å³å­©å­å‡ä¸ºnullå°±è®¤ä¸ºæ˜¯true</p>
<p>åªæœ‰ä¸€ä¸ªå­©å­çš„è¯ä¹Ÿå•ç‹¬åˆ—å‡ºæ¥ä½œä¸ºåŸºæœ¬æƒ…å†µï¼Œå› ä¸ºæ­¤æ—¶ä¸å¯¹ç§°ä¸æ˜¯é€’å½’çš„äº†</p>
<p>å…ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³å·¦å­©å­&lt;æ ¹èŠ‚ç‚¹&lt;å³å­©å­</p>
<p>ä¹‹åè¦æ‰¾åˆ°å·¦å­æ ‘æœ€å³è¾¹çš„æ•°ï¼Œå®ƒè¦å°äºæ ¹èŠ‚ç‚¹ï¼›ä»¥åŠå³å­æ ‘æœ€å·¦è¾¹çš„æ•°ï¼Œä»–è¦å¤§äºæ ¹èŠ‚ç‚¹ï¼Œå¦åˆ™è¿”å›false</p>
<p>ä¹‹ååˆ¤æ–­å·¦å­æ ‘ï¼Œå³å­æ ‘æ˜¯å¦æ˜¯æœç´¢æ ‘ï¼Œæœ‰ä¸€ä¸ªä¸æ˜¯ç›´æ¥è¿”å›false</p>
<p>éƒ½æ»¡è¶³è¿”å›true</p>
<p>è¿™ä¸ªæ–¹æ³•å¯ä»¥ï¼Œä½†æ˜¯æ•ˆç‡å¾ˆä½ã€‚å¦‚æœæ˜¯ä¸ªé€€åŒ–æˆæ¥è¿‘é“¾è¡¨çš„ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦éå†å…¶å·¦å­æ ‘æˆ–è€…å³å­æ ‘åˆ°å¤´ï¼Œæ€»ä½“æ¥è¯´å¤æ‚åº¦O(n^2)</p>
<ol>
<li>é€’å½’æ—¶é™å®šèŒƒå›´</li>
</ol>
<p>æ ¹èŠ‚ç‚¹ä¼ å…¥è´Ÿæ— ç©·åˆ°æ­£æ— ç©·èŒƒå›´ï¼ˆå¤´èŠ‚ç‚¹å¯ä»¥éšä¾¿å–ï¼‰</p>
<p>å·¦å­æ ‘èŒƒå›´è¦æ±‚å¿…é¡»æ˜¯åŸæœ¬ä¸‹é™åˆ°æ ¹èŠ‚ç‚¹ï¼ˆåŒå¼€åŒºé—´ï¼‰ï¼›</p>
<p>å³å­æ ‘å¿…é¡»æ˜¯æ ¹èŠ‚ç‚¹åˆ°åŸæœ¬ä¸Šé™ï¼›</p>
<p>å…·ä½“æ­¥éª¤</p>
<p>nullç›´æ¥è¿”å›true</p>
<p>æ£€æŸ¥å½“å‰node.valæ˜¯å¦åœ¨min_val,max_val</p>
<p>æ£€æŸ¥å·¦å­æ ‘ï¼Œç¡®ä¿å·¦å­æ ‘èŒƒå›´éƒ½åœ¨min_valå’Œnode.val</p>
<p>æ£€æŸ¥å³å­æ ‘</p>
<p>éƒ½ä¸ºçœŸè¿”å›true</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> isValid(root,Long.MIN_VALUE,Long.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(TreeNode node,<span class="type">long</span> min_val,<span class="type">long</span> max_val)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.val &lt;= min_val || node.val &gt;= max_val)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç›¸ä¿¡isValidèƒ½å¤Ÿæ£€æŸ¥å‡ºæ¥å·¦å­æ ‘å’Œå³å­æ ‘æœ¬èº«æ˜¯å¦æ˜¯åˆæ³•çš„æœç´¢æ ‘å¹¶ä¸”æ‰€æœ‰èŠ‚ç‚¹çš„å€¼èŒƒå›´éƒ½åœ¨ç»™å®šçš„èŒƒå›´å†…</span></span><br><span class="line">        <span class="keyword">return</span> isValid(node.left, min_val, node.val) &amp;&amp; isValid(node.right, node.val, max_val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n).æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„è°ƒç”¨éƒ½æ˜¯åˆ¤ç©ºã€åˆ¤æ–­èŒƒå›´ã€è·å–å€¼å’Œå·¦å³æŒ‡é’ˆéƒ½æ˜¯O(1).</p>
<p>ç©ºé—´:æœ€æ·±O(H)ï¼ŒHæœ€å·®æ˜¯n</p>
<ol start="2">
<li>ç›´æ¥ä¸­åºéå†ã€‚æœç´¢æ ‘çš„ä¸­åºéå†å¿…ç„¶æ˜¯ä¸ªå‡åºçš„ï¼Œåªè¦éå†è¿‡ç¨‹ä¸­å‘ç°çŸ›ç›¾å³å¯è¿”å›false</li>
</ol>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºéœ€è¦å€ŸåŠ©é€’å½’çš„éå†ï¼Œå¦‚æœéœ€è¦ä¸€è¾¹é€’å½’ä¸€è¾¹å¤„ç†å…¶ä»–æ“ä½œï¼Œé€šå¸¸æˆ‘ä»¬ä¼šé€‰æ‹©ç»´æŠ¤ä¸€ä¸ªé¢å¤–çš„æˆå‘˜å˜é‡æˆ–è€…ç»™å‡½æ•°æ·»åŠ é¢å¤–çš„å‚æ•°ã€‚</p>
<table>
<thead>
<tr>
<th align="left">ç‰¹æ€§</th>
<th align="left">æ¨¡å¼ä¸€ï¼šé€šè¿‡å‚æ•°ä¼ é€’</th>
<th align="left">æ¨¡å¼äºŒï¼šé€šè¿‡æˆå‘˜å˜é‡ç»´æŠ¤</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>ä¿¡æ¯æµ</strong></td>
<td align="left"><strong>è‡ªä¸Šè€Œä¸‹ (Top-Down)</strong></td>
<td align="left"><strong>é¡ºåº&#x2F;å…¨å±€ (Sequential&#x2F;Global)</strong></td>
</tr>
<tr>
<td align="left"><strong>çŠ¶æ€ä½œç”¨åŸŸ</strong></td>
<td align="left">å±€éƒ¨äºå½“å‰é€’å½’è·¯å¾„</td>
<td align="left">å…¨å±€å…±äº«</td>
</tr>
<tr>
<td align="left"><strong>å‡½æ•°çº¯åº¦</strong></td>
<td align="left">é«˜ï¼ˆæ— å‰¯ä½œç”¨ï¼‰</td>
<td align="left">ä½ï¼ˆæœ‰å‰¯ä½œç”¨ï¼‰</td>
</tr>
<tr>
<td align="left"><strong>çº¿ç¨‹å®‰å…¨</strong></td>
<td align="left">ç›¸å¯¹å®‰å…¨</td>
<td align="left">ä¸å®‰å…¨</td>
</tr>
<tr>
<td align="left"><strong>é€‚ç”¨é—®é¢˜</strong></td>
<td align="left">ä¾èµ– <strong>è·¯å¾„ä¿¡æ¯</strong> æˆ– <strong>çˆ¶èŠ‚ç‚¹çº¦æŸ</strong></td>
<td align="left">ä¾èµ– <strong>éå†é¡ºåº</strong> æˆ– <strong>å…¨å±€èšåˆç»“æœ</strong> ï¼ˆæ¯”å¦‚éœ€è¦ä¸Šä¸€ä¸ªéå†çš„èŠ‚ç‚¹çš„ä¿¡æ¯ï¼‰</td>
</tr>
<tr>
<td align="left"><strong>æˆ‘ä»¬çš„ä¾‹å­</strong></td>
<td align="left">éªŒè¯BST (é™å®šèŒƒå›´æ³•)</td>
<td align="left">éªŒè¯BST (ä¸­åºéå†æ³•)</td>
</tr>
</tbody></table>
<p>è¿™ä¸ªé¢˜è®¡ç®—ç»´æŠ¤ä¸€ä¸ªæˆå‘˜å˜é‡prevè¡¨ç¤ºä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œåªæœ‰å½“å‰èŠ‚ç‚¹æ¯”ä¸Šä¸€ä¸ªèŠ‚ç‚¹å¤§æ‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">long</span> prev ;<span class="comment">//è®¤ä¸ºæœ€åˆéå†å‰çš„ä¸Šä¸€ä¸ªå…ƒç´ æ˜¯æ— ç©·å°,ä½¿ç”¨Longçš„æœ€å°å€¼ï¼Œç¡®ä¿æ¯”ä»»ä½•intéƒ½å°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        prev = Long.MIN_VALUE;</span><br><span class="line">        <span class="keyword">return</span> inOrderDFS(root);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">inOrderDFS</span><span class="params">(TreeNode node)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…ˆæ£€æŸ¥å·¦å­æ ‘æ˜¯å¦æ˜¯ä¸­åºéå†å‡åº</span></span><br><span class="line">        <span class="keyword">if</span>(!inOrderDFS(node.left))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ£€æŸ¥ä¸­åºéå†çš„ä¸Šä¸€ä¸ªå€¼å’Œnode.valæ˜¯å¦æ»¡è¶³å‡åº</span></span><br><span class="line">        <span class="keyword">if</span> (node.val &lt;= prev)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ›´æ–°prevä¸ºå½“å‰èŠ‚ç‚¹</span></span><br><span class="line">        prev = node.val;</span><br><span class="line">        <span class="comment">//æ¯”è¾ƒå³å­æ ‘æ˜¯å¦ä¸­åºéå†å‡åº</span></span><br><span class="line">        <span class="keyword">return</span> inOrderDFS(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦:O(n),éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦åˆ¤ç©ºï¼Œæ¯”è¾ƒå’Œprevï¼Œæ›´æ–°prevéƒ½æ˜¯O(1)æ“ä½œ</p>
<p>ç©ºé—´ï¼šO(h),æœ€å·®é€€åŒ–åˆ°O(n)</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨è¿­ä»£çš„ä¸­åºéå†ï¼š</p>
<p>è¿­ä»£çš„ä¸­åºéå†ï¼š</p>
<p>poll,removeå‡ºé˜Ÿ</p>
<p>popå‡ºæ ˆ</p>
<ol>
<li>æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæ ˆstackï¼Œcuråˆå§‹åŒ–ä¸ºroot</li>
<li>è¿›è¡Œå¾ªç¯ï¼Œæ¡ä»¶æ˜¯curä¸ä¸ºnullæˆ–è€…stackéç©º</li>
<li>å¾ªç¯å†…ï¼Œé¦–å…ˆç¬¬ä¸€æ­¥ï¼Œåªè¦curä¸ä¸ºç©ºï¼Œå°±æŠŠcurå…¥æ ˆï¼Œä¹‹åå°±æŠŠcuræ›´æ–°ä¸ºcur.left</li>
<li>curä¸ºç©ºåˆ™å¼€å§‹å°†curæŒ‡å‘stack.pop()ï¼Œå¹¶æŠŠcuråŠ å…¥ç»“æœï¼Œä¹‹åcuræ›´æ–°ä¸ºcur.right</li>
</ol>
<p>å®é™…ä¸Šï¼Œå‹æ ˆå°±æ˜¯ä»£è¡¨è¦å»å…ˆè®¿é—®å·¦å­æ ‘ï¼Œå‡ºæ ˆè¡¨ç¤ºå·¦å­æ ‘å·²ç»éå†å®Œäº†ï¼Œç°åœ¨è®¿é—®curï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å®é™…ä¸Šåœ¨æ­¤åˆ»è¢«è®¿é—®çš„ï¼Œä¸‹ä¸€ä¸ªæ›´æ–°ä¸ºå³å­©å­è¡¨ç¤ºå¤„ç†å³å­æ ‘å»</p>
<p>å…·ä½“åˆ°è¿™ä¸ªé¢˜ï¼Œä¸å¿…ä½¿ç”¨ç»“æœåˆ—è¡¨è®°å½•ï¼Œç»´æŠ¤ä¸€ä¸ªprevï¼Œåœ¨ç¬¬å››æ­¥å‡ºæ ˆçš„æ—¶å€™ï¼Œå’Œprevæ¯”è¾ƒå³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">prev</span> <span class="operator">=</span> Long.MIN_VALUE;</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (cur.val &lt;= prev)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prev =(<span class="type">long</span>)cur.val;</span><br><span class="line">            cur = cur.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n),è¦éå†æ•´ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ“ä½œå‡ºæ ˆå‡ºæ ˆï¼Œæ¯”è¾ƒæ›´æ–°prevéƒ½æ˜¯O(1)</p>
<p>ç©ºé—´:O(H)ï¼Œæ ˆæœ€å·®è¦å‚¨å­˜é«˜åº¦ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤æœ€å·®æ˜¯H&#x3D;n,O(n)</p>
<h1 id="230-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬-K-å°çš„å…ƒç´ "><a href="#230-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬-K-å°çš„å…ƒç´ " class="headerlink" title="230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ "></a>230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ </h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/kth-smallest-element-in-a-bst/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/kth-smallest-element-in-a-bst/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œå’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªç®—æ³•æŸ¥æ‰¾å…¶ä¸­ç¬¬ k å°çš„å…ƒç´ ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [3,1,4,null,2], k &#x3D; 1<br>è¾“å‡ºï¼š1<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [5,3,6,2,4,null,null,1], k &#x3D; 3<br>è¾“å‡ºï¼š3</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä¸º n ã€‚<br>1 &lt;&#x3D; k &lt;&#x3D; n &lt;&#x3D; 104<br>0 &lt;&#x3D; Node.val &lt;&#x3D; 104</p>
<p>è¿›é˜¶ï¼šå¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥&#x2F;åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬ k å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ç®—æ³•ï¼Ÿ</p>
<hr>
<p>æœ€æœ€ç®€å•çš„æƒ³æ³•å°±æ˜¯ä¸­åºéå†çš„ç¬¬kä¸ªå…ƒç´ </p>
<p>æ—¶é—´å¤æ‚åº¦O(h + k)?å…ˆæ‰¾åˆ°æœ€å·¦ä¾§èŠ‚ç‚¹ï¼Œä¹‹åæ‰¾åˆ°ç¬¬kä¸ªç›´æ¥è¿”å›å°±è¡Œï¼Œæœ€å·®O(n);</p>
<p>ç©ºé—´é€’å½’å®ç°çš„è¯O(k)ï¼Œæœ€å·®O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">     <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">     <span class="type">int</span> result;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthSmallest</span><span class="params">(TreeNode root, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        inOrderSearchK(root,k);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">inOrderSearchK</span><span class="params">(TreeNode node,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count &gt;= k)&#123;</span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">//å‰ªæï¼šå¦‚æœåˆå§‹æ—¶countå°±ç›¸ç­‰æˆ–è€…æ›´å¤§äº†ï¼Œè¯´æ˜ä¹‹å‰å·²ç»æ‰¾åˆ°äº†ç»“æœç›´æ¥è¿”å›</span></span><br><span class="line">        &#125;</span><br><span class="line">        inOrderSearchK(node.left,k);<span class="comment">//ç›¸ä¿¡å‡½æ•°å¯ä»¥æ‰¾åˆ°å·¦å­æ ‘ç¬¬kä¸ªæ•°å­—ï¼ˆå¦‚æœç¬¬kä¸ªæ•°å­˜åœ¨åœ¨å·¦å­æ ‘é‡Œé¢çš„è¯ï¼‰ï¼Œå¹¶ä¸”æ›´æ–°count</span></span><br><span class="line">        <span class="keyword">if</span> (count &gt;= k)&#123;</span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">//å‰ªæï¼šå¦‚æœå·¦å­æ ‘å·²ç»æ‰¾åˆ°äº†ï¼Œç›´æ¥è¿”å›å³å¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        count++;<span class="comment">//è®¿é—®äº†æœ¬èŠ‚ç‚¹ï¼Œcountéœ€è¦åŠ ä¸€</span></span><br><span class="line">        <span class="keyword">if</span> (count == k)&#123;</span><br><span class="line">            result = node.val;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inOrderSearchK(node.right,k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿­ä»£å®ç°,å ä½</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthSmallest</span><span class="params">(TreeNode root, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">while</span> (cur!= <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = stack.pop();</span><br><span class="line">            k--;</span><br><span class="line">            <span class="keyword">if</span> (k == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> cur.val;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´ï¼šO(n)</p>
<p>ç©ºé—´:O(h)</p>
<ol start="3">
<li>è¿›é˜¶è¦æ±‚</li>
</ol>
<p>å¯ä»¥ç»™æ¯ä¸ªèŠ‚ç‚¹ä¿å­˜ä¸€ä¸ªè¡¨ç¤ºä»¥æ­¤èŠ‚ç‚¹ä¸ºæ ¹çš„èŠ‚ç‚¹æ•°ç›®</p>
<p>è¿™æ ·ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä»–çš„å·¦å­æ ‘ç­‰äºk-1ï¼Œå½“å‰èŠ‚ç‚¹å°±æ˜¯ç­”æ¡ˆï¼›å¦‚æœå°äºk-1ï¼Œkæ›´æ–°æˆk - (left + 1),Nodeæ›´æ–°ä¸ºnode.right;å¦‚æœå¤§äºï¼Œnodeæ›´æ–°ä¸ºnode.rightå¹¶ä¸”ç»§ç»­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthSmallest</span><span class="params">(TreeNode root, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">MyBst</span> <span class="variable">bst</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBst</span>(root);</span><br><span class="line">        <span class="keyword">return</span> bst.kthSmallest(k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyBst</span> &#123;</span><br><span class="line">    TreeNode root;</span><br><span class="line">    Map&lt;TreeNode, Integer&gt; nodeNum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyBst</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.root = root;</span><br><span class="line">        <span class="built_in">this</span>.nodeNum = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;TreeNode, Integer&gt;();</span><br><span class="line">        countNodeNum(root);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›äºŒå‰æœç´¢æ ‘ä¸­ç¬¬kå°çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthSmallest</span><span class="params">(<span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> getNodeNum(node.left);</span><br><span class="line">            <span class="keyword">if</span> (left &lt; k - <span class="number">1</span>) &#123;</span><br><span class="line">                node = node.right;</span><br><span class="line">                k -= left + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == k - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                node = node.left;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> node.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»Ÿè®¡ä»¥nodeä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘çš„ç»“ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">countNodeNum</span><span class="params">(TreeNode node)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nodeNum.put(node, <span class="number">1</span> + countNodeNum(node.left) + countNodeNum(node.right));</span><br><span class="line">        <span class="keyword">return</span> nodeNum.get(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ä»¥nodeä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘çš„ç»“ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getNodeNum</span><span class="params">(TreeNode node)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nodeNum.getOrDefault(node, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼šé¢„å¤„ç†çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯æ ‘ä¸­ç»“ç‚¹çš„æ€»æ•°ï¼›æˆ‘ä»¬éœ€è¦éå†æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹æ¥ç»Ÿè®¡ä»¥æ¯ä¸ªç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘çš„ç»“ç‚¹æ•°ã€‚æœç´¢çš„æ—¶é—´å¤æ‚åº¦ä¸º O(H)ï¼Œå…¶ä¸­ H æ˜¯æ ‘çš„é«˜åº¦ï¼›å½“æ ‘æ˜¯å¹³è¡¡æ ‘æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å–å¾—æœ€å°å€¼ O(logN)ï¼›å½“æ ‘æ˜¯çº¿æ€§æ ‘æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å–å¾—æœ€å¤§å€¼ O(N)ã€‚</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œç”¨äºå­˜å‚¨ä»¥æ¯ä¸ªç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘çš„ç»“ç‚¹æ•°ã€‚</p>
<ol start="4">
<li>AVL</li>
</ol>
<h1 id="199-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#199-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="199. äºŒå‰æ ‘çš„å³è§†å›¾"></a>199. äºŒå‰æ ‘çš„å³è§†å›¾</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-right-side-view/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/binary-tree-right-side-view/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ æ ¹èŠ‚ç‚¹ rootï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [1,2,3,null,5,null,4]</p>
<p>è¾“å‡ºï¼š[1,3,4]</p>
<p>è§£é‡Šï¼š</p>
<p>ç¤ºä¾‹ 2ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_15.png"
                        class="" title="img_15.png"
                 >

<p>è¾“å…¥ï¼šroot &#x3D; [1,2,3,4,null,null,null,5]</p>
<p>è¾“å‡ºï¼š[1,3,4,5]</p>
<p>è§£é‡Šï¼š</p>
<p>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [1,null,3]</p>
<p>è¾“å‡ºï¼š[1,3]</p>
<p>ç¤ºä¾‹ 4ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; []</p>
<p>è¾“å‡ºï¼š[]</p>
<p>æç¤º:</p>
<p>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ [0,100]<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100 </p>
<hr>
<p>å³è§†å›¾å®é™…ä¸Šå°±æ˜¯æœ€é«˜çš„ã€å¹¶ä¸”æœ€å³ä¾§çš„å…ƒç´ </p>
<p>å¯ä»¥å…ˆå›ºå®šé«˜åº¦ï¼Œæ‰¾å‡ºæ¯ä¸ªé«˜åº¦ä¸Šæœ€å³ä¾§çš„å…ƒç´ ï¼Œä¹‹åé«˜åº¦é€æ¸å¢åŠ å³å¯</p>
<p>è¿™æ ·æ˜¯å…¸å‹çš„å±‚åºéå†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">rightSideView</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Deque&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        result.add(root.val);</span><br><span class="line">        queue.add(root);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                <span class="keyword">if</span> (cur.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                    queue.add(cur.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (cur.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                    queue.add(cur.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!queue.isEmpty())&#123;</span><br><span class="line">            result.add(queue.peekLast().val);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦:O(n)</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šO(å®½åº¦) &#x3D; O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">rightSideView</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(); <span class="comment">// ä½¿ç”¨ Queue æ¥å£ï¼Œæ›´é€šç”¨</span></span><br><span class="line">        queue.offer(root); <span class="comment">// offer æ˜¯æ›´æ¨èçš„å…¥é˜Ÿæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">levelSize</span> <span class="operator">=</span> queue.size(); <span class="comment">// å›ºå®šå½“å‰å±‚çš„èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; levelSize; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> queue.poll();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å¦‚æœæ˜¯å½“å‰å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±åŠ å…¥ç»“æœé›†</span></span><br><span class="line">                <span class="keyword">if</span> (i == levelSize - <span class="number">1</span>) &#123;</span><br><span class="line">                    result.add(cur.val);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å…ˆåŠ å·¦å­©å­ï¼Œå†åŠ å³å­©å­</span></span><br><span class="line">                <span class="keyword">if</span> (cur.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(cur.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (cur.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(cur.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå®ç°æ›´å¸¸è§</p>
<ol start="2">
<li>æ·±åº¦ä¼˜å…ˆ</li>
</ol>
<p>ä¹Ÿå¯ä»¥æ·±åº¦ä¼˜å…ˆ</p>
<p>æ·±åº¦é¡ºåºä¸ºç‰¹æ®Šçš„â€œæ ¹èŠ‚ç‚¹ -&gt; å³èŠ‚ç‚¹ -&gt; å·¦èŠ‚ç‚¹â€</p>
<p>åŒæ—¶è¦è®°å½•éå†çš„æ·±åº¦</p>
<p>å¦‚æœç¬¬ä¸€æ¬¡è®¿é—®åˆ°æŸä¸ªæ·±åº¦å°±åŠ å…¥ç»“æœï¼Œå¯ä»¥é€šè¿‡çœ‹resulté•¿åº¦å’Œæ·±åº¦æ˜¯å¦ç›¸ç­‰åˆ¤æ–­</p>
<p>å…³äºé€’å½’è®°å½•é¢å¤–ä¿¡æ¯çš„å˜é‡ï¼š</p>
<ol>
<li>å¸Œæœ›ä¸€ä¸ªå˜é‡åœ¨é€’å½’â€œå›æº¯â€æ—¶èƒ½è‡ªåŠ¨æ¢å¤åˆ°ä¸Šä¸€å±‚çš„çŠ¶æ€ï¼Œå°±æŠŠå®ƒæ”¾è¿›å‚æ•°é‡Œã€‚</li>
<li>å¦‚æœä¸€ä¸ªå˜é‡æ˜¯æ‰€æœ‰é€’å½’è°ƒç”¨å…±åŒåä½œè¦å®Œæˆçš„æœ€ç»ˆç›®æ ‡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªéœ€è¦è¢«æ‰€æœ‰è°ƒç”¨å‚è€ƒçš„å…±äº«ä¿¡æ¯æ¿ï¼Œå°±æŠŠå®ƒä½œä¸ºæˆå‘˜å˜é‡ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">rightSideView</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> DFS(root,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; result;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; <span class="title function_">DFS</span><span class="params">(TreeNode cur,<span class="type">int</span> depth)</span> &#123;<span class="comment">//depthæ˜¯å½“å‰çš„æ·±åº¦ï¼Œæ ¹èŠ‚ç‚¹æ·±åº¦è®¤ä¸ºæ˜¯0</span></span><br><span class="line">        <span class="keyword">if</span> (cur == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (depth == result.size()) &#123;</span><br><span class="line">            result.add(cur.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è®¿é—®å³å·¦ä¾§ï¼Œå¹¶ä¸”ç¬¬ä¸€æ¬¡åˆ°è¾¾é«˜åº¦åè®°å½•è¿›result</span></span><br><span class="line">        DFS(cur.right,depth+<span class="number">1</span>);</span><br><span class="line">        DFS(cur.left,depth+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´:O(n)</p>
<p>ç©ºé—´:O(h)</p>
<h1 id="114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><a href="#114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨" class="headerlink" title="114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"></a>114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/flatten-binary-tree-to-linked-list/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/flatten-binary-tree-to-linked-list/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a><br>ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œè¯·ä½ å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ï¼š</p>
<p>å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥åŒæ ·ä½¿ç”¨ TreeNode ï¼Œå…¶ä¸­ right å­æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œè€Œå·¦å­æŒ‡é’ˆå§‹ç»ˆä¸º null ã€‚<br>å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥ä¸äºŒå‰æ ‘ å…ˆåºéå† é¡ºåºç›¸åŒã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_16.png"
                        class="" title="img_16.png"
                 >

<p>è¾“å…¥ï¼šroot &#x3D; [1,2,5,3,4,null,6]<br>è¾“å‡ºï¼š[1,null,2,null,3,null,4,null,5,null,6]<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; []<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [0]<br>è¾“å‡ºï¼š[0]</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­ç»“ç‚¹æ•°åœ¨èŒƒå›´ [0, 2000] å†…<br>-100 &lt;&#x3D; Node.val &lt;&#x3D; 100</p>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥ä½¿ç”¨åŸåœ°ç®—æ³•ï¼ˆO(1) é¢å¤–ç©ºé—´ï¼‰å±•å¼€è¿™æ£µæ ‘å—ï¼Ÿ</p>
<hr>
<p>å°±ç›´æ¥å‰åºéå†ä¾æ¬¡æ·»åŠ å³å¯å§</p>
<p>ä½†æ˜¯é¢˜ç›®ç»™çš„solutionæ–¹æ³•æ˜¯void</p>
<p>å› æ­¤å¿…é¡»ä½¿ç”¨åŸæ¥çš„èŠ‚ç‚¹ä¸èƒ½åˆ›å»ºæ–°çš„èŠ‚ç‚¹</p>
<p>æ¯ä¸ªèŠ‚ç‚¹çš„leftæŒ‡é’ˆå’ŒrightæŒ‡é’ˆç›´æ¥ä¿®æ”¹ä¼šå¯¼è‡´æ— æ³•è®¿é—®å·¦å³å­æ ‘</p>
<p>è€ƒè™‘ä½¿ç”¨å˜é‡è®°å½•æŒ‡é’ˆ</p>
<p>ä½†æ˜¯åˆ°äº†å¶èŠ‚ç‚¹ï¼Œå·¦å³æŒ‡é’ˆå‡ä¸ºnullï¼Œæ— æ³•ä¿®æ”¹rightæŒ‡é’ˆã€‚å› æ­¤è€ƒè™‘ç»´æŠ¤ä¸€ä¸ªprevèŠ‚ç‚¹è®°å½•å‰åºéå†çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹</p>
<p>æ€»ä¹‹æ˜¯ï¼Œå¦‚æœè¦ç›´æ¥ä¿®æ”¹cur.rightï¼Œéœ€è¦é¢„çŸ¥ä¸‹ä¸€ä¸ªå‰åºéå†çš„èŠ‚ç‚¹ï¼Œä½†è¿™å¾ˆéš¾åšåˆ°ï¼Œå› æ­¤ä¸å¦¨åœ¨éå†åˆ°curæ—¶ï¼Œè®©prevæŒ‡å‘curï¼Œè¿™æ ·å°±ä¸éœ€è¦é¢„çŸ¥äº† </p>
<p>æ—¶é—´O(n),ç©ºé—´O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flatten</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        prev = <span class="keyword">new</span> <span class="title class_">TreeNode</span>();</span><br><span class="line">        preOrder(root);</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode prev;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(TreeNode cur)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cur == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        prev.right = cur;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> cur.left;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> cur.right;</span><br><span class="line">        cur.left = <span class="literal">null</span>;</span><br><span class="line">        prev = cur;</span><br><span class="line">        preOrder(left);</span><br><span class="line">        preOrder(right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥è¿­ä»£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flatten</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (prev != <span class="literal">null</span>) &#123;</span><br><span class="line">                prev.left = <span class="literal">null</span>;</span><br><span class="line">                prev.right = curr;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> curr.left, right = curr.right;</span><br><span class="line">            <span class="keyword">if</span> (right != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(left);</span><br><span class="line">            &#125;</span><br><span class="line">            prev = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è¿›é˜¶ï¼šMorrisç®—æ³•</li>
</ol>
<p>è¦å®ç°è¿›é˜¶è¦æ±‚ï¼Œå¸¸è§„çš„éå†ç®—æ³•ä¸è¡Œã€‚éœ€è¦ç”¨Morrisç®—æ³•</p>
<ul>
<li>æ ‡å‡†é€’å½’&#x2F;è¿­ä»£éå†ä¸ºä½•éœ€è¦æ ˆï¼Ÿ</li>
</ul>
<p>æ ˆçš„æ ¸å¿ƒä½œç”¨æ˜¯è®°å¿†ã€‚å½“ç¨‹åºä»çˆ¶èŠ‚ç‚¹ P ç§»åŠ¨åˆ°å…¶å·¦å­èŠ‚ç‚¹ L æ—¶ï¼Œå¿…é¡»è®°ä½ Pï¼Œä»¥ä¾¿åœ¨å¤„ç†å®Œæ•´ä¸ªå·¦å­æ ‘åï¼Œèƒ½å¤Ÿè¿”å›åˆ° Pï¼Œç„¶åå†å»å¤„ç† P çš„å³å­æ ‘ã€‚è¿™ä¸ªâ€œè¿”å›â€çš„è·¯å¾„ä¿¡æ¯å°±å­˜å‚¨åœ¨è°ƒç”¨æ ˆï¼ˆé€’å½’ï¼‰æˆ–æˆ‘ä»¬æ‰‹åŠ¨ç»´æŠ¤çš„æ ˆï¼ˆè¿­ä»£ï¼‰ä¸­ã€‚</p>
<ul>
<li>Morris éå†å¦‚ä½•æ›¿ä»£æ ˆï¼Ÿ<br>Morris éå†ç”¨ä¸€ç§æå…¶å·§å¦™çš„æ–¹å¼ï¼Œå°†è¿™ä¸ªâ€œè¿”å›è·¯å¾„â€ä¿¡æ¯ç›´æ¥ç¼–ç åˆ°äº†æ ‘çš„ç»“æ„ä¸­ã€‚å®ƒé€šè¿‡å»ºç«‹ä¸€ä¸ªä¸´æ—¶çš„â€œçº¿ç´¢â€æˆ–â€œæ¡¥æ¢â€ï¼ˆpredecessor.right &#x3D; currï¼‰ï¼Œå®ç°äº†è¿™ä¸ªè®°å¿†åŠŸèƒ½ï¼š</li>
</ul>
<p><strong>è®°å¿†</strong>ï¼šè¿™ä¸ªçº¿ç´¢ä»å·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹ï¼ˆå³ä¸­åºéå†ä¸‹ curr çš„å‰é©±ï¼‰æŒ‡å‘ curr æœ¬èº«ã€‚</p>
<p><strong>è¿”å›</strong>ï¼šå½“å·¦å­æ ‘çš„éå†èµ°åˆ°äº†è¿™ä¸ªæœ€å³èŠ‚ç‚¹æ—¶ï¼Œå®ƒä¼šé€šè¿‡è¿™ä¸ªçº¿ç´¢æŒ‡é’ˆï¼Œç›´æ¥è·³è½¬å› curr èŠ‚ç‚¹ï¼Œå°±åƒé€’å½’è°ƒç”¨è¿”å›ä¸€æ ·ã€‚</p>
<p><strong>æ¢å¤</strong>ï¼šåœ¨â€œè¿”å›â€ä¹‹åï¼Œç®—æ³•ä¼šæ–­å¼€è¿™ä¸ªä¸´æ—¶çº¿ç´¢ï¼Œå°†æ ‘çš„ç»“æ„æ¢å¤åŸçŠ¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flatten</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (cur.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">predecessor</span> <span class="operator">=</span> cur.left;</span><br><span class="line">                <span class="keyword">while</span> (predecessor.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                    predecessor = predecessor.right;</span><br><span class="line">                &#125;</span><br><span class="line">                predecessor.right = cur.right;</span><br><span class="line">                cur.right = cur.left;<span class="comment">//å³æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ª</span></span><br><span class="line">                cur.left = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.right;<span class="comment">//è®¿é—®å‰åºéå†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨çš„å³å­©å­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´ï¼š</p>
<p>å†…å±‚å¾ªç¯ while (predecessor.right !&#x3D; null) ä¼šè®© predecessor æŒ‡é’ˆç§»åŠ¨ã€‚</p>
<p>è®©æˆ‘ä»¬æ¢ä¸ªè§’åº¦ï¼Œä¸çœ‹å•æ¬¡å¾ªç¯ï¼Œè€Œæ˜¯çœ‹æ•´ä¸ªç®—æ³•ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œpredecessor æŒ‡é’ˆæ€»å…±ç§»åŠ¨äº†å¤šå°‘æ­¥ï¼Ÿ</p>
<p>predecessor æŒ‡é’ˆåªä¼šåœ¨èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­ï¼Œæ²¿ç€å³ä¾§é“¾å‘ä¸‹ç§»åŠ¨ã€‚</p>
<p>ç»“è®ºæ˜¯ï¼šæ ‘ä¸­çš„æ¯ä¸€æ¡å³å­è¾¹ï¼Œæœ€å¤šåªä¼šè¢« predecessor æŒ‡é’ˆéå†ä¸€æ¬¡ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå‡è®¾ predecessor æ­£åœ¨ä¸º curr èŠ‚ç‚¹æœåŠ¡ï¼Œå®ƒéå†äº† A -&gt; B è¿™æ¡å³å­è¾¹ã€‚ä¹‹åï¼Œcurr ä¼šç§»åŠ¨åˆ° A æ‰€åœ¨çš„å·¦å­æ ‘å†…éƒ¨ã€‚æœªæ¥çš„ä»»ä½• predecessor æœç´¢éƒ½åªä¼šåœ¨æ›´æ·±å±‚çš„ã€å°šæœªè¢«å¤„ç†çš„å­æ ‘ä¸­è¿›è¡Œï¼Œå®ƒå†ä¹Ÿæ²¡æœ‰æœºä¼šå›åˆ° A -&gt; B è¿™æ¡è¾¹ä¸Šè¿›è¡Œæœç´¢äº†ã€‚</p>
<p>æ ‘ä¸­æ€»å…±æœ‰ n-1 æ¡è¾¹ã€‚predecessor æŒ‡é’ˆåªä¼šæ²¿ç€å³å­è¾¹ç§»åŠ¨ã€‚æ‰€ä»¥ predecessor æŒ‡é’ˆç§»åŠ¨çš„æ€»æ­¥æ•°ï¼ˆå³å†…å±‚å¾ªç¯ä¸­ predecessor &#x3D; predecessor.right çš„æ€»æ‰§è¡Œæ¬¡æ•°ï¼‰ä¸¥æ ¼å°äºè¾¹çš„æ€»æ•° n-1ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ‰€æœ‰å†…å±‚å¾ªç¯åŠ èµ·æ¥çš„æ€»å·¥ä½œé‡æ˜¯ O(n)ã€‚</p>
<h1 id="105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a>105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ preorder å’Œ inorder ï¼Œå…¶ä¸­ preorder æ˜¯äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œ inorder æ˜¯åŒä¸€æ£µæ ‘çš„ä¸­åºéå†ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_17.png"
                        class="" title="img_17.png"
                 >
<p>è¾“å…¥: preorder &#x3D; [3,9,20,15,7], inorder &#x3D; [9,3,15,20,7]<br>è¾“å‡º: [3,9,20,null,null,15,7]<br>ç¤ºä¾‹ 2:</p>
<p>è¾“å…¥: preorder &#x3D; [-1], inorder &#x3D; [-1]<br>è¾“å‡º: [-1]</p>
<p>æç¤º:</p>
<p>1 &lt;&#x3D; preorder.length &lt;&#x3D; 3000<br>inorder.length &#x3D;&#x3D; preorder.length<br>-3000 &lt;&#x3D; preorder[i], inorder[i] &lt;&#x3D; 3000<br>preorder å’Œ inorder å‡ æ— é‡å¤ å…ƒç´ <br>inorder å‡å‡ºç°åœ¨ preorder<br>preorder ä¿è¯ ä¸ºäºŒå‰æ ‘çš„å‰åºéå†åºåˆ—<br>inorder ä¿è¯ ä¸ºäºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—</p>
<hr>
<p>å¯ä»¥è€ƒè™‘åˆ†æ²»</p>
<p>å‰åºéå†çš„é¦–å…ƒç´ å¿…å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼Œåœ¨ä¸­åºéå†æ•°ç»„ä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œç´¢å¼•è®°ä¸ºmidï¼Œæ ¹èŠ‚ç‚¹å·¦ä¾§éƒ½æ˜¯å·¦å­æ ‘éƒ¨åˆ†,leftTreeSize &#x3D; mid - inLeftï¼Œæ ¹èŠ‚ç‚¹å³ä¾§éƒ½æ˜¯å³å­æ ‘éƒ¨åˆ†ï¼›å¯¹äºå‰åºéå†ï¼Œä»ç´¢å¼•ä¸ºpreLeft + 1å¼€å§‹é•¿åº¦ä¸ºleftTreeSizeçš„åŒºé—´æ˜¯å·¦å­æ ‘çš„å‰åºéå†ï¼Œä¹Ÿå°±æ˜¯[preLeft+1,preLeft + leftTreeSize];[preLeft+leftTreeSize+1,æœ«å°¾]æ˜¯å³å­æ ‘çš„å‰åºéå†</p>
<p>åˆ’åˆ†æˆäº†æ›´å°çš„å­é—®é¢˜ï¼Œæ ¹æ®å·¦å³å­æ ‘çš„å‰åºä¸­åºéå†æ„å»ºä¸¤ä¸ªå­æ ‘ï¼Œä¹‹åæ¥åˆ°æ ¹èŠ‚ç‚¹ä¸¤ä¾§å³å¯</p>
<p>åŸºæœ¬æƒ…å†µï¼šå½“ä¸­åºå‰åºé•¿åº¦ä¸º0ï¼Œè¿”å›null</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode() &#123;&#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">     TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">         <span class="built_in">this</span>.val = val;</span><br><span class="line">         <span class="built_in">this</span>.left = left;</span><br><span class="line">         <span class="built_in">this</span>.right = right;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] inorder)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> buildTreeReverse(preorder,inorder,<span class="number">0</span>, preorder.length-<span class="number">1</span>,<span class="number">0</span>,inorder.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="title function_">buildTreeReverse</span><span class="params">(<span class="type">int</span>[] preorder,<span class="type">int</span>[] inorder,<span class="type">int</span> preLeft,<span class="type">int</span> preRight,<span class="type">int</span> inLeft,<span class="type">int</span> inRight)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (preLeft &gt; preRight)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootVal</span> <span class="operator">=</span> preorder[preLeft];</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(rootVal);</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> inLeft; i &lt;= inRight; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (inorder[i] == rootVal)&#123;</span><br><span class="line">                mid = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftTreeSize</span> <span class="operator">=</span> mid - inLeft;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> buildTreeReverse(preorder,inorder,preLeft + <span class="number">1</span>,preLeft + leftTreeSize,inLeft,mid-<span class="number">1</span>);<span class="comment">//è¾¹ç•Œçš„å¤„ç†åŠ¡å¿…æ³¨æ„ï¼Œä¸å¾—ç¡¬ç¼–ç ï¼šæ¯”å¦‚ä½¿ç”¨0ï¼Œ1æˆ–è€…preorder.length()ç­‰ï¼Œè¦ä½¿ç”¨ä¼ å…¥çš„å‚æ•° preLeftï¼ŒpreRightç­‰</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> buildTreeReverse(preorder,inorder,preLeft+leftTreeSize+<span class="number">1</span>,preRight,mid+<span class="number">1</span>,inRight);</span><br><span class="line">        root.left = leftNode;</span><br><span class="line">        root.right = rightNode;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾midéå¸¸è€—æ—¶ï¼Œå¯ä»¥ç”¨å“ˆå¸Œè¡¨è®°å½•inorderä¸­æ¯ä¸ªæ•°å¯¹åº”çš„ç´¢å¼•æŠŠå¤æ‚åº¦ä»O(n^2)ï¼ˆå¦‚æœæ ‘é€€åŒ–æˆé“¾è¡¨ï¼Œæ¯ä¸ªforå¾ªç¯éƒ½æ˜¯O(k),è°ƒç”¨næ¬¡ï¼ŒO(1+â€¦â€¦+n)ï¼‰ä¼˜åŒ–åˆ°O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] inorder)</span> &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123;</span><br><span class="line">            map.put(inorder[i],i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> buildTreeReverse(preorder, inorder,map, <span class="number">0</span>, preorder.length - <span class="number">1</span>, <span class="number">0</span>, inorder.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="title function_">buildTreeReverse</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] inorder,Map&lt;Integer,Integer&gt;map, <span class="type">int</span> preLeft, <span class="type">int</span> preRight, <span class="type">int</span> inLeft, <span class="type">int</span> inRight)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (preLeft &gt; preRight) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootVal</span> <span class="operator">=</span> preorder[preLeft];</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(rootVal);</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> map.get(rootVal);</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftTreeSize</span> <span class="operator">=</span> mid - inLeft;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> buildTreeReverse(preorder, inorder, map,preLeft + <span class="number">1</span>, preLeft + leftTreeSize, inLeft, mid - <span class="number">1</span>);<span class="comment">//è¾¹ç•Œçš„å¤„ç†åŠ¡å¿…æ³¨æ„ï¼Œä¸å¾—ç¡¬ç¼–ç ï¼šæ¯”å¦‚ä½¿ç”¨0ï¼Œ1æˆ–è€…preorder.length()ç­‰ï¼Œè¦ä½¿ç”¨ä¼ å…¥çš„å‚æ•° preLeftï¼ŒpreRightç­‰</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> buildTreeReverse(preorder, inorder, map,preLeft + leftTreeSize + <span class="number">1</span>, preRight, mid + <span class="number">1</span>, inRight);</span><br><span class="line">        root.left = leftNode;</span><br><span class="line">        root.right = rightNode;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ—¶é—´:O(n)</p>
<p>ç©ºé—´ï¼šO(n)</p>
<h1 id="437-è·¯å¾„æ€»å’Œ-III"><a href="#437-è·¯å¾„æ€»å’Œ-III" class="headerlink" title="437. è·¯å¾„æ€»å’Œ III"></a>437. è·¯å¾„æ€»å’Œ III</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-sum-iii/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/path-sum-iii/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œå’Œä¸€ä¸ªæ•´æ•° targetSum ï¼Œæ±‚è¯¥äºŒå‰æ ‘é‡ŒèŠ‚ç‚¹å€¼ä¹‹å’Œç­‰äº targetSum çš„ è·¯å¾„ çš„æ•°ç›®ã€‚</p>
<p>è·¯å¾„ ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_18.png"
                        class="" title="img_18.png"
                 >


<p>è¾“å…¥ï¼šroot &#x3D; [10,5,-3,3,2,null,11,3,-2,null,1], targetSum &#x3D; 8<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šå’Œç­‰äº 8 çš„è·¯å¾„æœ‰ 3 æ¡ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [5,4,8,11,null,13,4,7,2,null,null,5,1], targetSum &#x3D; 22<br>è¾“å‡ºï¼š3</p>
<p>æç¤º:</p>
<p>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ [0,1000]<br>-109 &lt;&#x3D; Node.val &lt;&#x3D; 109<br>-1000 &lt;&#x3D; targetSum &lt;&#x3D; 1000 </p>
<hr>
<p>æ„Ÿè§‰æ˜¯å›æº¯ç®—æ³•</p>
<p>ä½†æ˜¯é¢˜ç›®è¦æ±‚è·¯å¾„å¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å¼€å§‹</p>
<p>éœ€è¦è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°è¿›è¡Œéå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œè®¡ç®—ä»¥è¿™ä¸ªèŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„è·¯å¾„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pathSum</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> sumFrom(root,targetSum);</span><br><span class="line">        count += pathSum(root.left,targetSum);<span class="comment">//è®¡ç®—å·¦å­æ ‘è·¯å¾„å’Œ</span></span><br><span class="line">        count += pathSum(root.right,targetSum);</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">sumFrom</span><span class="params">(TreeNode root, <span class="type">long</span> sum)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">remaining</span> <span class="operator">=</span> sum - root.val;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (remaining == <span class="number">0</span>)&#123;</span><br><span class="line">            result++;</span><br><span class="line">        &#125;</span><br><span class="line">        result += sumFrom(root.left,remaining);<span class="comment">//ç›¸ä¿¡sumFromå¯ä»¥è®¡ç®—ä»¥å·¦å­©å­ä¸ºèµ·ç‚¹çš„æ‰€æœ‰ç­‰äºremainingçš„è·¯å¾„çš„æ•°ç›®</span></span><br><span class="line">        result += sumFrom(root.right,remaining);<span class="comment">//å¯ä»¥çœ‹ä½œéšå¼å›æº¯ï¼Œå‡½æ•°è°ƒç”¨æ ˆæŠŠä¸Šä¸€ä¸ªè°ƒç”¨çš„remainingé”€æ¯äº†ï¼Œå›é€€åˆ°äº†æœ¬å±‚remaining</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´:O(n^2),æœ€åæƒ…å†µä¸‹é“¾çŠ¶äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦éå†ä¹‹åæ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(N^2)</p>
<p>ç©ºé—´ï¼šO(n)</p>
<ol start="2">
<li><p>å‰ç¼€å’Œæ³•</p>
<ol>
<li>ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ <code>prefixSumCount</code> æ¥å­˜å‚¨å‰ç¼€å’ŒåŠå…¶å‡ºç°çš„æ¬¡æ•°ã€‚<code>key</code> æ˜¯å‰ç¼€å’Œï¼Œ<code>value</code> æ˜¯è¯¥å’Œå‡ºç°çš„æ¬¡æ•°ã€‚</li>
<li>æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ·±åº¦ä¼˜å…ˆéå†ï¼Œå¹¶ç»´æŠ¤ä¸€ä¸ªä»æ ¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„å’Œ <code>currentSum</code>ã€‚</li>
<li>åœ¨è®¿é—®ä¸€ä¸ªæ–°èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å°† <code>currentSum</code> åŠ ä¸Šè¯¥èŠ‚ç‚¹çš„å€¼ã€‚</li>
<li>æ­¤æ—¶ï¼Œæˆ‘ä»¬æ£€æŸ¥å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨ <code>currentSum - targetSum</code> è¿™ä¸ªé”®ã€‚å¦‚æœå­˜åœ¨ï¼Œè¯´æ˜ä»æ ¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ä¸Šï¼Œå­˜åœ¨ä¸€ä¸ªå‰ç¼€å’Œï¼Œä½¿å¾—ä»é‚£ä¸ªå‰ç¼€å’Œå¯¹åº”çš„èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„å’Œæ°å¥½ä¸º <code>targetSum</code>ã€‚æˆ‘ä»¬å°† <code>prefixSumCount.get(currentSum - targetSum)</code> çš„å€¼ç´¯åŠ åˆ°æœ€ç»ˆç»“æœ <code>result</code> ä¸­ã€‚</li>
<li>æ›´æ–°å“ˆå¸Œè¡¨ï¼Œå°† <code>currentSum</code> çš„è®¡æ•°åŠ  1ã€‚</li>
<li>é€’å½’åœ°è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦ã€å³å­èŠ‚ç‚¹ã€‚</li>
<li><strong>å…³é”®ä¸€æ­¥ï¼ˆå›æº¯ï¼‰ï¼š</strong> åœ¨ç»“æŸå¯¹å½“å‰èŠ‚ç‚¹åŠå…¶å­æ ‘çš„è®¿é—®ï¼Œå³å°†è¿”å›ä¸Šä¸€å±‚æ—¶ï¼Œéœ€è¦å°† <code>currentSum</code> åœ¨å“ˆå¸Œè¡¨ä¸­çš„è®¡æ•°å‡ 1ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿æˆ‘ä»¬è®°å½•çš„å‰ç¼€å’Œåªå±äºå½“å‰ä»æ ¹åˆ°çˆ¶èŠ‚ç‚¹çš„è·¯å¾„ï¼Œä¸ä¼šå½±å“åˆ°å…„å¼ŸèŠ‚ç‚¹çš„è®¡ç®—ã€‚</li>
</ol>
</li>
</ol>
<p>å‰ç¼€å’Œï¼ˆä»æ ¹èŠ‚ç‚¹åˆ°è¿™ä¸ªèŠ‚ç‚¹ï¼‰ã€‚</p>
<p>é‚£ä¹ˆä»Aåˆ°Bçš„å’Œå°±æ˜¯Bçš„å‰ç¼€å’Œå‡å»Açš„çˆ¶èŠ‚ç‚¹å‰ç¼€å’Œã€‚</p>
<p>å› æ­¤å¯¹äºæ ¹èŠ‚ç‚¹è¦é¢å¤–åˆ›å»ºä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹å¹¶è®¤ä¸ºå‰ç¼€å’Œä¸º0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">   <span class="type">int</span> val;</span><br><span class="line">   TreeNode left;</span><br><span class="line">   TreeNode right;</span><br><span class="line"></span><br><span class="line">   TreeNode() &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">      <span class="built_in">this</span>.left = left;</span><br><span class="line">      <span class="built_in">this</span>.right = right;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pathSum</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;</span><br><span class="line">      Map&lt;Long, Integer&gt; prefixSumCount = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">      prefixSumCount.put(<span class="number">0L</span>,<span class="number">1</span>);</span><br><span class="line">      <span class="keyword">return</span> dfs(root,<span class="number">0</span>,targetSum,prefixSumCount);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(TreeNode node, <span class="type">long</span> currentSum, <span class="type">int</span> targetSum, Map&lt;Long, Integer&gt; prefixSumCount)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 1. â€œé€‰æ‹©â€ï¼šå°†å½“å‰èŠ‚ç‚¹åŠ å…¥è·¯å¾„ï¼Œæ›´æ–° currentSum å’Œ prefixSumCount</span></span><br><span class="line"></span><br><span class="line">      currentSum += node.val;</span><br><span class="line">      <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> prefixSumCount.getOrDefault(currentSum - targetSum,<span class="number">0</span>);</span><br><span class="line">      prefixSumCount.put(currentSum, prefixSumCount.getOrDefault(currentSum, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//ç»§ç»­æ¢ç´¢</span></span><br><span class="line">      count += dfs(node.left, currentSum, targetSum, prefixSumCount);</span><br><span class="line">      count += dfs(node.right, currentSum, targetSum, prefixSumCount);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 3. â€œæ’¤é”€â€ (Unchoose/Backtrack)ï¼š</span></span><br><span class="line">      <span class="comment">// å°†å½“å‰èŠ‚ç‚¹ä»è·¯å¾„ä¸­ç§»é™¤ï¼Œæ¢å¤ prefixSumCount çš„çŠ¶æ€</span></span><br><span class="line">      <span class="comment">//ä¿è¯å½“å‰èŠ‚ç‚¹çš„å‰ç¼€åªèƒ½è¢«å­æ ‘é‡Œé¢çš„èŠ‚ç‚¹çœ‹åˆ°ï¼Œä¸è¢«å…¶ä»–ä»»ä½•èŠ‚ç‚¹çœ‹åˆ°</span></span><br><span class="line">      <span class="comment">//å½“å‰èŠ‚ç‚¹ä»¥åŠä»–çš„å­æ ‘éƒ½è¢«æ¢ç´¢å®Œäº†ï¼Œç°åœ¨æ’¤é”€å½±å“æŠŠæ§åˆ¶äº¤è¿˜ç»™çˆ¶èŠ‚ç‚¹ã€‚</span></span><br><span class="line"></span><br><span class="line">      prefixSumCount.put(currentSum, prefixSumCount.get(currentSum) - <span class="number">1</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//å¯¹äºæ ‘çš„é€‰æ‹©ï¼Œå› ä¸ºåªæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œå› æ­¤ç›´æ¥è¿”å›äº†</span></span><br><span class="line">      <span class="keyword">return</span> count;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´:O(n)</p>
<p>ç©ºé—´ï¼šOï¼ˆn)</p>
<hr>
<p>ä»å¹¿ä¹‰ä¸Šè®²ï¼Œè¿™ä¸¤ç§è§£æ³•éƒ½è¿ç”¨äº†å›æº¯çš„æ€æƒ³**ã€‚ä½†å®ƒä»¬åœ¨çŠ¶æ€ç®¡ç†ä¸Šçš„ä¸åŒï¼Œå¯¼è‡´äº†ä»£ç å½¢å¼ä¸Šçš„å·®å¼‚ï¼Œä¸€ä¸ªçœ‹èµ·æ¥æœ‰â€œå›é€€â€æ­¥éª¤ï¼Œå¦ä¸€ä¸ªåˆ™æ²¡æœ‰ã€‚</p>
<h3 id="å›æº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³"><a href="#å›æº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³" class="headerlink" title="å›æº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³"></a>å›æº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³</h3><p>å›æº¯ç®—æ³•çš„æœ¬è´¨å¯ä»¥æ¦‚æ‹¬ä¸º <strong>â€œé€‰æ‹©ã€æ¢ç´¢ã€æ’¤é”€â€</strong>ï¼š</p>
<ol>
<li><strong>é€‰æ‹© (Choose)</strong>ï¼šåœ¨å½“å‰çŠ¶æ€ä¸‹ï¼Œé€‰æ‹©ä¸€ä¸ªå¯è¡Œçš„é€‰é¡¹å‘å‰èµ°ä¸€æ­¥ã€‚</li>
<li><strong>æ¢ç´¢ (Explore)</strong>ï¼šåŸºäºè¿™ä¸ªé€‰æ‹©ï¼Œé€’å½’åœ°è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œç»§ç»­å¯»æ‰¾è§£å†³æ–¹æ¡ˆã€‚</li>
<li><strong>æ’¤é”€ (Unchoose&#x2F;Backtrack)</strong>ï¼šå¦‚æœåŸºäºå½“å‰é€‰æ‹©çš„æ¢ç´¢æœ€ç»ˆæ²¡æœ‰æ‰¾åˆ°è§£ï¼Œæˆ–è€…å·²ç»æ¢ç´¢å®Œäº†æ‰€æœ‰å¯èƒ½æ€§ï¼Œé‚£ä¹ˆå°±<strong>æ’¤é”€</strong>åˆšæ‰çš„é€‰æ‹©ï¼Œå°†çŠ¶æ€æ¢å¤åˆ°é€‰æ‹©ä¹‹å‰çš„æ ·å­ï¼Œç„¶åå°è¯•å…¶ä»–çš„é€‰é¡¹ã€‚</li>
</ol>
<p>è¿™ä¸ªâ€œæ’¤é”€â€æ­¥éª¤æ˜¯å›æº¯ç®—æ³•çš„å…³é”®ï¼Œå®ƒä¿è¯äº†åœ¨å°è¯•å®Œä¸€ä¸ªåˆ†æ”¯åï¼Œä¸ä¼šå½±å“åˆ°å¯¹å…¶ä»–åˆ†æ”¯çš„æ¢ç´¢ã€‚</p>
<hr>
<h3 id="è§£æ³•ä¸€-åŒé‡-DFS-ä¸ºä½•æ²¡æœ‰â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ"><a href="#è§£æ³•ä¸€-åŒé‡-DFS-ä¸ºä½•æ²¡æœ‰â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ" class="headerlink" title="è§£æ³•ä¸€ (åŒé‡ DFS) ä¸ºä½•æ²¡æœ‰â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ"></a>è§£æ³•ä¸€ (åŒé‡ DFS) ä¸ºä½•æ²¡æœ‰â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ</h3><p>åœ¨è¿™ä¸ªè§£æ³•ä¸­ï¼Œ<strong>å›æº¯æ˜¯éšå¼å‘ç”Ÿçš„ï¼Œç”±é€’å½’å‡½æ•°çš„è°ƒç”¨æ ˆè‡ªåŠ¨ç®¡ç†</strong>ã€‚</p>
<ol>
<li><strong>çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿ</strong> è¿™é‡Œçš„çŠ¶æ€æ˜¯ <code>remaining</code> (å‰©ä½™çš„ç›®æ ‡å’Œ)ã€‚</li>
<li><strong>çŠ¶æ€æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿ</strong> <code>remaining</code> æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸‹ä¸€æ¬¡é€’å½’è°ƒç”¨çš„ã€‚åœ¨ Java ä¸­ï¼ŒåŸºæœ¬ç±»å‹ (<code>long</code>) çš„å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä½ è°ƒç”¨ <code>countPathsFrom(node.left, remaining)</code> æ—¶ï¼Œæ˜¯æŠŠ <code>remaining</code> çš„ä¸€ä¸ª<strong>å‰¯æœ¬</strong>ä¼ äº†è¿›å»ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆä¸éœ€è¦æ‰‹åŠ¨æ’¤é”€ï¼Ÿ</strong> å½“ <code>countPathsFrom(node.left, remaining)</code> è¿™ä¸ªå‡½æ•°æ‰§è¡Œç»“æŸå¹¶è¿”å›æ—¶ï¼Œå®ƒå¯¹ <code>remaining</code> å‰¯æœ¬çš„æ‰€æœ‰ä¿®æ”¹éƒ½éšç€å‡½æ•°æ ˆçš„é”€æ¯è€Œæ¶ˆå¤±äº†ã€‚ç¨‹åºæ‰§è¡Œæµå›åˆ° <code>countPathsFrom(node, ...)</code> è¿™ä¸ªè°ƒç”¨å±‚çº§æ—¶ï¼Œè¿™é‡Œçš„ <code>remaining</code> å˜é‡çš„å€¼<strong>ä»æœªæ”¹å˜è¿‡</strong>ã€‚å› æ­¤ï¼Œå®ƒå¯ä»¥ç›´æ¥è¢«ç”¨äºå¯¹å³å­æ ‘çš„è°ƒç”¨ <code>countPathsFrom(node.right, remaining)</code>ã€‚</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªåœ¨æ‰€æœ‰é€’å½’è°ƒç”¨ä¸­<strong>å…±äº«å¹¶è¢«ä¿®æ”¹</strong>çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å»â€œæ’¤é”€â€ä¿®æ”¹ã€‚<strong>å‡½æ•°è¿”å›æœ¬èº«å°±èµ·åˆ°äº†â€œæ’¤é”€â€å’Œâ€œæ¢å¤çŠ¶æ€â€çš„ä½œç”¨ã€‚</strong></p>
<hr>
<h3 id="è§£æ³•äºŒ-å‰ç¼€å’Œ-ä¸ºä½•éœ€è¦â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ"><a href="#è§£æ³•äºŒ-å‰ç¼€å’Œ-ä¸ºä½•éœ€è¦â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ" class="headerlink" title="è§£æ³•äºŒ (å‰ç¼€å’Œ) ä¸ºä½•éœ€è¦â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ"></a>è§£æ³•äºŒ (å‰ç¼€å’Œ) ä¸ºä½•éœ€è¦â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ</h3><p>åœ¨è¿™ä¸ªè§£æ³•ä¸­ï¼Œ<strong>å›æº¯å¿…é¡»æ˜¯æ˜¾å¼çš„</strong>ã€‚</p>
<ol>
<li><strong>çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿ</strong> è¿™é‡Œçš„çŠ¶æ€ä¸ä»…ä»…æ˜¯ <code>currentSum</code>ï¼Œæ›´é‡è¦çš„æ˜¯é‚£ä¸ªåœ¨æ‰€æœ‰é€’å½’è°ƒç”¨ä¸­<strong>å…±äº«çš„å“ˆå¸Œè¡¨ <code>prefixSumCount</code></strong>ã€‚åœ¨ Java ä¸­ï¼Œå¯¹è±¡ï¼ˆå¦‚ <code>HashMap</code>ï¼‰æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ï¼Œæ‰€ä»¥åœ¨ä»»ä½•é€’å½’å±‚çº§å¯¹ <code>prefixSumCount</code> çš„ä¿®æ”¹éƒ½ä¼šå½±å“åˆ°å…¶ä»–æ‰€æœ‰å±‚çº§ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆéœ€è¦æ‰‹åŠ¨æ’¤é”€ï¼Ÿ</strong></li>
</ol>
<ul>
<li>å½“ä½ å¤„ç†å®Œ <code>node</code> çš„å·¦å­æ ‘ (<code>dfs(node.left, ...)</code> è¿”å›) åï¼Œä½ å³å°†å¼€å§‹å¤„ç†å®ƒçš„å³å­æ ‘ (<code>dfs(node.right, ...)</code>).</li>
<li>å¦‚æœä¸æ‰§è¡Œæ’¤é”€æ“ä½œ (<code>prefixSumCount.put(..., ... - 1)</code>)ï¼Œé‚£ä¹ˆåœ¨è®¡ç®—å³å­æ ‘çš„è·¯å¾„æ—¶ï¼Œ<code>prefixSumCount</code> ä¸­ä»ç„¶åŒ…å«ç€å½“å‰èŠ‚ç‚¹ <code>node</code> çš„å‰ç¼€å’Œã€‚</li>
<li>è¿™ä¼šäº§ç”Ÿé”™è¯¯ï¼Œå› ä¸ºå³å­æ ‘ä¸­çš„è·¯å¾„ä¸åº”è¯¥å—åˆ°å·¦å­æ ‘è·¯å¾„çš„å½±å“ï¼ˆè·¯å¾„åªèƒ½å‘ä¸‹ï¼‰ã€‚<code>node</code> çš„å‰ç¼€å’Œåªåº”è¯¥å¯¹å®ƒçš„<strong>å­èŠ‚ç‚¹</strong>å¯è§ã€‚å½“æ¢ç´¢å®Œ <code>node</code> çš„æ‰€æœ‰å­æ ‘ï¼Œå‡†å¤‡è¿”å›åˆ° <code>node</code> çš„çˆ¶èŠ‚ç‚¹æ—¶ï¼Œå¿…é¡»å°† <code>node</code> é€ æˆçš„çŠ¶æ€æ”¹å˜ï¼ˆå³å®ƒè‡ªå·±çš„å‰ç¼€å’Œï¼‰ä»å…±äº«çš„ <code>prefixSumCount</code> ä¸­ç§»é™¤ã€‚</li>
</ul>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><table>
<thead>
<tr>
<th align="left">ç‰¹æ€§</th>
<th align="left">è§£æ³•ä¸€ (åŒé‡ DFS)</th>
<th align="left">è§£æ³•äºŒ (å‰ç¼€å’Œ)</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>å›æº¯æ–¹å¼</strong></td>
<td align="left"><strong>éšå¼å›æº¯</strong></td>
<td align="left"><strong>æ˜¾å¼å›æº¯</strong></td>
</tr>
<tr>
<td align="left"><strong>çŠ¶æ€ç®¡ç†</strong></td>
<td align="left">é€šè¿‡å‡½æ•°è°ƒç”¨æ ˆå’Œ<strong>å€¼ä¼ é€’</strong>çš„å‚æ•°ï¼ŒçŠ¶æ€æ˜¯å±€éƒ¨çš„ã€‚</td>
<td align="left">é€šè¿‡<strong>å¼•ç”¨ä¼ é€’</strong>çš„å…±äº«æ•°æ®ç»“æ„ (<code>HashMap</code>)ï¼ŒçŠ¶æ€æ˜¯å…¨å±€çš„ã€‚</td>
</tr>
<tr>
<td align="left"><strong>â€œæ’¤é”€â€æ“ä½œ</strong></td>
<td align="left">å‡½æ•°æ‰§è¡Œå®Œæ¯•è¿”å›ï¼Œè‡ªåŠ¨æ¢å¤ä¸Šä¸€å±‚çŠ¶æ€ã€‚</td>
<td align="left">å¿…é¡»æ‰‹åŠ¨ç¼–ç ï¼Œåœ¨å‡½æ•°è¿”å›å‰æ¢å¤å…±äº«æ•°æ®ç»“æ„çš„çŠ¶æ€ã€‚</td>
</tr>
<tr>
<td align="left"><strong>æœ¬è´¨</strong></td>
<td align="left">éƒ½æ˜¯å›æº¯æ€æƒ³çš„åº”ç”¨ï¼Œå³â€œæ·±å…¥æ¢ç´¢ï¼Œç„¶åé€€å›å°è¯•å…¶ä»–å¯èƒ½â€ã€‚</td>
<td align="left">éƒ½æ˜¯å›æº¯æ€æƒ³çš„åº”ç”¨ï¼Œå³â€œæ·±å…¥æ¢ç´¢ï¼Œç„¶åé€€å›å°è¯•å…¶ä»–å¯èƒ½â€ã€‚</td>
</tr>
</tbody></table>
<h1 id="236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªèŠ‚ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªèŠ‚ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_19.png"
                        class="" title="img_19.png"
                 >
<p>è¾“å…¥ï¼šroot &#x3D; [3,5,1,6,2,0,8,null,null,7,4], p &#x3D; 5, q &#x3D; 1<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šèŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3 ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_20.png"
                        class="" title="img_20.png"
                 >
<p>è¾“å…¥ï¼šroot &#x3D; [3,5,1,6,2,0,8,null,null,7,4], p &#x3D; 5, q &#x3D; 4<br>è¾“å‡ºï¼š5<br>è§£é‡Šï¼šèŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5 ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚<br>ç¤ºä¾‹ 3ï¼š</p>
<p>è¾“å…¥ï¼šroot &#x3D; [1,2], p &#x3D; 1, q &#x3D; 2<br>è¾“å‡ºï¼š1</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [2, 10^5] å†…ã€‚<br>-109 &lt;&#x3D; Node.val &lt;&#x3D; 109<br>æ‰€æœ‰ Node.val äº’ä¸ç›¸åŒ ã€‚<br>p !&#x3D; q<br>p å’Œ q å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</p>
<hr>
<p>åˆ†æ²»ï¼š</p>
<p>å¯ä»¥è½¬åŒ–æˆæ±‚rootå·¦å³å­æ ‘ä¸­ï¼Œæ˜¯å¦å­˜åœ¨æœ€è¿‘å…¬å…±ç¥–å…ˆ</p>
<p>åŸºæœ¬æƒ…å†µå°±æ˜¯å­æ ‘æ ¹èŠ‚ç‚¹ä¸ºnullï¼Œæˆ–è€…æ ¹èŠ‚ç‚¹ç›´æ¥ä¸ºpæˆ–q</p>
<p>è€ƒè™‘é€’å½’ã€‚</p>
<p>åŸºæœ¬æƒ…å†µï¼šnullï¼Œæˆ–ç­‰äºpï¼Œqï¼Œè¿”å›</p>
<p>é€’å½’ï¼šåˆ¤æ–­å·¦å­æ ‘ï¼Œæ˜¯å¦å­˜åœ¨æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚å¦‚æœpï¼Œqéƒ½åœ¨å·¦å­æ ‘ï¼Œä¼šè¿”å›æœ€è¿‘å…¬å…±ç¥–å…ˆï¼›å¦‚æœp,qåªæœ‰ä¸€ä¸ªåœ¨ï¼Œä¼šè¿”å›pæˆ–qï¼›å¦‚æœéƒ½ä¸åœ¨è¿”å›null</p>
<p>åˆ¤æ–­å³å­æ ‘</p>
<p>æ ¹æ®æƒ…å†µè¿”å›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">     TreeNode right;</span><br><span class="line">     TreeNode(<span class="type">int</span> x) &#123; val = x; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span> || root == p || root == q)&#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left,p,q);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right,p,q);</span><br><span class="line">        <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> right;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´O(n),ç©ºé—´O(h) &#x3D; O(n)</p>
<p>ä¸‹é¢çš„é¢˜è§£æ›´å¥½ç†è§£</p>
<p>ä¸€ä¸ªèŠ‚ç‚¹nodeä½œä¸ºå…¬å…±æœ€è¿‘ç¥–å…ˆçš„æ¡ä»¶æ˜¯ï¼Œï¼ˆå·¦å­æ ‘æœ‰pqä¸­çš„ä¸€ä¸ª&amp;&amp;å³å­æ ‘æœ‰pqä¸­çš„ä¸€ä¸ªï¼‰||((node&#x3D;&#x3D;p)||(node&#x3D;&#x3D;q)&amp;&amp;(å·¦å­æ ‘æœ‰pq||å³å­æ ‘æœ‰pq))</p>
<p>å› æ­¤å°±è½¬åŒ–æˆäº†åˆ¤æ–­å·¦å³å­æ ‘æœ‰æ²¡æœ‰pqã€‚</p>
<p>ä½¿ç”¨è¾…åŠ©å‡½æ•°dfsï¼Œå¹¶ä½¿ç”¨ansè®°å½•æœ€è¿‘å…¬å…±ç¥–å…ˆ</p>
<p>åŸºæœ¬æƒ…å†µrootä¸ºnullè¿”å›false</p>
<p>æœç´¢leftHas å’ŒrightHas</p>
<p>åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œå¦‚æœæ‰¾åˆ°ç›´æ¥æ›´æ–°</p>
<p>æœ€åè¿”å›leftHas||rightHas</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">     <span class="type">int</span> val;</span><br><span class="line">     TreeNode left;</span><br><span class="line">   TreeNode right;</span><br><span class="line">     TreeNode(<span class="type">int</span> x) &#123; val = x; &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">     TreeNode result;</span><br><span class="line">     <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(TreeNode root,TreeNode p,TreeNode q)</span>&#123;</span><br><span class="line">         <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="type">boolean</span> <span class="variable">leftHas</span> <span class="operator">=</span> dfs(root.left,p,q);<span class="comment">//ç›¸ä¿¡dfsèƒ½æ‰¾åˆ°å·¦å­æ ‘æ˜¯å¦å­˜åœ¨pæˆ–qï¼Œå¹¶ä¸”å‰¯ä½œç”¨å¯ä»¥æŠŠresultæ›´æ–°ä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆå¦‚æœæœ€è¿‘å…¬å…±ç¥–å…ˆå­˜åœ¨åœ¨å·¦å­æ ‘ï¼‰</span></span><br><span class="line">         <span class="type">boolean</span> <span class="variable">rihgtHas</span> <span class="operator">=</span> dfs(root.right,p,q);</span><br><span class="line">         <span class="keyword">if</span> ((leftHas&amp;&amp;rihgtHas) || (root==p || root==q)&amp;&amp;(leftHas||rihgtHas))&#123;</span><br><span class="line">             result = root;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> leftHas || rihgtHas || root == p || root == q;</span><br><span class="line">         </span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        dfs(root,p,q);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"></a>124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</h1><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-maximum-path-sum/description/?envType=study-plan-v2&envId=top-100-liked" >https://leetcode.cn/problems/binary-tree-maximum-path-sum/description/?envType=study-plan-v2&amp;envId=top-100-liked<i class="fas fa-external-link-alt"></i></a></p>
<p>äºŒå‰æ ‘ä¸­çš„ è·¯å¾„ è¢«å®šä¹‰ä¸ºä¸€æ¡èŠ‚ç‚¹åºåˆ—ï¼Œåºåˆ—ä¸­æ¯å¯¹ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´éƒ½å­˜åœ¨ä¸€æ¡è¾¹ã€‚åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€æ¡è·¯å¾„åºåˆ—ä¸­ è‡³å¤šå‡ºç°ä¸€æ¬¡ ã€‚è¯¥è·¯å¾„ è‡³å°‘åŒ…å«ä¸€ä¸ª èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p>
<p>è·¯å¾„å’Œ æ˜¯è·¯å¾„ä¸­å„èŠ‚ç‚¹å€¼çš„æ€»å’Œã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶ æœ€å¤§è·¯å¾„å’Œ ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_21.png"
                        class="" title="img_21.png"
                 >

<p>è¾“å…¥ï¼šroot &#x3D; [1,2,3]<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼šæœ€ä¼˜è·¯å¾„æ˜¯ 2 -&gt; 1 -&gt; 3 ï¼Œè·¯å¾„å’Œä¸º 2 + 1 + 3 &#x3D; 6<br>ç¤ºä¾‹ 2ï¼š</p>
<img  
                       lazyload
                       alt="image"
                       data-src="/2025/11/03/%E4%BA%8C%E5%8F%89%E6%A0%91/img_22.png"
                        class="" title="img_22.png"
                 >

<p>è¾“å…¥ï¼šroot &#x3D; [-10,9,20,null,null,15,7]<br>è¾“å‡ºï¼š42<br>è§£é‡Šï¼šæœ€ä¼˜è·¯å¾„æ˜¯ 15 -&gt; 20 -&gt; 7 ï¼Œè·¯å¾„å’Œä¸º 15 + 20 + 7 &#x3D; 42</p>
<p>æç¤ºï¼š</p>
<p>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ [1, 3 * 104]<br>-1000 &lt;&#x3D; Node.val &lt;&#x3D; 1000</p>
<hr>
<p>åœ¨ 543. äºŒå‰æ ‘çš„ç›´å¾„ é—®é¢˜ä¸­ï¼Œå‘ç°ç»è¿‡æŸä¸ªèŠ‚ç‚¹çš„æœ€å¤§ç›´å¾„å°±æ˜¯ä»–çš„å·¦å³å­æ ‘æœ€å¤§é«˜åº¦ä¹‹å’ŒåŠ 1</p>
<p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œç»è¿‡æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œéƒ½æ˜¯å®ƒMAXï¼ˆå·¦å­æ ‘æœ€å¤§å’Œ+nodeï¼Œå³å­æ ‘æœ€å¤§å’Œ+nodeï¼Œå·¦å­æ ‘æœ€å¤§å’ŒåŠ ä¸Šå³å­æ ‘æœ€å¤§å’Œ+nodeï¼‰</p>
<p>æœŸé—´åˆ©ç”¨å‰¯ä½œç”¨ç»´æŠ¤ä¸€ä¸ªmaxSum</p>
<p>ä¸ºäº†é¿å…é‡å¤ï¼Œé€’å½’å‡½æ•°è¿”å›ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„æœ€å¤§è·¯å¾„å’Œ</p>
<p>å…·ä½“å®ç°æ—¶æ³¨æ„ï¼š</p>
<ol>
<li>å¦‚æœå¾—åˆ°çš„å­æ ‘æœ€å¤§å’Œä¸ºè´Ÿæ•°ï¼Œç›´æ¥å–0å³å¯ï¼ˆä»£è¡¨ç€æˆ‘ä»¬ä¸ç”¨è¿™æ¡è·¯å¾„ï¼Œè´¡çŒ®ä¸º0ï¼‰</li>
<li>åŸºæœ¬æƒ…å†µï¼Œrootä¸ºnullï¼Œç›´æ¥è¿”å›0</li>
<li>åˆå§‹åŒ–maxSumå¿…é¡»æ˜¯Integer.MINVALUEï¼Œæœ€åˆå¿…é¡»æ˜¯ä¸ªæœ€å°å€¼ï¼Œæˆ‘ä»¬ä¹‹åä½¿ç”¨maxæ‰èƒ½ä¿è¯ä¸è¢«åˆå§‹å€¼å¹²æ‰°</li>
<li>é€’å½’å‡½æ•°è¿”å›çš„æ˜¯ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„æœ€å¤§è·¯å¾„å’Œ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">   <span class="type">int</span> val;</span><br><span class="line">   TreeNode left;</span><br><span class="line">   TreeNode right;</span><br><span class="line"></span><br><span class="line">   TreeNode() &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   TreeNode(<span class="type">int</span> val) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">      <span class="built_in">this</span>.left = left;</span><br><span class="line">      <span class="built_in">this</span>.right = right;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="type">int</span> <span class="variable">maxSum</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxPathSumHelper</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">int</span> <span class="variable">leftMaxSum</span> <span class="operator">=</span> maxPathSumHelper(root.left);</span><br><span class="line">      <span class="type">int</span> <span class="variable">rightMaxSum</span> <span class="operator">=</span> maxPathSumHelper(root.right);</span><br><span class="line">      <span class="type">int</span> <span class="variable">leftGain</span> <span class="operator">=</span> Math.max(<span class="number">0</span>,leftMaxSum);</span><br><span class="line">      <span class="type">int</span> <span class="variable">rightGain</span> <span class="operator">=</span> Math.max(<span class="number">0</span>,rightMaxSum);</span><br><span class="line">      maxSum = Math.max(leftGain+rightGain+root.val,maxSum);</span><br><span class="line">      <span class="keyword">return</span> Math.max(leftGain,rightGain) + root.val;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxPathSum</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">      maxPathSumHelper(root);</span><br><span class="line">      <span class="keyword">return</span> maxSum;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦:O(n),ç©ºé—´O(H) &#x3D; O(n)</p>

                    
                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                äºŒå‰æ ‘
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2025/11/03/äºŒå‰æ ‘/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    ä½œè€…
                </div>
                <div class="content">stellogic</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    å‘å¸ƒäº
                </div>
                <div class="content">2025-11-03 02:41</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    è®¸å¯
                </div>
                <div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0">
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
                        
                            <i class="fa-brands fa-creative-commons"></i>
                            <i class="fa-brands fa-creative-commons-by"></i>
                            <i class="fa-brands fa-creative-commons-nc"></i>
                            <i class="fa-brands fa-creative-commons-sa"></i>
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="å¤åˆ¶ç‰ˆæƒä¿¡æ¯" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/">äºŒå‰æ ‘</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ° QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="åˆ†äº«åˆ°å¾®ä¿¡"
            data-tooltip-img-tip="å¾®ä¿¡æ‰«ä¸€æ‰«"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="åˆ†äº«åˆ°å¾®åš"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                

                
                    <div class="post-nav border-box">
                        
                            <div class="prev-post">
                                <a class="prev"
                                   rel="prev"
                                   href="/2025/11/05/%E5%93%88%E5%B8%8C/"
                                   title="å“ˆå¸Œ"
                                >
                                    <span class="left arrow-icon flex-center">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">å“ˆå¸Œ</span>
                                        <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                                    </span>
                                </a>
                            </div>
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2025/10/24/%E6%A0%88/"
                                   title="æ ˆ"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">æ ˆ</span>
                                        <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;è¯„è®º
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">è¯„è®ºæ’ä»¶åŠ è½½å¤±è´¥</span>
    <button class="reload keep-button">ç‚¹å‡»é‡æ–°åŠ è½½</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">æ­£åœ¨åŠ è½½è¯„è®ºæ’ä»¶</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="giscus-comments-container">
        <div class="giscus" id="giscus"></div>
        <script 
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          if (!window.KeepCommentPlugin?.getGiscusTheme) {
            window.KeepCommentPlugin.getGiscusTheme = () => {
              return document.documentElement.classList.contains('dark-mode') ? 'dark_dimmed' : 'light_tritanopia'
            }
          }

          if (!window.KeepCommentPlugin?.changeGiscusTheme) {
            window.KeepCommentPlugin.changeGiscusTheme = () => {
              const iframe = document.querySelector('iframe.giscus-frame')
              iframe && iframe.contentWindow.postMessage({
                giscus: {
                  setConfig: {
                    theme: window.KeepCommentPlugin.getGiscusTheme()
                  }
                }
              }, 'https://giscus.app')
            }
          }

          if (!window.KeepCommentPlugin?.initGiscus) {
            window.KeepCommentPlugin.initGiscus = () => {
              const script = document.createElement('script')
              script.async = true
              script.src = 'https://giscus.app/client.js'
              script.setAttribute('data-repo', 'Stellogic/Stellogic.github.io')
              script.setAttribute('data-repo-id', 'R_kgDOOkF4SA')
              script.setAttribute('data-category', 'Announcements')
              script.setAttribute('data-category-id', 'DIC_kwDOOkF4SM4Cp-Ln')
              script.setAttribute('data-reactions-enabled', '1')
              script.setAttribute('data-lang', 'zh-CN')
              script.setAttribute('data-mapping', 'pathname')
              script.setAttribute('data-strict', '0')
              script.setAttribute('data-emit-metadata', '0')
              script.setAttribute('data-input-position', 'top')
              script.setAttribute('crossorigin', 'anonymous')
              script.setAttribute('loading', 'lazy')
              script.setAttribute('data-theme', window.KeepCommentPlugin.getGiscusTheme())
              document.querySelector('.giscus-comments-container').appendChild(script)
              script.onerror = () => {
                window.KeepCommentPlugin.loadFailHandle()
              }
              script.onload = () => {
                window.KeepCommentPlugin.hideLoading()
              }
              const toggleThemeBtn = document.querySelector('.tool-toggle-theme-mode')
              toggleThemeBtn && toggleThemeBtn.addEventListener('click', () => {
                window.KeepCommentPlugin.changeGiscusTheme()
              })
            }
          }

          if ('false' === "true") {
            setTimeout(() => {
              window.KeepCommentPlugin.initGiscus()
            }, 1000)
          } else {
            window.addEventListener("DOMContentLoaded", window.KeepCommentPlugin.initGiscus)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#94-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="nav-number">1.</span> <span class="nav-text">94.äºŒå‰æ ‘çš„ä¸­åºéå†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#104-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6"><span class="nav-number">2.</span> <span class="nav-text">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#226-%E7%BF%BB%E8%BD%AC%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">3.</span> <span class="nav-text">226. ç¿»è½¬äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#101-%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">4.</span> <span class="nav-text">101. å¯¹ç§°äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#543-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84"><span class="nav-number">5.</span> <span class="nav-text">543. äºŒå‰æ ‘çš„ç›´å¾„</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#102-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="nav-number">6.</span> <span class="nav-text">102. äºŒå‰æ ‘çš„å±‚åºéå†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#108-%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91"><span class="nav-number">7.</span> <span class="nav-text">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#98-%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91"><span class="nav-number">8.</span> <span class="nav-text">98. éªŒè¯äºŒå‰æœç´¢æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#230-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%AC%AC-K-%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0"><span class="nav-number">9.</span> <span class="nav-text">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#199-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%8F%B3%E8%A7%86%E5%9B%BE"><span class="nav-number">10.</span> <span class="nav-text">199. äºŒå‰æ ‘çš„å³è§†å›¾</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#114-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8"><span class="nav-number">11.</span> <span class="nav-text">114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#105-%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">12.</span> <span class="nav-text">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#437-%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C-III"><span class="nav-number">13.</span> <span class="nav-text">437. è·¯å¾„æ€»å’Œ III</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E7%9A%84%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3"><span class="nav-number">13.1.</span> <span class="nav-text">å›æº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-%E5%8F%8C%E9%87%8D-DFS-%E4%B8%BA%E4%BD%95%E6%B2%A1%E6%9C%89%E2%80%9C%E6%98%BE%E5%BC%8F%E2%80%9D%E7%9A%84%E5%9B%9E%E9%80%80%E6%AD%A5%E9%AA%A4%EF%BC%9F"><span class="nav-number">13.2.</span> <span class="nav-text">è§£æ³•ä¸€ (åŒé‡ DFS) ä¸ºä½•æ²¡æœ‰â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C-%E5%89%8D%E7%BC%80%E5%92%8C-%E4%B8%BA%E4%BD%95%E9%9C%80%E8%A6%81%E2%80%9C%E6%98%BE%E5%BC%8F%E2%80%9D%E7%9A%84%E5%9B%9E%E9%80%80%E6%AD%A5%E9%AA%A4%EF%BC%9F"><span class="nav-number">13.3.</span> <span class="nav-text">è§£æ³•äºŒ (å‰ç¼€å’Œ) ä¸ºä½•éœ€è¦â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">13.4.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="nav-number">14.</span> <span class="nav-text">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#124-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C"><span class="nav-number">15.</span> <span class="nav-text">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            
<footer class="footer border-box">
    <div class="copyright-info info-item">
    &copy;&nbsp;2025
    
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">stellogic</a>
        
    </div>

    <div class="theme-info info-item">
        ç”±&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;é©±åŠ¨&nbsp;&&nbsp;ä¸»é¢˜&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    
        
        <div class="deploy-info info-item">
            
                <a target="_blank" rel="nofollow" href="https://stellogic.github.io/">
            
            æœ¬ç«™ç”± <span class="tooltip" data-tooltip-content="GitHub Pages"><img src="/images/brands/github.png"></span> æä¾›éƒ¨ç½²æœåŠ¡
            
                </a>
            
        </div>
    

    
        <div class="count-info info-item">
            

            
                <span class="count-item border-box uv">
                    <span class="item-type border-box">è®¿å®¢æ•°</span>
                    <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span>
                </span>
            

            
                <span class="count-item border-box pv">
                    <span class="item-type border-box">è®¿é—®é‡</span>
                    <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span>
                </span>
            
        </div>
    

    
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#94-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="nav-number">1.</span> <span class="nav-text">94.äºŒå‰æ ‘çš„ä¸­åºéå†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#104-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6"><span class="nav-number">2.</span> <span class="nav-text">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#226-%E7%BF%BB%E8%BD%AC%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">3.</span> <span class="nav-text">226. ç¿»è½¬äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#101-%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">4.</span> <span class="nav-text">101. å¯¹ç§°äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#543-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84"><span class="nav-number">5.</span> <span class="nav-text">543. äºŒå‰æ ‘çš„ç›´å¾„</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#102-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="nav-number">6.</span> <span class="nav-text">102. äºŒå‰æ ‘çš„å±‚åºéå†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#108-%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91"><span class="nav-number">7.</span> <span class="nav-text">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#98-%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91"><span class="nav-number">8.</span> <span class="nav-text">98. éªŒè¯äºŒå‰æœç´¢æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#230-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%AC%AC-K-%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0"><span class="nav-number">9.</span> <span class="nav-text">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#199-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%8F%B3%E8%A7%86%E5%9B%BE"><span class="nav-number">10.</span> <span class="nav-text">199. äºŒå‰æ ‘çš„å³è§†å›¾</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#114-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8"><span class="nav-number">11.</span> <span class="nav-text">114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#105-%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">12.</span> <span class="nav-text">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#437-%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C-III"><span class="nav-number">13.</span> <span class="nav-text">437. è·¯å¾„æ€»å’Œ III</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E7%9A%84%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3"><span class="nav-number">13.1.</span> <span class="nav-text">å›æº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-%E5%8F%8C%E9%87%8D-DFS-%E4%B8%BA%E4%BD%95%E6%B2%A1%E6%9C%89%E2%80%9C%E6%98%BE%E5%BC%8F%E2%80%9D%E7%9A%84%E5%9B%9E%E9%80%80%E6%AD%A5%E9%AA%A4%EF%BC%9F"><span class="nav-number">13.2.</span> <span class="nav-text">è§£æ³•ä¸€ (åŒé‡ DFS) ä¸ºä½•æ²¡æœ‰â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C-%E5%89%8D%E7%BC%80%E5%92%8C-%E4%B8%BA%E4%BD%95%E9%9C%80%E8%A6%81%E2%80%9C%E6%98%BE%E5%BC%8F%E2%80%9D%E7%9A%84%E5%9B%9E%E9%80%80%E6%AD%A5%E9%AA%A4%EF%BC%9F"><span class="nav-number">13.3.</span> <span class="nav-text">è§£æ³•äºŒ (å‰ç¼€å’Œ) ä¸ºä½•éœ€è¦â€œæ˜¾å¼â€çš„å›é€€æ­¥éª¤ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">13.4.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="nav-number">14.</span> <span class="nav-text">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#124-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C"><span class="nav-number">15.</span> <span class="nav-text">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</span></a></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/toggle-theme.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/local-search.js"></script>


<!-- lazyload -->

    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/lazyload.js"></script>


<div class="">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/post-helper.js"></script>

        <!-- toc -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/toc.js"></script>
        

        <!-- copyright-info -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/copyright-info.js"></script>
        

        <!-- share -->
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@4.2.5/source/js/post/share.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->



</body>
</html>
